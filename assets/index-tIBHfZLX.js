(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const u of o)if(u.type==="childList")for(const f of u.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&s(f)}).observe(document,{childList:!0,subtree:!0});function n(o){const u={};return o.integrity&&(u.integrity=o.integrity),o.referrerPolicy&&(u.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?u.credentials="include":o.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function s(o){if(o.ep)return;o.ep=!0;const u=n(o);fetch(o.href,u)}})();function J_(i){return i&&i.__esModule&&Object.prototype.hasOwnProperty.call(i,"default")?i.default:i}var tm={exports:{}},Nl={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var o0;function Sw(){if(o0)return Nl;o0=1;var i=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(s,o,u){var f=null;if(u!==void 0&&(f=""+u),o.key!==void 0&&(f=""+o.key),"key"in o){u={};for(var m in o)m!=="key"&&(u[m]=o[m])}else u=o;return o=u.ref,{$$typeof:i,type:s,key:f,ref:o!==void 0?o:null,props:u}}return Nl.Fragment=e,Nl.jsx=n,Nl.jsxs=n,Nl}var l0;function ww(){return l0||(l0=1,tm.exports=Sw()),tm.exports}var T=ww(),nm={exports:{}},Ce={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var u0;function Aw(){if(u0)return Ce;u0=1;var i=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),f=Symbol.for("react.context"),m=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),y=Symbol.for("react.memo"),E=Symbol.for("react.lazy"),w=Symbol.iterator;function A(R){return R===null||typeof R!="object"?null:(R=w&&R[w]||R["@@iterator"],typeof R=="function"?R:null)}var k={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},N=Object.assign,M={};function P(R,Y,J){this.props=R,this.context=Y,this.refs=M,this.updater=J||k}P.prototype.isReactComponent={},P.prototype.setState=function(R,Y){if(typeof R!="object"&&typeof R!="function"&&R!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,R,Y,"setState")},P.prototype.forceUpdate=function(R){this.updater.enqueueForceUpdate(this,R,"forceUpdate")};function K(){}K.prototype=P.prototype;function se(R,Y,J){this.props=R,this.context=Y,this.refs=M,this.updater=J||k}var X=se.prototype=new K;X.constructor=se,N(X,P.prototype),X.isPureReactComponent=!0;var he=Array.isArray,le={H:null,A:null,T:null,S:null,V:null},me=Object.prototype.hasOwnProperty;function V(R,Y,J,W,fe,Re){return J=Re.ref,{$$typeof:i,type:R,key:Y,ref:J!==void 0?J:null,props:Re}}function x(R,Y){return V(R.type,Y,void 0,void 0,void 0,R.props)}function I(R){return typeof R=="object"&&R!==null&&R.$$typeof===i}function O(R){var Y={"=":"=0",":":"=2"};return"$"+R.replace(/[=:]/g,function(J){return Y[J]})}var U=/\/+/g;function z(R,Y){return typeof R=="object"&&R!==null&&R.key!=null?O(""+R.key):Y.toString(36)}function C(){}function at(R){switch(R.status){case"fulfilled":return R.value;case"rejected":throw R.reason;default:switch(typeof R.status=="string"?R.then(C,C):(R.status="pending",R.then(function(Y){R.status==="pending"&&(R.status="fulfilled",R.value=Y)},function(Y){R.status==="pending"&&(R.status="rejected",R.reason=Y)})),R.status){case"fulfilled":return R.value;case"rejected":throw R.reason}}throw R}function We(R,Y,J,W,fe){var Re=typeof R;(Re==="undefined"||Re==="boolean")&&(R=null);var ye=!1;if(R===null)ye=!0;else switch(Re){case"bigint":case"string":case"number":ye=!0;break;case"object":switch(R.$$typeof){case i:case e:ye=!0;break;case E:return ye=R._init,We(ye(R._payload),Y,J,W,fe)}}if(ye)return fe=fe(R),ye=W===""?"."+z(R,0):W,he(fe)?(J="",ye!=null&&(J=ye.replace(U,"$&/")+"/"),We(fe,Y,J,"",function(Xn){return Xn})):fe!=null&&(I(fe)&&(fe=x(fe,J+(fe.key==null||R&&R.key===fe.key?"":(""+fe.key).replace(U,"$&/")+"/")+ye)),Y.push(fe)),1;ye=0;var Ae=W===""?".":W+":";if(he(R))for(var ke=0;ke<R.length;ke++)W=R[ke],Re=Ae+z(W,ke),ye+=We(W,Y,J,Re,fe);else if(ke=A(R),typeof ke=="function")for(R=ke.call(R),ke=0;!(W=R.next()).done;)W=W.value,Re=Ae+z(W,ke++),ye+=We(W,Y,J,Re,fe);else if(Re==="object"){if(typeof R.then=="function")return We(at(R),Y,J,W,fe);throw Y=String(R),Error("Objects are not valid as a React child (found: "+(Y==="[object Object]"?"object with keys {"+Object.keys(R).join(", ")+"}":Y)+"). If you meant to render a collection of children, use an array instead.")}return ye}function Z(R,Y,J){if(R==null)return R;var W=[],fe=0;return We(R,W,"","",function(Re){return Y.call(J,Re,fe++)}),W}function ue(R){if(R._status===-1){var Y=R._result;Y=Y(),Y.then(function(J){(R._status===0||R._status===-1)&&(R._status=1,R._result=J)},function(J){(R._status===0||R._status===-1)&&(R._status=2,R._result=J)}),R._status===-1&&(R._status=0,R._result=Y)}if(R._status===1)return R._result.default;throw R._result}var re=typeof reportError=="function"?reportError:function(R){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var Y=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof R=="object"&&R!==null&&typeof R.message=="string"?String(R.message):String(R),error:R});if(!window.dispatchEvent(Y))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",R);return}console.error(R)};function te(){}return Ce.Children={map:Z,forEach:function(R,Y,J){Z(R,function(){Y.apply(this,arguments)},J)},count:function(R){var Y=0;return Z(R,function(){Y++}),Y},toArray:function(R){return Z(R,function(Y){return Y})||[]},only:function(R){if(!I(R))throw Error("React.Children.only expected to receive a single React element child.");return R}},Ce.Component=P,Ce.Fragment=n,Ce.Profiler=o,Ce.PureComponent=se,Ce.StrictMode=s,Ce.Suspense=p,Ce.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=le,Ce.__COMPILER_RUNTIME={__proto__:null,c:function(R){return le.H.useMemoCache(R)}},Ce.cache=function(R){return function(){return R.apply(null,arguments)}},Ce.cloneElement=function(R,Y,J){if(R==null)throw Error("The argument must be a React element, but you passed "+R+".");var W=N({},R.props),fe=R.key,Re=void 0;if(Y!=null)for(ye in Y.ref!==void 0&&(Re=void 0),Y.key!==void 0&&(fe=""+Y.key),Y)!me.call(Y,ye)||ye==="key"||ye==="__self"||ye==="__source"||ye==="ref"&&Y.ref===void 0||(W[ye]=Y[ye]);var ye=arguments.length-2;if(ye===1)W.children=J;else if(1<ye){for(var Ae=Array(ye),ke=0;ke<ye;ke++)Ae[ke]=arguments[ke+2];W.children=Ae}return V(R.type,fe,void 0,void 0,Re,W)},Ce.createContext=function(R){return R={$$typeof:f,_currentValue:R,_currentValue2:R,_threadCount:0,Provider:null,Consumer:null},R.Provider=R,R.Consumer={$$typeof:u,_context:R},R},Ce.createElement=function(R,Y,J){var W,fe={},Re=null;if(Y!=null)for(W in Y.key!==void 0&&(Re=""+Y.key),Y)me.call(Y,W)&&W!=="key"&&W!=="__self"&&W!=="__source"&&(fe[W]=Y[W]);var ye=arguments.length-2;if(ye===1)fe.children=J;else if(1<ye){for(var Ae=Array(ye),ke=0;ke<ye;ke++)Ae[ke]=arguments[ke+2];fe.children=Ae}if(R&&R.defaultProps)for(W in ye=R.defaultProps,ye)fe[W]===void 0&&(fe[W]=ye[W]);return V(R,Re,void 0,void 0,null,fe)},Ce.createRef=function(){return{current:null}},Ce.forwardRef=function(R){return{$$typeof:m,render:R}},Ce.isValidElement=I,Ce.lazy=function(R){return{$$typeof:E,_payload:{_status:-1,_result:R},_init:ue}},Ce.memo=function(R,Y){return{$$typeof:y,type:R,compare:Y===void 0?null:Y}},Ce.startTransition=function(R){var Y=le.T,J={};le.T=J;try{var W=R(),fe=le.S;fe!==null&&fe(J,W),typeof W=="object"&&W!==null&&typeof W.then=="function"&&W.then(te,re)}catch(Re){re(Re)}finally{le.T=Y}},Ce.unstable_useCacheRefresh=function(){return le.H.useCacheRefresh()},Ce.use=function(R){return le.H.use(R)},Ce.useActionState=function(R,Y,J){return le.H.useActionState(R,Y,J)},Ce.useCallback=function(R,Y){return le.H.useCallback(R,Y)},Ce.useContext=function(R){return le.H.useContext(R)},Ce.useDebugValue=function(){},Ce.useDeferredValue=function(R,Y){return le.H.useDeferredValue(R,Y)},Ce.useEffect=function(R,Y,J){var W=le.H;if(typeof J=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return W.useEffect(R,Y)},Ce.useId=function(){return le.H.useId()},Ce.useImperativeHandle=function(R,Y,J){return le.H.useImperativeHandle(R,Y,J)},Ce.useInsertionEffect=function(R,Y){return le.H.useInsertionEffect(R,Y)},Ce.useLayoutEffect=function(R,Y){return le.H.useLayoutEffect(R,Y)},Ce.useMemo=function(R,Y){return le.H.useMemo(R,Y)},Ce.useOptimistic=function(R,Y){return le.H.useOptimistic(R,Y)},Ce.useReducer=function(R,Y,J){return le.H.useReducer(R,Y,J)},Ce.useRef=function(R){return le.H.useRef(R)},Ce.useState=function(R){return le.H.useState(R)},Ce.useSyncExternalStore=function(R,Y,J){return le.H.useSyncExternalStore(R,Y,J)},Ce.useTransition=function(){return le.H.useTransition()},Ce.version="19.1.0",Ce}var c0;function Xm(){return c0||(c0=1,nm.exports=Aw()),nm.exports}var j=Xm();const Fs=J_(j);var rm={exports:{}},Dl={},im={exports:{}},sm={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var h0;function xw(){return h0||(h0=1,function(i){function e(Z,ue){var re=Z.length;Z.push(ue);e:for(;0<re;){var te=re-1>>>1,R=Z[te];if(0<o(R,ue))Z[te]=ue,Z[re]=R,re=te;else break e}}function n(Z){return Z.length===0?null:Z[0]}function s(Z){if(Z.length===0)return null;var ue=Z[0],re=Z.pop();if(re!==ue){Z[0]=re;e:for(var te=0,R=Z.length,Y=R>>>1;te<Y;){var J=2*(te+1)-1,W=Z[J],fe=J+1,Re=Z[fe];if(0>o(W,re))fe<R&&0>o(Re,W)?(Z[te]=Re,Z[fe]=re,te=fe):(Z[te]=W,Z[J]=re,te=J);else if(fe<R&&0>o(Re,re))Z[te]=Re,Z[fe]=re,te=fe;else break e}}return ue}function o(Z,ue){var re=Z.sortIndex-ue.sortIndex;return re!==0?re:Z.id-ue.id}if(i.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;i.unstable_now=function(){return u.now()}}else{var f=Date,m=f.now();i.unstable_now=function(){return f.now()-m}}var p=[],y=[],E=1,w=null,A=3,k=!1,N=!1,M=!1,P=!1,K=typeof setTimeout=="function"?setTimeout:null,se=typeof clearTimeout=="function"?clearTimeout:null,X=typeof setImmediate<"u"?setImmediate:null;function he(Z){for(var ue=n(y);ue!==null;){if(ue.callback===null)s(y);else if(ue.startTime<=Z)s(y),ue.sortIndex=ue.expirationTime,e(p,ue);else break;ue=n(y)}}function le(Z){if(M=!1,he(Z),!N)if(n(p)!==null)N=!0,me||(me=!0,z());else{var ue=n(y);ue!==null&&We(le,ue.startTime-Z)}}var me=!1,V=-1,x=5,I=-1;function O(){return P?!0:!(i.unstable_now()-I<x)}function U(){if(P=!1,me){var Z=i.unstable_now();I=Z;var ue=!0;try{e:{N=!1,M&&(M=!1,se(V),V=-1),k=!0;var re=A;try{t:{for(he(Z),w=n(p);w!==null&&!(w.expirationTime>Z&&O());){var te=w.callback;if(typeof te=="function"){w.callback=null,A=w.priorityLevel;var R=te(w.expirationTime<=Z);if(Z=i.unstable_now(),typeof R=="function"){w.callback=R,he(Z),ue=!0;break t}w===n(p)&&s(p),he(Z)}else s(p);w=n(p)}if(w!==null)ue=!0;else{var Y=n(y);Y!==null&&We(le,Y.startTime-Z),ue=!1}}break e}finally{w=null,A=re,k=!1}ue=void 0}}finally{ue?z():me=!1}}}var z;if(typeof X=="function")z=function(){X(U)};else if(typeof MessageChannel<"u"){var C=new MessageChannel,at=C.port2;C.port1.onmessage=U,z=function(){at.postMessage(null)}}else z=function(){K(U,0)};function We(Z,ue){V=K(function(){Z(i.unstable_now())},ue)}i.unstable_IdlePriority=5,i.unstable_ImmediatePriority=1,i.unstable_LowPriority=4,i.unstable_NormalPriority=3,i.unstable_Profiling=null,i.unstable_UserBlockingPriority=2,i.unstable_cancelCallback=function(Z){Z.callback=null},i.unstable_forceFrameRate=function(Z){0>Z||125<Z?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):x=0<Z?Math.floor(1e3/Z):5},i.unstable_getCurrentPriorityLevel=function(){return A},i.unstable_next=function(Z){switch(A){case 1:case 2:case 3:var ue=3;break;default:ue=A}var re=A;A=ue;try{return Z()}finally{A=re}},i.unstable_requestPaint=function(){P=!0},i.unstable_runWithPriority=function(Z,ue){switch(Z){case 1:case 2:case 3:case 4:case 5:break;default:Z=3}var re=A;A=Z;try{return ue()}finally{A=re}},i.unstable_scheduleCallback=function(Z,ue,re){var te=i.unstable_now();switch(typeof re=="object"&&re!==null?(re=re.delay,re=typeof re=="number"&&0<re?te+re:te):re=te,Z){case 1:var R=-1;break;case 2:R=250;break;case 5:R=1073741823;break;case 4:R=1e4;break;default:R=5e3}return R=re+R,Z={id:E++,callback:ue,priorityLevel:Z,startTime:re,expirationTime:R,sortIndex:-1},re>te?(Z.sortIndex=re,e(y,Z),n(p)===null&&Z===n(y)&&(M?(se(V),V=-1):M=!0,We(le,re-te))):(Z.sortIndex=R,e(p,Z),N||k||(N=!0,me||(me=!0,z()))),Z},i.unstable_shouldYield=O,i.unstable_wrapCallback=function(Z){var ue=A;return function(){var re=A;A=ue;try{return Z.apply(this,arguments)}finally{A=re}}}}(sm)),sm}var f0;function Rw(){return f0||(f0=1,im.exports=xw()),im.exports}var am={exports:{}},$t={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var d0;function Iw(){if(d0)return $t;d0=1;var i=Xm();function e(p){var y="https://react.dev/errors/"+p;if(1<arguments.length){y+="?args[]="+encodeURIComponent(arguments[1]);for(var E=2;E<arguments.length;E++)y+="&args[]="+encodeURIComponent(arguments[E])}return"Minified React error #"+p+"; visit "+y+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var s={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},o=Symbol.for("react.portal");function u(p,y,E){var w=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:w==null?null:""+w,children:p,containerInfo:y,implementation:E}}var f=i.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function m(p,y){if(p==="font")return"";if(typeof y=="string")return y==="use-credentials"?y:""}return $t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,$t.createPortal=function(p,y){var E=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!y||y.nodeType!==1&&y.nodeType!==9&&y.nodeType!==11)throw Error(e(299));return u(p,y,null,E)},$t.flushSync=function(p){var y=f.T,E=s.p;try{if(f.T=null,s.p=2,p)return p()}finally{f.T=y,s.p=E,s.d.f()}},$t.preconnect=function(p,y){typeof p=="string"&&(y?(y=y.crossOrigin,y=typeof y=="string"?y==="use-credentials"?y:"":void 0):y=null,s.d.C(p,y))},$t.prefetchDNS=function(p){typeof p=="string"&&s.d.D(p)},$t.preinit=function(p,y){if(typeof p=="string"&&y&&typeof y.as=="string"){var E=y.as,w=m(E,y.crossOrigin),A=typeof y.integrity=="string"?y.integrity:void 0,k=typeof y.fetchPriority=="string"?y.fetchPriority:void 0;E==="style"?s.d.S(p,typeof y.precedence=="string"?y.precedence:void 0,{crossOrigin:w,integrity:A,fetchPriority:k}):E==="script"&&s.d.X(p,{crossOrigin:w,integrity:A,fetchPriority:k,nonce:typeof y.nonce=="string"?y.nonce:void 0})}},$t.preinitModule=function(p,y){if(typeof p=="string")if(typeof y=="object"&&y!==null){if(y.as==null||y.as==="script"){var E=m(y.as,y.crossOrigin);s.d.M(p,{crossOrigin:E,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0})}}else y==null&&s.d.M(p)},$t.preload=function(p,y){if(typeof p=="string"&&typeof y=="object"&&y!==null&&typeof y.as=="string"){var E=y.as,w=m(E,y.crossOrigin);s.d.L(p,E,{crossOrigin:w,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0,type:typeof y.type=="string"?y.type:void 0,fetchPriority:typeof y.fetchPriority=="string"?y.fetchPriority:void 0,referrerPolicy:typeof y.referrerPolicy=="string"?y.referrerPolicy:void 0,imageSrcSet:typeof y.imageSrcSet=="string"?y.imageSrcSet:void 0,imageSizes:typeof y.imageSizes=="string"?y.imageSizes:void 0,media:typeof y.media=="string"?y.media:void 0})}},$t.preloadModule=function(p,y){if(typeof p=="string")if(y){var E=m(y.as,y.crossOrigin);s.d.m(p,{as:typeof y.as=="string"&&y.as!=="script"?y.as:void 0,crossOrigin:E,integrity:typeof y.integrity=="string"?y.integrity:void 0})}else s.d.m(p)},$t.requestFormReset=function(p){s.d.r(p)},$t.unstable_batchedUpdates=function(p,y){return p(y)},$t.useFormState=function(p,y,E){return f.H.useFormState(p,y,E)},$t.useFormStatus=function(){return f.H.useHostTransitionStatus()},$t.version="19.1.0",$t}var m0;function Cw(){if(m0)return am.exports;m0=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(e){console.error(e)}}return i(),am.exports=Iw(),am.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var p0;function Nw(){if(p0)return Dl;p0=1;var i=Rw(),e=Xm(),n=Cw();function s(t){var r="https://react.dev/errors/"+t;if(1<arguments.length){r+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)r+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+t+"; visit "+r+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function u(t){var r=t,a=t;if(t.alternate)for(;r.return;)r=r.return;else{t=r;do r=t,(r.flags&4098)!==0&&(a=r.return),t=r.return;while(t)}return r.tag===3?a:null}function f(t){if(t.tag===13){var r=t.memoizedState;if(r===null&&(t=t.alternate,t!==null&&(r=t.memoizedState)),r!==null)return r.dehydrated}return null}function m(t){if(u(t)!==t)throw Error(s(188))}function p(t){var r=t.alternate;if(!r){if(r=u(t),r===null)throw Error(s(188));return r!==t?null:t}for(var a=t,l=r;;){var h=a.return;if(h===null)break;var d=h.alternate;if(d===null){if(l=h.return,l!==null){a=l;continue}break}if(h.child===d.child){for(d=h.child;d;){if(d===a)return m(h),t;if(d===l)return m(h),r;d=d.sibling}throw Error(s(188))}if(a.return!==l.return)a=h,l=d;else{for(var _=!1,b=h.child;b;){if(b===a){_=!0,a=h,l=d;break}if(b===l){_=!0,l=h,a=d;break}b=b.sibling}if(!_){for(b=d.child;b;){if(b===a){_=!0,a=d,l=h;break}if(b===l){_=!0,l=d,a=h;break}b=b.sibling}if(!_)throw Error(s(189))}}if(a.alternate!==l)throw Error(s(190))}if(a.tag!==3)throw Error(s(188));return a.stateNode.current===a?t:r}function y(t){var r=t.tag;if(r===5||r===26||r===27||r===6)return t;for(t=t.child;t!==null;){if(r=y(t),r!==null)return r;t=t.sibling}return null}var E=Object.assign,w=Symbol.for("react.element"),A=Symbol.for("react.transitional.element"),k=Symbol.for("react.portal"),N=Symbol.for("react.fragment"),M=Symbol.for("react.strict_mode"),P=Symbol.for("react.profiler"),K=Symbol.for("react.provider"),se=Symbol.for("react.consumer"),X=Symbol.for("react.context"),he=Symbol.for("react.forward_ref"),le=Symbol.for("react.suspense"),me=Symbol.for("react.suspense_list"),V=Symbol.for("react.memo"),x=Symbol.for("react.lazy"),I=Symbol.for("react.activity"),O=Symbol.for("react.memo_cache_sentinel"),U=Symbol.iterator;function z(t){return t===null||typeof t!="object"?null:(t=U&&t[U]||t["@@iterator"],typeof t=="function"?t:null)}var C=Symbol.for("react.client.reference");function at(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===C?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case N:return"Fragment";case P:return"Profiler";case M:return"StrictMode";case le:return"Suspense";case me:return"SuspenseList";case I:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case k:return"Portal";case X:return(t.displayName||"Context")+".Provider";case se:return(t._context.displayName||"Context")+".Consumer";case he:var r=t.render;return t=t.displayName,t||(t=r.displayName||r.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case V:return r=t.displayName||null,r!==null?r:at(t.type)||"Memo";case x:r=t._payload,t=t._init;try{return at(t(r))}catch{}}return null}var We=Array.isArray,Z=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ue=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,re={pending:!1,data:null,method:null,action:null},te=[],R=-1;function Y(t){return{current:t}}function J(t){0>R||(t.current=te[R],te[R]=null,R--)}function W(t,r){R++,te[R]=t.current,t.current=r}var fe=Y(null),Re=Y(null),ye=Y(null),Ae=Y(null);function ke(t,r){switch(W(ye,r),W(Re,t),W(fe,null),r.nodeType){case 9:case 11:t=(t=r.documentElement)&&(t=t.namespaceURI)?Vv(t):0;break;default:if(t=r.tagName,r=r.namespaceURI)r=Vv(r),t=Pv(r,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}J(fe),W(fe,t)}function Xn(){J(fe),J(Re),J(ye)}function ai(t){t.memoizedState!==null&&W(Ae,t);var r=fe.current,a=Pv(r,t.type);r!==a&&(W(Re,t),W(fe,a))}function br(t){Re.current===t&&(J(fe),J(Re)),Ae.current===t&&(J(Ae),Al._currentValue=re)}var ss=Object.prototype.hasOwnProperty,as=i.unstable_scheduleCallback,os=i.unstable_cancelCallback,bo=i.unstable_shouldYield,yu=i.unstable_requestPaint,bn=i.unstable_now,ef=i.unstable_getCurrentPriorityLevel,So=i.unstable_ImmediatePriority,na=i.unstable_UserBlockingPriority,ls=i.unstable_NormalPriority,tf=i.unstable_LowPriority,ra=i.unstable_IdlePriority,wo=i.log,vu=i.unstable_setDisableYieldValue,ft=null,Ye=null;function fn(t){if(typeof wo=="function"&&vu(t),Ye&&typeof Ye.setStrictMode=="function")try{Ye.setStrictMode(ft,t)}catch{}}var Qt=Math.clz32?Math.clz32:us,_u=Math.log,nf=Math.LN2;function us(t){return t>>>=0,t===0?32:31-(_u(t)/nf|0)|0}var cs=256,hs=4194304;function jn(t){var r=t&42;if(r!==0)return r;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function ia(t,r,a){var l=t.pendingLanes;if(l===0)return 0;var h=0,d=t.suspendedLanes,_=t.pingedLanes;t=t.warmLanes;var b=l&134217727;return b!==0?(l=b&~d,l!==0?h=jn(l):(_&=b,_!==0?h=jn(_):a||(a=b&~t,a!==0&&(h=jn(a))))):(b=l&~d,b!==0?h=jn(b):_!==0?h=jn(_):a||(a=l&~t,a!==0&&(h=jn(a)))),h===0?0:r!==0&&r!==h&&(r&d)===0&&(d=h&-h,a=r&-r,d>=a||d===32&&(a&4194048)!==0)?r:h}function fs(t,r){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&r)===0}function Ao(t,r){switch(t){case 1:case 2:case 4:case 8:case 64:return r+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function xo(){var t=cs;return cs<<=1,(cs&4194048)===0&&(cs=256),t}function Ro(){var t=hs;return hs<<=1,(hs&62914560)===0&&(hs=4194304),t}function Sr(t){for(var r=[],a=0;31>a;a++)r.push(t);return r}function wr(t,r){t.pendingLanes|=r,r!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function Io(t,r,a,l,h,d){var _=t.pendingLanes;t.pendingLanes=a,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=a,t.entangledLanes&=a,t.errorRecoveryDisabledLanes&=a,t.shellSuspendCounter=0;var b=t.entanglements,D=t.expirationTimes,F=t.hiddenUpdates;for(a=_&~a;0<a;){var ee=31-Qt(a),ie=1<<ee;b[ee]=0,D[ee]=-1;var G=F[ee];if(G!==null)for(F[ee]=null,ee=0;ee<G.length;ee++){var Q=G[ee];Q!==null&&(Q.lane&=-536870913)}a&=~ie}l!==0&&Wn(t,l,0),d!==0&&h===0&&t.tag!==0&&(t.suspendedLanes|=d&~(_&~r))}function Wn(t,r,a){t.pendingLanes|=r,t.suspendedLanes&=~r;var l=31-Qt(r);t.entangledLanes|=r,t.entanglements[l]=t.entanglements[l]|1073741824|a&4194090}function Co(t,r){var a=t.entangledLanes|=r;for(t=t.entanglements;a;){var l=31-Qt(a),h=1<<l;h&r|t[l]&r&&(t[l]|=r),a&=~h}}function oi(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function sa(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function li(){var t=ue.p;return t!==0?t:(t=window.event,t===void 0?32:t0(t.type))}function Eu(t,r){var a=ue.p;try{return ue.p=t,r()}finally{ue.p=a}}var ot=Math.random().toString(36).slice(2),At="__reactFiber$"+ot,_t="__reactProps$"+ot,Sn="__reactContainer$"+ot,No="__reactEvents$"+ot,rf="__reactListeners$"+ot,ui="__reactHandles$"+ot,Tu="__reactResources$"+ot,ds="__reactMarker$"+ot;function ci(t){delete t[At],delete t[_t],delete t[No],delete t[rf],delete t[ui]}function Ar(t){var r=t[At];if(r)return r;for(var a=t.parentNode;a;){if(r=a[Sn]||a[At]){if(a=r.alternate,r.child!==null||a!==null&&a.child!==null)for(t=zv(t);t!==null;){if(a=t[At])return a;t=zv(t)}return r}t=a,a=t.parentNode}return null}function Zn(t){if(t=t[At]||t[Sn]){var r=t.tag;if(r===5||r===6||r===13||r===26||r===27||r===3)return t}return null}function Jn(t){var r=t.tag;if(r===5||r===26||r===27||r===6)return t.stateNode;throw Error(s(33))}function en(t){var r=t[Tu];return r||(r=t[Tu]={hoistableStyles:new Map,hoistableScripts:new Map}),r}function pt(t){t[ds]=!0}var Do=new Set,aa={};function zn(t,r){xr(t,r),xr(t+"Capture",r)}function xr(t,r){for(aa[t]=r,t=0;t<r.length;t++)Do.add(r[t])}var bu=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Su={},ms={};function wu(t){return ss.call(ms,t)?!0:ss.call(Su,t)?!1:bu.test(t)?ms[t]=!0:(Su[t]=!0,!1)}function hi(t,r,a){if(wu(r))if(a===null)t.removeAttribute(r);else{switch(typeof a){case"undefined":case"function":case"symbol":t.removeAttribute(r);return;case"boolean":var l=r.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){t.removeAttribute(r);return}}t.setAttribute(r,""+a)}}function er(t,r,a){if(a===null)t.removeAttribute(r);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(r);return}t.setAttribute(r,""+a)}}function jt(t,r,a,l){if(l===null)t.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(a);return}t.setAttributeNS(r,a,""+l)}}var ps,Au;function Rr(t){if(ps===void 0)try{throw Error()}catch(a){var r=a.stack.trim().match(/\n( *(at )?)/);ps=r&&r[1]||"",Au=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+ps+t+Au}var oa=!1;function la(t,r){if(!t||oa)return"";oa=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(r){var ie=function(){throw Error()};if(Object.defineProperty(ie.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ie,[])}catch(Q){var G=Q}Reflect.construct(t,[],ie)}else{try{ie.call()}catch(Q){G=Q}t.call(ie.prototype)}}else{try{throw Error()}catch(Q){G=Q}(ie=t())&&typeof ie.catch=="function"&&ie.catch(function(){})}}catch(Q){if(Q&&G&&typeof Q.stack=="string")return[Q.stack,G.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var d=l.DetermineComponentFrameRoot(),_=d[0],b=d[1];if(_&&b){var D=_.split(`
`),F=b.split(`
`);for(h=l=0;l<D.length&&!D[l].includes("DetermineComponentFrameRoot");)l++;for(;h<F.length&&!F[h].includes("DetermineComponentFrameRoot");)h++;if(l===D.length||h===F.length)for(l=D.length-1,h=F.length-1;1<=l&&0<=h&&D[l]!==F[h];)h--;for(;1<=l&&0<=h;l--,h--)if(D[l]!==F[h]){if(l!==1||h!==1)do if(l--,h--,0>h||D[l]!==F[h]){var ee=`
`+D[l].replace(" at new "," at ");return t.displayName&&ee.includes("<anonymous>")&&(ee=ee.replace("<anonymous>",t.displayName)),ee}while(1<=l&&0<=h);break}}}finally{oa=!1,Error.prepareStackTrace=a}return(a=t?t.displayName||t.name:"")?Rr(a):""}function Oo(t){switch(t.tag){case 26:case 27:case 5:return Rr(t.type);case 16:return Rr("Lazy");case 13:return Rr("Suspense");case 19:return Rr("SuspenseList");case 0:case 15:return la(t.type,!1);case 11:return la(t.type.render,!1);case 1:return la(t.type,!0);case 31:return Rr("Activity");default:return""}}function ua(t){try{var r="";do r+=Oo(t),t=t.return;while(t);return r}catch(a){return`
Error generating stack: `+a.message+`
`+a.stack}}function tn(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function ko(t){var r=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(r==="checkbox"||r==="radio")}function sf(t){var r=ko(t)?"checked":"value",a=Object.getOwnPropertyDescriptor(t.constructor.prototype,r),l=""+t[r];if(!t.hasOwnProperty(r)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var h=a.get,d=a.set;return Object.defineProperty(t,r,{configurable:!0,get:function(){return h.call(this)},set:function(_){l=""+_,d.call(this,_)}}),Object.defineProperty(t,r,{enumerable:a.enumerable}),{getValue:function(){return l},setValue:function(_){l=""+_},stopTracking:function(){t._valueTracker=null,delete t[r]}}}}function ca(t){t._valueTracker||(t._valueTracker=sf(t))}function Mo(t){if(!t)return!1;var r=t._valueTracker;if(!r)return!0;var a=r.getValue(),l="";return t&&(l=ko(t)?t.checked?"true":"false":t.value),t=l,t!==a?(r.setValue(t),!0):!1}function gs(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var af=/[\n"\\]/g;function Et(t){return t.replace(af,function(r){return"\\"+r.charCodeAt(0).toString(16)+" "})}function dn(t,r,a,l,h,d,_,b){t.name="",_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"?t.type=_:t.removeAttribute("type"),r!=null?_==="number"?(r===0&&t.value===""||t.value!=r)&&(t.value=""+tn(r)):t.value!==""+tn(r)&&(t.value=""+tn(r)):_!=="submit"&&_!=="reset"||t.removeAttribute("value"),r!=null?fi(t,_,tn(r)):a!=null?fi(t,_,tn(a)):l!=null&&t.removeAttribute("value"),h==null&&d!=null&&(t.defaultChecked=!!d),h!=null&&(t.checked=h&&typeof h!="function"&&typeof h!="symbol"),b!=null&&typeof b!="function"&&typeof b!="symbol"&&typeof b!="boolean"?t.name=""+tn(b):t.removeAttribute("name")}function ys(t,r,a,l,h,d,_,b){if(d!=null&&typeof d!="function"&&typeof d!="symbol"&&typeof d!="boolean"&&(t.type=d),r!=null||a!=null){if(!(d!=="submit"&&d!=="reset"||r!=null))return;a=a!=null?""+tn(a):"",r=r!=null?""+tn(r):a,b||r===t.value||(t.value=r),t.defaultValue=r}l=l??h,l=typeof l!="function"&&typeof l!="symbol"&&!!l,t.checked=b?t.checked:!!l,t.defaultChecked=!!l,_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"&&(t.name=_)}function fi(t,r,a){r==="number"&&gs(t.ownerDocument)===t||t.defaultValue===""+a||(t.defaultValue=""+a)}function Ir(t,r,a,l){if(t=t.options,r){r={};for(var h=0;h<a.length;h++)r["$"+a[h]]=!0;for(a=0;a<t.length;a++)h=r.hasOwnProperty("$"+t[a].value),t[a].selected!==h&&(t[a].selected=h),h&&l&&(t[a].defaultSelected=!0)}else{for(a=""+tn(a),r=null,h=0;h<t.length;h++){if(t[h].value===a){t[h].selected=!0,l&&(t[h].defaultSelected=!0);return}r!==null||t[h].disabled||(r=t[h])}r!==null&&(r.selected=!0)}}function Ze(t,r,a){if(r!=null&&(r=""+tn(r),r!==t.value&&(t.value=r),a==null)){t.defaultValue!==r&&(t.defaultValue=r);return}t.defaultValue=a!=null?""+tn(a):""}function vs(t,r,a,l){if(r==null){if(l!=null){if(a!=null)throw Error(s(92));if(We(l)){if(1<l.length)throw Error(s(93));l=l[0]}a=l}a==null&&(a=""),r=a}a=tn(r),t.defaultValue=a,l=t.textContent,l===a&&l!==""&&l!==null&&(t.value=l)}function wn(t,r){if(r){var a=t.firstChild;if(a&&a===t.lastChild&&a.nodeType===3){a.nodeValue=r;return}}t.textContent=r}var _s=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function xu(t,r,a){var l=r.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?l?t.setProperty(r,""):r==="float"?t.cssFloat="":t[r]="":l?t.setProperty(r,a):typeof a!="number"||a===0||_s.has(r)?r==="float"?t.cssFloat=a:t[r]=(""+a).trim():t[r]=a+"px"}function Vo(t,r,a){if(r!=null&&typeof r!="object")throw Error(s(62));if(t=t.style,a!=null){for(var l in a)!a.hasOwnProperty(l)||r!=null&&r.hasOwnProperty(l)||(l.indexOf("--")===0?t.setProperty(l,""):l==="float"?t.cssFloat="":t[l]="");for(var h in r)l=r[h],r.hasOwnProperty(h)&&a[h]!==l&&xu(t,h,l)}else for(var d in r)r.hasOwnProperty(d)&&xu(t,d,r[d])}function Po(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var of=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),lf=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function ha(t){return lf.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}var Cr=null;function An(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Nr=null,Dr=null;function Lo(t){var r=Zn(t);if(r&&(t=r.stateNode)){var a=t[_t]||null;e:switch(t=r.stateNode,r.type){case"input":if(dn(t,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),r=a.name,a.type==="radio"&&r!=null){for(a=t;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+Et(""+r)+'"][type="radio"]'),r=0;r<a.length;r++){var l=a[r];if(l!==t&&l.form===t.form){var h=l[_t]||null;if(!h)throw Error(s(90));dn(l,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(r=0;r<a.length;r++)l=a[r],l.form===t.form&&Mo(l)}break e;case"textarea":Ze(t,a.value,a.defaultValue);break e;case"select":r=a.value,r!=null&&Ir(t,!!a.multiple,r,!1)}}}var tr=!1;function Ru(t,r,a){if(tr)return t(r,a);tr=!0;try{var l=t(r);return l}finally{if(tr=!1,(Nr!==null||Dr!==null)&&(Ec(),Nr&&(r=Nr,t=Dr,Dr=Nr=null,Lo(r),t)))for(r=0;r<t.length;r++)Lo(t[r])}}function Es(t,r){var a=t.stateNode;if(a===null)return null;var l=a[_t]||null;if(l===null)return null;a=l[r];e:switch(r){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(t=t.type,l=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!l;break e;default:t=!1}if(t)return null;if(a&&typeof a!="function")throw Error(s(231,r,typeof a));return a}var Bn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),xn=!1;if(Bn)try{var Ts={};Object.defineProperty(Ts,"passive",{get:function(){xn=!0}}),window.addEventListener("test",Ts,Ts),window.removeEventListener("test",Ts,Ts)}catch{xn=!1}var nr=null,di=null,Or=null;function Uo(){if(Or)return Or;var t,r=di,a=r.length,l,h="value"in nr?nr.value:nr.textContent,d=h.length;for(t=0;t<a&&r[t]===h[t];t++);var _=a-t;for(l=1;l<=_&&r[a-l]===h[d-l];l++);return Or=h.slice(t,1<l?1-l:void 0)}function rr(t){var r=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&r===13&&(t=13)):t=r,t===10&&(t=13),32<=t||t===13?t:0}function ir(){return!0}function jo(){return!1}function kt(t){function r(a,l,h,d,_){this._reactName=a,this._targetInst=h,this.type=l,this.nativeEvent=d,this.target=_,this.currentTarget=null;for(var b in t)t.hasOwnProperty(b)&&(a=t[b],this[b]=a?a(d):d[b]);return this.isDefaultPrevented=(d.defaultPrevented!=null?d.defaultPrevented:d.returnValue===!1)?ir:jo,this.isPropagationStopped=jo,this}return E(r.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=ir)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=ir)},persist:function(){},isPersistent:ir}),r}var Ke={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},fa=kt(Ke),bs=E({},Ke,{view:0,detail:0}),Iu=kt(bs),da,ma,sr,Ss=E({},bs,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:xs,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==sr&&(sr&&t.type==="mousemove"?(da=t.screenX-sr.screenX,ma=t.screenY-sr.screenY):ma=da=0,sr=t),da)},movementY:function(t){return"movementY"in t?t.movementY:ma}}),Rn=kt(Ss),Cu=E({},Ss,{dataTransfer:0}),uf=kt(Cu),ws=E({},bs,{relatedTarget:0}),pa=kt(ws),zo=E({},Ke,{animationName:0,elapsedTime:0,pseudoElement:0}),ga=kt(zo),Nu=E({},Ke,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),ya=kt(Nu),cf=E({},Ke,{data:0}),Bo=kt(cf),As={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Du={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Ou={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Ho(t){var r=this.nativeEvent;return r.getModifierState?r.getModifierState(t):(t=Ou[t])?!!r[t]:!1}function xs(){return Ho}var ku=E({},bs,{key:function(t){if(t.key){var r=As[t.key]||t.key;if(r!=="Unidentified")return r}return t.type==="keypress"?(t=rr(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Du[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:xs,charCode:function(t){return t.type==="keypress"?rr(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?rr(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),va=kt(ku),Mu=E({},Ss,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),qo=kt(Mu),kr=E({},bs,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:xs}),Vu=kt(kr),Pu=E({},Ke,{propertyName:0,elapsedTime:0,pseudoElement:0}),Lu=kt(Pu),Uu=E({},Ss,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),_a=kt(Uu),nn=E({},Ke,{newState:0,oldState:0}),ju=kt(nn),zu=[9,13,27,32],ar=Bn&&"CompositionEvent"in window,c=null;Bn&&"documentMode"in document&&(c=document.documentMode);var g=Bn&&"TextEvent"in window&&!c,v=Bn&&(!ar||c&&8<c&&11>=c),S=" ",H=!1;function $(t,r){switch(t){case"keyup":return zu.indexOf(r.keyCode)!==-1;case"keydown":return r.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ce(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var je=!1;function xt(t,r){switch(t){case"compositionend":return ce(r);case"keypress":return r.which!==32?null:(H=!0,S);case"textInput":return t=r.data,t===S&&H?null:t;default:return null}}function ze(t,r){if(je)return t==="compositionend"||!ar&&$(t,r)?(t=Uo(),Or=di=nr=null,je=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(r.ctrlKey||r.altKey||r.metaKey)||r.ctrlKey&&r.altKey){if(r.char&&1<r.char.length)return r.char;if(r.which)return String.fromCharCode(r.which)}return null;case"compositionend":return v&&r.locale!=="ko"?null:r.data;default:return null}}var Mt={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Rt(t){var r=t&&t.nodeName&&t.nodeName.toLowerCase();return r==="input"?!!Mt[t.type]:r==="textarea"}function Mr(t,r,a,l){Nr?Dr?Dr.push(l):Dr=[l]:Nr=l,r=xc(r,"onChange"),0<r.length&&(a=new fa("onChange","change",null,a,l),t.push({event:a,listeners:r}))}var zt=null,or=null;function Fo(t){Nv(t,0)}function Bu(t){var r=Jn(t);if(Mo(r))return t}function Wp(t,r){if(t==="change")return r}var Zp=!1;if(Bn){var hf;if(Bn){var ff="oninput"in document;if(!ff){var Jp=document.createElement("div");Jp.setAttribute("oninput","return;"),ff=typeof Jp.oninput=="function"}hf=ff}else hf=!1;Zp=hf&&(!document.documentMode||9<document.documentMode)}function eg(){zt&&(zt.detachEvent("onpropertychange",tg),or=zt=null)}function tg(t){if(t.propertyName==="value"&&Bu(or)){var r=[];Mr(r,or,t,An(t)),Ru(Fo,r)}}function Jb(t,r,a){t==="focusin"?(eg(),zt=r,or=a,zt.attachEvent("onpropertychange",tg)):t==="focusout"&&eg()}function eS(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Bu(or)}function tS(t,r){if(t==="click")return Bu(r)}function nS(t,r){if(t==="input"||t==="change")return Bu(r)}function rS(t,r){return t===r&&(t!==0||1/t===1/r)||t!==t&&r!==r}var mn=typeof Object.is=="function"?Object.is:rS;function Go(t,r){if(mn(t,r))return!0;if(typeof t!="object"||t===null||typeof r!="object"||r===null)return!1;var a=Object.keys(t),l=Object.keys(r);if(a.length!==l.length)return!1;for(l=0;l<a.length;l++){var h=a[l];if(!ss.call(r,h)||!mn(t[h],r[h]))return!1}return!0}function ng(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function rg(t,r){var a=ng(t);t=0;for(var l;a;){if(a.nodeType===3){if(l=t+a.textContent.length,t<=r&&l>=r)return{node:a,offset:r-t};t=l}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=ng(a)}}function ig(t,r){return t&&r?t===r?!0:t&&t.nodeType===3?!1:r&&r.nodeType===3?ig(t,r.parentNode):"contains"in t?t.contains(r):t.compareDocumentPosition?!!(t.compareDocumentPosition(r)&16):!1:!1}function sg(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var r=gs(t.document);r instanceof t.HTMLIFrameElement;){try{var a=typeof r.contentWindow.location.href=="string"}catch{a=!1}if(a)t=r.contentWindow;else break;r=gs(t.document)}return r}function df(t){var r=t&&t.nodeName&&t.nodeName.toLowerCase();return r&&(r==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||r==="textarea"||t.contentEditable==="true")}var iS=Bn&&"documentMode"in document&&11>=document.documentMode,Ea=null,mf=null,Ko=null,pf=!1;function ag(t,r,a){var l=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;pf||Ea==null||Ea!==gs(l)||(l=Ea,"selectionStart"in l&&df(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),Ko&&Go(Ko,l)||(Ko=l,l=xc(mf,"onSelect"),0<l.length&&(r=new fa("onSelect","select",null,r,a),t.push({event:r,listeners:l}),r.target=Ea)))}function Rs(t,r){var a={};return a[t.toLowerCase()]=r.toLowerCase(),a["Webkit"+t]="webkit"+r,a["Moz"+t]="moz"+r,a}var Ta={animationend:Rs("Animation","AnimationEnd"),animationiteration:Rs("Animation","AnimationIteration"),animationstart:Rs("Animation","AnimationStart"),transitionrun:Rs("Transition","TransitionRun"),transitionstart:Rs("Transition","TransitionStart"),transitioncancel:Rs("Transition","TransitionCancel"),transitionend:Rs("Transition","TransitionEnd")},gf={},og={};Bn&&(og=document.createElement("div").style,"AnimationEvent"in window||(delete Ta.animationend.animation,delete Ta.animationiteration.animation,delete Ta.animationstart.animation),"TransitionEvent"in window||delete Ta.transitionend.transition);function Is(t){if(gf[t])return gf[t];if(!Ta[t])return t;var r=Ta[t],a;for(a in r)if(r.hasOwnProperty(a)&&a in og)return gf[t]=r[a];return t}var lg=Is("animationend"),ug=Is("animationiteration"),cg=Is("animationstart"),sS=Is("transitionrun"),aS=Is("transitionstart"),oS=Is("transitioncancel"),hg=Is("transitionend"),fg=new Map,yf="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");yf.push("scrollEnd");function Hn(t,r){fg.set(t,r),zn(r,[t])}var dg=new WeakMap;function In(t,r){if(typeof t=="object"&&t!==null){var a=dg.get(t);return a!==void 0?a:(r={value:t,source:r,stack:ua(r)},dg.set(t,r),r)}return{value:t,source:r,stack:ua(r)}}var Cn=[],ba=0,vf=0;function Hu(){for(var t=ba,r=vf=ba=0;r<t;){var a=Cn[r];Cn[r++]=null;var l=Cn[r];Cn[r++]=null;var h=Cn[r];Cn[r++]=null;var d=Cn[r];if(Cn[r++]=null,l!==null&&h!==null){var _=l.pending;_===null?h.next=h:(h.next=_.next,_.next=h),l.pending=h}d!==0&&mg(a,h,d)}}function qu(t,r,a,l){Cn[ba++]=t,Cn[ba++]=r,Cn[ba++]=a,Cn[ba++]=l,vf|=l,t.lanes|=l,t=t.alternate,t!==null&&(t.lanes|=l)}function _f(t,r,a,l){return qu(t,r,a,l),Fu(t)}function Sa(t,r){return qu(t,null,null,r),Fu(t)}function mg(t,r,a){t.lanes|=a;var l=t.alternate;l!==null&&(l.lanes|=a);for(var h=!1,d=t.return;d!==null;)d.childLanes|=a,l=d.alternate,l!==null&&(l.childLanes|=a),d.tag===22&&(t=d.stateNode,t===null||t._visibility&1||(h=!0)),t=d,d=d.return;return t.tag===3?(d=t.stateNode,h&&r!==null&&(h=31-Qt(a),t=d.hiddenUpdates,l=t[h],l===null?t[h]=[r]:l.push(r),r.lane=a|536870912),d):null}function Fu(t){if(50<yl)throw yl=0,Ad=null,Error(s(185));for(var r=t.return;r!==null;)t=r,r=t.return;return t.tag===3?t.stateNode:null}var wa={};function lS(t,r,a,l){this.tag=t,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=r,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function pn(t,r,a,l){return new lS(t,r,a,l)}function Ef(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Vr(t,r){var a=t.alternate;return a===null?(a=pn(t.tag,r,t.key,t.mode),a.elementType=t.elementType,a.type=t.type,a.stateNode=t.stateNode,a.alternate=t,t.alternate=a):(a.pendingProps=r,a.type=t.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=t.flags&65011712,a.childLanes=t.childLanes,a.lanes=t.lanes,a.child=t.child,a.memoizedProps=t.memoizedProps,a.memoizedState=t.memoizedState,a.updateQueue=t.updateQueue,r=t.dependencies,a.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext},a.sibling=t.sibling,a.index=t.index,a.ref=t.ref,a.refCleanup=t.refCleanup,a}function pg(t,r){t.flags&=65011714;var a=t.alternate;return a===null?(t.childLanes=0,t.lanes=r,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=a.childLanes,t.lanes=a.lanes,t.child=a.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=a.memoizedProps,t.memoizedState=a.memoizedState,t.updateQueue=a.updateQueue,t.type=a.type,r=a.dependencies,t.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext}),t}function Gu(t,r,a,l,h,d){var _=0;if(l=t,typeof t=="function")Ef(t)&&(_=1);else if(typeof t=="string")_=cw(t,a,fe.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case I:return t=pn(31,a,r,h),t.elementType=I,t.lanes=d,t;case N:return Cs(a.children,h,d,r);case M:_=8,h|=24;break;case P:return t=pn(12,a,r,h|2),t.elementType=P,t.lanes=d,t;case le:return t=pn(13,a,r,h),t.elementType=le,t.lanes=d,t;case me:return t=pn(19,a,r,h),t.elementType=me,t.lanes=d,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case K:case X:_=10;break e;case se:_=9;break e;case he:_=11;break e;case V:_=14;break e;case x:_=16,l=null;break e}_=29,a=Error(s(130,t===null?"null":typeof t,"")),l=null}return r=pn(_,a,r,h),r.elementType=t,r.type=l,r.lanes=d,r}function Cs(t,r,a,l){return t=pn(7,t,l,r),t.lanes=a,t}function Tf(t,r,a){return t=pn(6,t,null,r),t.lanes=a,t}function bf(t,r,a){return r=pn(4,t.children!==null?t.children:[],t.key,r),r.lanes=a,r.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},r}var Aa=[],xa=0,Ku=null,Qu=0,Nn=[],Dn=0,Ns=null,Pr=1,Lr="";function Ds(t,r){Aa[xa++]=Qu,Aa[xa++]=Ku,Ku=t,Qu=r}function gg(t,r,a){Nn[Dn++]=Pr,Nn[Dn++]=Lr,Nn[Dn++]=Ns,Ns=t;var l=Pr;t=Lr;var h=32-Qt(l)-1;l&=~(1<<h),a+=1;var d=32-Qt(r)+h;if(30<d){var _=h-h%5;d=(l&(1<<_)-1).toString(32),l>>=_,h-=_,Pr=1<<32-Qt(r)+h|a<<h|l,Lr=d+t}else Pr=1<<d|a<<h|l,Lr=t}function Sf(t){t.return!==null&&(Ds(t,1),gg(t,1,0))}function wf(t){for(;t===Ku;)Ku=Aa[--xa],Aa[xa]=null,Qu=Aa[--xa],Aa[xa]=null;for(;t===Ns;)Ns=Nn[--Dn],Nn[Dn]=null,Lr=Nn[--Dn],Nn[Dn]=null,Pr=Nn[--Dn],Nn[Dn]=null}var rn=null,dt=null,Ge=!1,Os=null,lr=!1,Af=Error(s(519));function ks(t){var r=Error(s(418,""));throw $o(In(r,t)),Af}function yg(t){var r=t.stateNode,a=t.type,l=t.memoizedProps;switch(r[At]=t,r[_t]=l,a){case"dialog":Pe("cancel",r),Pe("close",r);break;case"iframe":case"object":case"embed":Pe("load",r);break;case"video":case"audio":for(a=0;a<_l.length;a++)Pe(_l[a],r);break;case"source":Pe("error",r);break;case"img":case"image":case"link":Pe("error",r),Pe("load",r);break;case"details":Pe("toggle",r);break;case"input":Pe("invalid",r),ys(r,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0),ca(r);break;case"select":Pe("invalid",r);break;case"textarea":Pe("invalid",r),vs(r,l.value,l.defaultValue,l.children),ca(r)}a=l.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||r.textContent===""+a||l.suppressHydrationWarning===!0||Mv(r.textContent,a)?(l.popover!=null&&(Pe("beforetoggle",r),Pe("toggle",r)),l.onScroll!=null&&Pe("scroll",r),l.onScrollEnd!=null&&Pe("scrollend",r),l.onClick!=null&&(r.onclick=Rc),r=!0):r=!1,r||ks(t)}function vg(t){for(rn=t.return;rn;)switch(rn.tag){case 5:case 13:lr=!1;return;case 27:case 3:lr=!0;return;default:rn=rn.return}}function Qo(t){if(t!==rn)return!1;if(!Ge)return vg(t),Ge=!0,!1;var r=t.tag,a;if((a=r!==3&&r!==27)&&((a=r===5)&&(a=t.type,a=!(a!=="form"&&a!=="button")||Bd(t.type,t.memoizedProps)),a=!a),a&&dt&&ks(t),vg(t),r===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(317));e:{for(t=t.nextSibling,r=0;t;){if(t.nodeType===8)if(a=t.data,a==="/$"){if(r===0){dt=Fn(t.nextSibling);break e}r--}else a!=="$"&&a!=="$!"&&a!=="$?"||r++;t=t.nextSibling}dt=null}}else r===27?(r=dt,Ci(t.type)?(t=Gd,Gd=null,dt=t):dt=r):dt=rn?Fn(t.stateNode.nextSibling):null;return!0}function Yo(){dt=rn=null,Ge=!1}function _g(){var t=Os;return t!==null&&(ln===null?ln=t:ln.push.apply(ln,t),Os=null),t}function $o(t){Os===null?Os=[t]:Os.push(t)}var xf=Y(null),Ms=null,Ur=null;function mi(t,r,a){W(xf,r._currentValue),r._currentValue=a}function jr(t){t._currentValue=xf.current,J(xf)}function Rf(t,r,a){for(;t!==null;){var l=t.alternate;if((t.childLanes&r)!==r?(t.childLanes|=r,l!==null&&(l.childLanes|=r)):l!==null&&(l.childLanes&r)!==r&&(l.childLanes|=r),t===a)break;t=t.return}}function If(t,r,a,l){var h=t.child;for(h!==null&&(h.return=t);h!==null;){var d=h.dependencies;if(d!==null){var _=h.child;d=d.firstContext;e:for(;d!==null;){var b=d;d=h;for(var D=0;D<r.length;D++)if(b.context===r[D]){d.lanes|=a,b=d.alternate,b!==null&&(b.lanes|=a),Rf(d.return,a,t),l||(_=null);break e}d=b.next}}else if(h.tag===18){if(_=h.return,_===null)throw Error(s(341));_.lanes|=a,d=_.alternate,d!==null&&(d.lanes|=a),Rf(_,a,t),_=null}else _=h.child;if(_!==null)_.return=h;else for(_=h;_!==null;){if(_===t){_=null;break}if(h=_.sibling,h!==null){h.return=_.return,_=h;break}_=_.return}h=_}}function Xo(t,r,a,l){t=null;for(var h=r,d=!1;h!==null;){if(!d){if((h.flags&524288)!==0)d=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var _=h.alternate;if(_===null)throw Error(s(387));if(_=_.memoizedProps,_!==null){var b=h.type;mn(h.pendingProps.value,_.value)||(t!==null?t.push(b):t=[b])}}else if(h===Ae.current){if(_=h.alternate,_===null)throw Error(s(387));_.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(t!==null?t.push(Al):t=[Al])}h=h.return}t!==null&&If(r,t,a,l),r.flags|=262144}function Yu(t){for(t=t.firstContext;t!==null;){if(!mn(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function Vs(t){Ms=t,Ur=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function Yt(t){return Eg(Ms,t)}function $u(t,r){return Ms===null&&Vs(t),Eg(t,r)}function Eg(t,r){var a=r._currentValue;if(r={context:r,memoizedValue:a,next:null},Ur===null){if(t===null)throw Error(s(308));Ur=r,t.dependencies={lanes:0,firstContext:r},t.flags|=524288}else Ur=Ur.next=r;return a}var uS=typeof AbortController<"u"?AbortController:function(){var t=[],r=this.signal={aborted:!1,addEventListener:function(a,l){t.push(l)}};this.abort=function(){r.aborted=!0,t.forEach(function(a){return a()})}},cS=i.unstable_scheduleCallback,hS=i.unstable_NormalPriority,It={$$typeof:X,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Cf(){return{controller:new uS,data:new Map,refCount:0}}function Wo(t){t.refCount--,t.refCount===0&&cS(hS,function(){t.controller.abort()})}var Zo=null,Nf=0,Ra=0,Ia=null;function fS(t,r){if(Zo===null){var a=Zo=[];Nf=0,Ra=Od(),Ia={status:"pending",value:void 0,then:function(l){a.push(l)}}}return Nf++,r.then(Tg,Tg),r}function Tg(){if(--Nf===0&&Zo!==null){Ia!==null&&(Ia.status="fulfilled");var t=Zo;Zo=null,Ra=0,Ia=null;for(var r=0;r<t.length;r++)(0,t[r])()}}function dS(t,r){var a=[],l={status:"pending",value:null,reason:null,then:function(h){a.push(h)}};return t.then(function(){l.status="fulfilled",l.value=r;for(var h=0;h<a.length;h++)(0,a[h])(r)},function(h){for(l.status="rejected",l.reason=h,h=0;h<a.length;h++)(0,a[h])(void 0)}),l}var bg=Z.S;Z.S=function(t,r){typeof r=="object"&&r!==null&&typeof r.then=="function"&&fS(t,r),bg!==null&&bg(t,r)};var Ps=Y(null);function Df(){var t=Ps.current;return t!==null?t:rt.pooledCache}function Xu(t,r){r===null?W(Ps,Ps.current):W(Ps,r.pool)}function Sg(){var t=Df();return t===null?null:{parent:It._currentValue,pool:t}}var Jo=Error(s(460)),wg=Error(s(474)),Wu=Error(s(542)),Of={then:function(){}};function Ag(t){return t=t.status,t==="fulfilled"||t==="rejected"}function Zu(){}function xg(t,r,a){switch(a=t[a],a===void 0?t.push(r):a!==r&&(r.then(Zu,Zu),r=a),r.status){case"fulfilled":return r.value;case"rejected":throw t=r.reason,Ig(t),t;default:if(typeof r.status=="string")r.then(Zu,Zu);else{if(t=rt,t!==null&&100<t.shellSuspendCounter)throw Error(s(482));t=r,t.status="pending",t.then(function(l){if(r.status==="pending"){var h=r;h.status="fulfilled",h.value=l}},function(l){if(r.status==="pending"){var h=r;h.status="rejected",h.reason=l}})}switch(r.status){case"fulfilled":return r.value;case"rejected":throw t=r.reason,Ig(t),t}throw el=r,Jo}}var el=null;function Rg(){if(el===null)throw Error(s(459));var t=el;return el=null,t}function Ig(t){if(t===Jo||t===Wu)throw Error(s(483))}var pi=!1;function kf(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Mf(t,r){t=t.updateQueue,r.updateQueue===t&&(r.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function gi(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function yi(t,r,a){var l=t.updateQueue;if(l===null)return null;if(l=l.shared,($e&2)!==0){var h=l.pending;return h===null?r.next=r:(r.next=h.next,h.next=r),l.pending=r,r=Fu(t),mg(t,null,a),r}return qu(t,l,r,a),Fu(t)}function tl(t,r,a){if(r=r.updateQueue,r!==null&&(r=r.shared,(a&4194048)!==0)){var l=r.lanes;l&=t.pendingLanes,a|=l,r.lanes=a,Co(t,a)}}function Vf(t,r){var a=t.updateQueue,l=t.alternate;if(l!==null&&(l=l.updateQueue,a===l)){var h=null,d=null;if(a=a.firstBaseUpdate,a!==null){do{var _={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};d===null?h=d=_:d=d.next=_,a=a.next}while(a!==null);d===null?h=d=r:d=d.next=r}else h=d=r;a={baseState:l.baseState,firstBaseUpdate:h,lastBaseUpdate:d,shared:l.shared,callbacks:l.callbacks},t.updateQueue=a;return}t=a.lastBaseUpdate,t===null?a.firstBaseUpdate=r:t.next=r,a.lastBaseUpdate=r}var Pf=!1;function nl(){if(Pf){var t=Ia;if(t!==null)throw t}}function rl(t,r,a,l){Pf=!1;var h=t.updateQueue;pi=!1;var d=h.firstBaseUpdate,_=h.lastBaseUpdate,b=h.shared.pending;if(b!==null){h.shared.pending=null;var D=b,F=D.next;D.next=null,_===null?d=F:_.next=F,_=D;var ee=t.alternate;ee!==null&&(ee=ee.updateQueue,b=ee.lastBaseUpdate,b!==_&&(b===null?ee.firstBaseUpdate=F:b.next=F,ee.lastBaseUpdate=D))}if(d!==null){var ie=h.baseState;_=0,ee=F=D=null,b=d;do{var G=b.lane&-536870913,Q=G!==b.lane;if(Q?(Be&G)===G:(l&G)===G){G!==0&&G===Ra&&(Pf=!0),ee!==null&&(ee=ee.next={lane:0,tag:b.tag,payload:b.payload,callback:null,next:null});e:{var Se=t,Ee=b;G=r;var tt=a;switch(Ee.tag){case 1:if(Se=Ee.payload,typeof Se=="function"){ie=Se.call(tt,ie,G);break e}ie=Se;break e;case 3:Se.flags=Se.flags&-65537|128;case 0:if(Se=Ee.payload,G=typeof Se=="function"?Se.call(tt,ie,G):Se,G==null)break e;ie=E({},ie,G);break e;case 2:pi=!0}}G=b.callback,G!==null&&(t.flags|=64,Q&&(t.flags|=8192),Q=h.callbacks,Q===null?h.callbacks=[G]:Q.push(G))}else Q={lane:G,tag:b.tag,payload:b.payload,callback:b.callback,next:null},ee===null?(F=ee=Q,D=ie):ee=ee.next=Q,_|=G;if(b=b.next,b===null){if(b=h.shared.pending,b===null)break;Q=b,b=Q.next,Q.next=null,h.lastBaseUpdate=Q,h.shared.pending=null}}while(!0);ee===null&&(D=ie),h.baseState=D,h.firstBaseUpdate=F,h.lastBaseUpdate=ee,d===null&&(h.shared.lanes=0),Ai|=_,t.lanes=_,t.memoizedState=ie}}function Cg(t,r){if(typeof t!="function")throw Error(s(191,t));t.call(r)}function Ng(t,r){var a=t.callbacks;if(a!==null)for(t.callbacks=null,t=0;t<a.length;t++)Cg(a[t],r)}var Ca=Y(null),Ju=Y(0);function Dg(t,r){t=Kr,W(Ju,t),W(Ca,r),Kr=t|r.baseLanes}function Lf(){W(Ju,Kr),W(Ca,Ca.current)}function Uf(){Kr=Ju.current,J(Ca),J(Ju)}var vi=0,De=null,Je=null,Tt=null,ec=!1,Na=!1,Ls=!1,tc=0,il=0,Da=null,mS=0;function gt(){throw Error(s(321))}function jf(t,r){if(r===null)return!1;for(var a=0;a<r.length&&a<t.length;a++)if(!mn(t[a],r[a]))return!1;return!0}function zf(t,r,a,l,h,d){return vi=d,De=r,r.memoizedState=null,r.updateQueue=null,r.lanes=0,Z.H=t===null||t.memoizedState===null?my:py,Ls=!1,d=a(l,h),Ls=!1,Na&&(d=kg(r,a,l,h)),Og(t),d}function Og(t){Z.H=oc;var r=Je!==null&&Je.next!==null;if(vi=0,Tt=Je=De=null,ec=!1,il=0,Da=null,r)throw Error(s(300));t===null||Vt||(t=t.dependencies,t!==null&&Yu(t)&&(Vt=!0))}function kg(t,r,a,l){De=t;var h=0;do{if(Na&&(Da=null),il=0,Na=!1,25<=h)throw Error(s(301));if(h+=1,Tt=Je=null,t.updateQueue!=null){var d=t.updateQueue;d.lastEffect=null,d.events=null,d.stores=null,d.memoCache!=null&&(d.memoCache.index=0)}Z.H=TS,d=r(a,l)}while(Na);return d}function pS(){var t=Z.H,r=t.useState()[0];return r=typeof r.then=="function"?sl(r):r,t=t.useState()[0],(Je!==null?Je.memoizedState:null)!==t&&(De.flags|=1024),r}function Bf(){var t=tc!==0;return tc=0,t}function Hf(t,r,a){r.updateQueue=t.updateQueue,r.flags&=-2053,t.lanes&=~a}function qf(t){if(ec){for(t=t.memoizedState;t!==null;){var r=t.queue;r!==null&&(r.pending=null),t=t.next}ec=!1}vi=0,Tt=Je=De=null,Na=!1,il=tc=0,Da=null}function an(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Tt===null?De.memoizedState=Tt=t:Tt=Tt.next=t,Tt}function bt(){if(Je===null){var t=De.alternate;t=t!==null?t.memoizedState:null}else t=Je.next;var r=Tt===null?De.memoizedState:Tt.next;if(r!==null)Tt=r,Je=t;else{if(t===null)throw De.alternate===null?Error(s(467)):Error(s(310));Je=t,t={memoizedState:Je.memoizedState,baseState:Je.baseState,baseQueue:Je.baseQueue,queue:Je.queue,next:null},Tt===null?De.memoizedState=Tt=t:Tt=Tt.next=t}return Tt}function Ff(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function sl(t){var r=il;return il+=1,Da===null&&(Da=[]),t=xg(Da,t,r),r=De,(Tt===null?r.memoizedState:Tt.next)===null&&(r=r.alternate,Z.H=r===null||r.memoizedState===null?my:py),t}function nc(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return sl(t);if(t.$$typeof===X)return Yt(t)}throw Error(s(438,String(t)))}function Gf(t){var r=null,a=De.updateQueue;if(a!==null&&(r=a.memoCache),r==null){var l=De.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(r={data:l.data.map(function(h){return h.slice()}),index:0})))}if(r==null&&(r={data:[],index:0}),a===null&&(a=Ff(),De.updateQueue=a),a.memoCache=r,a=r.data[r.index],a===void 0)for(a=r.data[r.index]=Array(t),l=0;l<t;l++)a[l]=O;return r.index++,a}function zr(t,r){return typeof r=="function"?r(t):r}function rc(t){var r=bt();return Kf(r,Je,t)}function Kf(t,r,a){var l=t.queue;if(l===null)throw Error(s(311));l.lastRenderedReducer=a;var h=t.baseQueue,d=l.pending;if(d!==null){if(h!==null){var _=h.next;h.next=d.next,d.next=_}r.baseQueue=h=d,l.pending=null}if(d=t.baseState,h===null)t.memoizedState=d;else{r=h.next;var b=_=null,D=null,F=r,ee=!1;do{var ie=F.lane&-536870913;if(ie!==F.lane?(Be&ie)===ie:(vi&ie)===ie){var G=F.revertLane;if(G===0)D!==null&&(D=D.next={lane:0,revertLane:0,action:F.action,hasEagerState:F.hasEagerState,eagerState:F.eagerState,next:null}),ie===Ra&&(ee=!0);else if((vi&G)===G){F=F.next,G===Ra&&(ee=!0);continue}else ie={lane:0,revertLane:F.revertLane,action:F.action,hasEagerState:F.hasEagerState,eagerState:F.eagerState,next:null},D===null?(b=D=ie,_=d):D=D.next=ie,De.lanes|=G,Ai|=G;ie=F.action,Ls&&a(d,ie),d=F.hasEagerState?F.eagerState:a(d,ie)}else G={lane:ie,revertLane:F.revertLane,action:F.action,hasEagerState:F.hasEagerState,eagerState:F.eagerState,next:null},D===null?(b=D=G,_=d):D=D.next=G,De.lanes|=ie,Ai|=ie;F=F.next}while(F!==null&&F!==r);if(D===null?_=d:D.next=b,!mn(d,t.memoizedState)&&(Vt=!0,ee&&(a=Ia,a!==null)))throw a;t.memoizedState=d,t.baseState=_,t.baseQueue=D,l.lastRenderedState=d}return h===null&&(l.lanes=0),[t.memoizedState,l.dispatch]}function Qf(t){var r=bt(),a=r.queue;if(a===null)throw Error(s(311));a.lastRenderedReducer=t;var l=a.dispatch,h=a.pending,d=r.memoizedState;if(h!==null){a.pending=null;var _=h=h.next;do d=t(d,_.action),_=_.next;while(_!==h);mn(d,r.memoizedState)||(Vt=!0),r.memoizedState=d,r.baseQueue===null&&(r.baseState=d),a.lastRenderedState=d}return[d,l]}function Mg(t,r,a){var l=De,h=bt(),d=Ge;if(d){if(a===void 0)throw Error(s(407));a=a()}else a=r();var _=!mn((Je||h).memoizedState,a);_&&(h.memoizedState=a,Vt=!0),h=h.queue;var b=Lg.bind(null,l,h,t);if(al(2048,8,b,[t]),h.getSnapshot!==r||_||Tt!==null&&Tt.memoizedState.tag&1){if(l.flags|=2048,Oa(9,ic(),Pg.bind(null,l,h,a,r),null),rt===null)throw Error(s(349));d||(vi&124)!==0||Vg(l,r,a)}return a}function Vg(t,r,a){t.flags|=16384,t={getSnapshot:r,value:a},r=De.updateQueue,r===null?(r=Ff(),De.updateQueue=r,r.stores=[t]):(a=r.stores,a===null?r.stores=[t]:a.push(t))}function Pg(t,r,a,l){r.value=a,r.getSnapshot=l,Ug(r)&&jg(t)}function Lg(t,r,a){return a(function(){Ug(r)&&jg(t)})}function Ug(t){var r=t.getSnapshot;t=t.value;try{var a=r();return!mn(t,a)}catch{return!0}}function jg(t){var r=Sa(t,2);r!==null&&En(r,t,2)}function Yf(t){var r=an();if(typeof t=="function"){var a=t;if(t=a(),Ls){fn(!0);try{a()}finally{fn(!1)}}}return r.memoizedState=r.baseState=t,r.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:zr,lastRenderedState:t},r}function zg(t,r,a,l){return t.baseState=a,Kf(t,Je,typeof l=="function"?l:zr)}function gS(t,r,a,l,h){if(ac(t))throw Error(s(485));if(t=r.action,t!==null){var d={payload:h,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(_){d.listeners.push(_)}};Z.T!==null?a(!0):d.isTransition=!1,l(d),a=r.pending,a===null?(d.next=r.pending=d,Bg(r,d)):(d.next=a.next,r.pending=a.next=d)}}function Bg(t,r){var a=r.action,l=r.payload,h=t.state;if(r.isTransition){var d=Z.T,_={};Z.T=_;try{var b=a(h,l),D=Z.S;D!==null&&D(_,b),Hg(t,r,b)}catch(F){$f(t,r,F)}finally{Z.T=d}}else try{d=a(h,l),Hg(t,r,d)}catch(F){$f(t,r,F)}}function Hg(t,r,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(l){qg(t,r,l)},function(l){return $f(t,r,l)}):qg(t,r,a)}function qg(t,r,a){r.status="fulfilled",r.value=a,Fg(r),t.state=a,r=t.pending,r!==null&&(a=r.next,a===r?t.pending=null:(a=a.next,r.next=a,Bg(t,a)))}function $f(t,r,a){var l=t.pending;if(t.pending=null,l!==null){l=l.next;do r.status="rejected",r.reason=a,Fg(r),r=r.next;while(r!==l)}t.action=null}function Fg(t){t=t.listeners;for(var r=0;r<t.length;r++)(0,t[r])()}function Gg(t,r){return r}function Kg(t,r){if(Ge){var a=rt.formState;if(a!==null){e:{var l=De;if(Ge){if(dt){t:{for(var h=dt,d=lr;h.nodeType!==8;){if(!d){h=null;break t}if(h=Fn(h.nextSibling),h===null){h=null;break t}}d=h.data,h=d==="F!"||d==="F"?h:null}if(h){dt=Fn(h.nextSibling),l=h.data==="F!";break e}}ks(l)}l=!1}l&&(r=a[0])}}return a=an(),a.memoizedState=a.baseState=r,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Gg,lastRenderedState:r},a.queue=l,a=hy.bind(null,De,l),l.dispatch=a,l=Yf(!1),d=ed.bind(null,De,!1,l.queue),l=an(),h={state:r,dispatch:null,action:t,pending:null},l.queue=h,a=gS.bind(null,De,h,d,a),h.dispatch=a,l.memoizedState=t,[r,a,!1]}function Qg(t){var r=bt();return Yg(r,Je,t)}function Yg(t,r,a){if(r=Kf(t,r,Gg)[0],t=rc(zr)[0],typeof r=="object"&&r!==null&&typeof r.then=="function")try{var l=sl(r)}catch(_){throw _===Jo?Wu:_}else l=r;r=bt();var h=r.queue,d=h.dispatch;return a!==r.memoizedState&&(De.flags|=2048,Oa(9,ic(),yS.bind(null,h,a),null)),[l,d,t]}function yS(t,r){t.action=r}function $g(t){var r=bt(),a=Je;if(a!==null)return Yg(r,a,t);bt(),r=r.memoizedState,a=bt();var l=a.queue.dispatch;return a.memoizedState=t,[r,l,!1]}function Oa(t,r,a,l){return t={tag:t,create:a,deps:l,inst:r,next:null},r=De.updateQueue,r===null&&(r=Ff(),De.updateQueue=r),a=r.lastEffect,a===null?r.lastEffect=t.next=t:(l=a.next,a.next=t,t.next=l,r.lastEffect=t),t}function ic(){return{destroy:void 0,resource:void 0}}function Xg(){return bt().memoizedState}function sc(t,r,a,l){var h=an();l=l===void 0?null:l,De.flags|=t,h.memoizedState=Oa(1|r,ic(),a,l)}function al(t,r,a,l){var h=bt();l=l===void 0?null:l;var d=h.memoizedState.inst;Je!==null&&l!==null&&jf(l,Je.memoizedState.deps)?h.memoizedState=Oa(r,d,a,l):(De.flags|=t,h.memoizedState=Oa(1|r,d,a,l))}function Wg(t,r){sc(8390656,8,t,r)}function Zg(t,r){al(2048,8,t,r)}function Jg(t,r){return al(4,2,t,r)}function ey(t,r){return al(4,4,t,r)}function ty(t,r){if(typeof r=="function"){t=t();var a=r(t);return function(){typeof a=="function"?a():r(null)}}if(r!=null)return t=t(),r.current=t,function(){r.current=null}}function ny(t,r,a){a=a!=null?a.concat([t]):null,al(4,4,ty.bind(null,r,t),a)}function Xf(){}function ry(t,r){var a=bt();r=r===void 0?null:r;var l=a.memoizedState;return r!==null&&jf(r,l[1])?l[0]:(a.memoizedState=[t,r],t)}function iy(t,r){var a=bt();r=r===void 0?null:r;var l=a.memoizedState;if(r!==null&&jf(r,l[1]))return l[0];if(l=t(),Ls){fn(!0);try{t()}finally{fn(!1)}}return a.memoizedState=[l,r],l}function Wf(t,r,a){return a===void 0||(vi&1073741824)!==0?t.memoizedState=r:(t.memoizedState=a,t=ov(),De.lanes|=t,Ai|=t,a)}function sy(t,r,a,l){return mn(a,r)?a:Ca.current!==null?(t=Wf(t,a,l),mn(t,r)||(Vt=!0),t):(vi&42)===0?(Vt=!0,t.memoizedState=a):(t=ov(),De.lanes|=t,Ai|=t,r)}function ay(t,r,a,l,h){var d=ue.p;ue.p=d!==0&&8>d?d:8;var _=Z.T,b={};Z.T=b,ed(t,!1,r,a);try{var D=h(),F=Z.S;if(F!==null&&F(b,D),D!==null&&typeof D=="object"&&typeof D.then=="function"){var ee=dS(D,l);ol(t,r,ee,_n(t))}else ol(t,r,l,_n(t))}catch(ie){ol(t,r,{then:function(){},status:"rejected",reason:ie},_n())}finally{ue.p=d,Z.T=_}}function vS(){}function Zf(t,r,a,l){if(t.tag!==5)throw Error(s(476));var h=oy(t).queue;ay(t,h,r,re,a===null?vS:function(){return ly(t),a(l)})}function oy(t){var r=t.memoizedState;if(r!==null)return r;r={memoizedState:re,baseState:re,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:zr,lastRenderedState:re},next:null};var a={};return r.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:zr,lastRenderedState:a},next:null},t.memoizedState=r,t=t.alternate,t!==null&&(t.memoizedState=r),r}function ly(t){var r=oy(t).next.queue;ol(t,r,{},_n())}function Jf(){return Yt(Al)}function uy(){return bt().memoizedState}function cy(){return bt().memoizedState}function _S(t){for(var r=t.return;r!==null;){switch(r.tag){case 24:case 3:var a=_n();t=gi(a);var l=yi(r,t,a);l!==null&&(En(l,r,a),tl(l,r,a)),r={cache:Cf()},t.payload=r;return}r=r.return}}function ES(t,r,a){var l=_n();a={lane:l,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null},ac(t)?fy(r,a):(a=_f(t,r,a,l),a!==null&&(En(a,t,l),dy(a,r,l)))}function hy(t,r,a){var l=_n();ol(t,r,a,l)}function ol(t,r,a,l){var h={lane:l,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null};if(ac(t))fy(r,h);else{var d=t.alternate;if(t.lanes===0&&(d===null||d.lanes===0)&&(d=r.lastRenderedReducer,d!==null))try{var _=r.lastRenderedState,b=d(_,a);if(h.hasEagerState=!0,h.eagerState=b,mn(b,_))return qu(t,r,h,0),rt===null&&Hu(),!1}catch{}finally{}if(a=_f(t,r,h,l),a!==null)return En(a,t,l),dy(a,r,l),!0}return!1}function ed(t,r,a,l){if(l={lane:2,revertLane:Od(),action:l,hasEagerState:!1,eagerState:null,next:null},ac(t)){if(r)throw Error(s(479))}else r=_f(t,a,l,2),r!==null&&En(r,t,2)}function ac(t){var r=t.alternate;return t===De||r!==null&&r===De}function fy(t,r){Na=ec=!0;var a=t.pending;a===null?r.next=r:(r.next=a.next,a.next=r),t.pending=r}function dy(t,r,a){if((a&4194048)!==0){var l=r.lanes;l&=t.pendingLanes,a|=l,r.lanes=a,Co(t,a)}}var oc={readContext:Yt,use:nc,useCallback:gt,useContext:gt,useEffect:gt,useImperativeHandle:gt,useLayoutEffect:gt,useInsertionEffect:gt,useMemo:gt,useReducer:gt,useRef:gt,useState:gt,useDebugValue:gt,useDeferredValue:gt,useTransition:gt,useSyncExternalStore:gt,useId:gt,useHostTransitionStatus:gt,useFormState:gt,useActionState:gt,useOptimistic:gt,useMemoCache:gt,useCacheRefresh:gt},my={readContext:Yt,use:nc,useCallback:function(t,r){return an().memoizedState=[t,r===void 0?null:r],t},useContext:Yt,useEffect:Wg,useImperativeHandle:function(t,r,a){a=a!=null?a.concat([t]):null,sc(4194308,4,ty.bind(null,r,t),a)},useLayoutEffect:function(t,r){return sc(4194308,4,t,r)},useInsertionEffect:function(t,r){sc(4,2,t,r)},useMemo:function(t,r){var a=an();r=r===void 0?null:r;var l=t();if(Ls){fn(!0);try{t()}finally{fn(!1)}}return a.memoizedState=[l,r],l},useReducer:function(t,r,a){var l=an();if(a!==void 0){var h=a(r);if(Ls){fn(!0);try{a(r)}finally{fn(!1)}}}else h=r;return l.memoizedState=l.baseState=h,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:h},l.queue=t,t=t.dispatch=ES.bind(null,De,t),[l.memoizedState,t]},useRef:function(t){var r=an();return t={current:t},r.memoizedState=t},useState:function(t){t=Yf(t);var r=t.queue,a=hy.bind(null,De,r);return r.dispatch=a,[t.memoizedState,a]},useDebugValue:Xf,useDeferredValue:function(t,r){var a=an();return Wf(a,t,r)},useTransition:function(){var t=Yf(!1);return t=ay.bind(null,De,t.queue,!0,!1),an().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,r,a){var l=De,h=an();if(Ge){if(a===void 0)throw Error(s(407));a=a()}else{if(a=r(),rt===null)throw Error(s(349));(Be&124)!==0||Vg(l,r,a)}h.memoizedState=a;var d={value:a,getSnapshot:r};return h.queue=d,Wg(Lg.bind(null,l,d,t),[t]),l.flags|=2048,Oa(9,ic(),Pg.bind(null,l,d,a,r),null),a},useId:function(){var t=an(),r=rt.identifierPrefix;if(Ge){var a=Lr,l=Pr;a=(l&~(1<<32-Qt(l)-1)).toString(32)+a,r=""+r+"R"+a,a=tc++,0<a&&(r+="H"+a.toString(32)),r+=""}else a=mS++,r=""+r+"r"+a.toString(32)+"";return t.memoizedState=r},useHostTransitionStatus:Jf,useFormState:Kg,useActionState:Kg,useOptimistic:function(t){var r=an();r.memoizedState=r.baseState=t;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return r.queue=a,r=ed.bind(null,De,!0,a),a.dispatch=r,[t,r]},useMemoCache:Gf,useCacheRefresh:function(){return an().memoizedState=_S.bind(null,De)}},py={readContext:Yt,use:nc,useCallback:ry,useContext:Yt,useEffect:Zg,useImperativeHandle:ny,useInsertionEffect:Jg,useLayoutEffect:ey,useMemo:iy,useReducer:rc,useRef:Xg,useState:function(){return rc(zr)},useDebugValue:Xf,useDeferredValue:function(t,r){var a=bt();return sy(a,Je.memoizedState,t,r)},useTransition:function(){var t=rc(zr)[0],r=bt().memoizedState;return[typeof t=="boolean"?t:sl(t),r]},useSyncExternalStore:Mg,useId:uy,useHostTransitionStatus:Jf,useFormState:Qg,useActionState:Qg,useOptimistic:function(t,r){var a=bt();return zg(a,Je,t,r)},useMemoCache:Gf,useCacheRefresh:cy},TS={readContext:Yt,use:nc,useCallback:ry,useContext:Yt,useEffect:Zg,useImperativeHandle:ny,useInsertionEffect:Jg,useLayoutEffect:ey,useMemo:iy,useReducer:Qf,useRef:Xg,useState:function(){return Qf(zr)},useDebugValue:Xf,useDeferredValue:function(t,r){var a=bt();return Je===null?Wf(a,t,r):sy(a,Je.memoizedState,t,r)},useTransition:function(){var t=Qf(zr)[0],r=bt().memoizedState;return[typeof t=="boolean"?t:sl(t),r]},useSyncExternalStore:Mg,useId:uy,useHostTransitionStatus:Jf,useFormState:$g,useActionState:$g,useOptimistic:function(t,r){var a=bt();return Je!==null?zg(a,Je,t,r):(a.baseState=t,[t,a.queue.dispatch])},useMemoCache:Gf,useCacheRefresh:cy},ka=null,ll=0;function lc(t){var r=ll;return ll+=1,ka===null&&(ka=[]),xg(ka,t,r)}function ul(t,r){r=r.props.ref,t.ref=r!==void 0?r:null}function uc(t,r){throw r.$$typeof===w?Error(s(525)):(t=Object.prototype.toString.call(r),Error(s(31,t==="[object Object]"?"object with keys {"+Object.keys(r).join(", ")+"}":t)))}function gy(t){var r=t._init;return r(t._payload)}function yy(t){function r(B,L){if(t){var q=B.deletions;q===null?(B.deletions=[L],B.flags|=16):q.push(L)}}function a(B,L){if(!t)return null;for(;L!==null;)r(B,L),L=L.sibling;return null}function l(B){for(var L=new Map;B!==null;)B.key!==null?L.set(B.key,B):L.set(B.index,B),B=B.sibling;return L}function h(B,L){return B=Vr(B,L),B.index=0,B.sibling=null,B}function d(B,L,q){return B.index=q,t?(q=B.alternate,q!==null?(q=q.index,q<L?(B.flags|=67108866,L):q):(B.flags|=67108866,L)):(B.flags|=1048576,L)}function _(B){return t&&B.alternate===null&&(B.flags|=67108866),B}function b(B,L,q,ne){return L===null||L.tag!==6?(L=Tf(q,B.mode,ne),L.return=B,L):(L=h(L,q),L.return=B,L)}function D(B,L,q,ne){var ge=q.type;return ge===N?ee(B,L,q.props.children,ne,q.key):L!==null&&(L.elementType===ge||typeof ge=="object"&&ge!==null&&ge.$$typeof===x&&gy(ge)===L.type)?(L=h(L,q.props),ul(L,q),L.return=B,L):(L=Gu(q.type,q.key,q.props,null,B.mode,ne),ul(L,q),L.return=B,L)}function F(B,L,q,ne){return L===null||L.tag!==4||L.stateNode.containerInfo!==q.containerInfo||L.stateNode.implementation!==q.implementation?(L=bf(q,B.mode,ne),L.return=B,L):(L=h(L,q.children||[]),L.return=B,L)}function ee(B,L,q,ne,ge){return L===null||L.tag!==7?(L=Cs(q,B.mode,ne,ge),L.return=B,L):(L=h(L,q),L.return=B,L)}function ie(B,L,q){if(typeof L=="string"&&L!==""||typeof L=="number"||typeof L=="bigint")return L=Tf(""+L,B.mode,q),L.return=B,L;if(typeof L=="object"&&L!==null){switch(L.$$typeof){case A:return q=Gu(L.type,L.key,L.props,null,B.mode,q),ul(q,L),q.return=B,q;case k:return L=bf(L,B.mode,q),L.return=B,L;case x:var ne=L._init;return L=ne(L._payload),ie(B,L,q)}if(We(L)||z(L))return L=Cs(L,B.mode,q,null),L.return=B,L;if(typeof L.then=="function")return ie(B,lc(L),q);if(L.$$typeof===X)return ie(B,$u(B,L),q);uc(B,L)}return null}function G(B,L,q,ne){var ge=L!==null?L.key:null;if(typeof q=="string"&&q!==""||typeof q=="number"||typeof q=="bigint")return ge!==null?null:b(B,L,""+q,ne);if(typeof q=="object"&&q!==null){switch(q.$$typeof){case A:return q.key===ge?D(B,L,q,ne):null;case k:return q.key===ge?F(B,L,q,ne):null;case x:return ge=q._init,q=ge(q._payload),G(B,L,q,ne)}if(We(q)||z(q))return ge!==null?null:ee(B,L,q,ne,null);if(typeof q.then=="function")return G(B,L,lc(q),ne);if(q.$$typeof===X)return G(B,L,$u(B,q),ne);uc(B,q)}return null}function Q(B,L,q,ne,ge){if(typeof ne=="string"&&ne!==""||typeof ne=="number"||typeof ne=="bigint")return B=B.get(q)||null,b(L,B,""+ne,ge);if(typeof ne=="object"&&ne!==null){switch(ne.$$typeof){case A:return B=B.get(ne.key===null?q:ne.key)||null,D(L,B,ne,ge);case k:return B=B.get(ne.key===null?q:ne.key)||null,F(L,B,ne,ge);case x:var Me=ne._init;return ne=Me(ne._payload),Q(B,L,q,ne,ge)}if(We(ne)||z(ne))return B=B.get(q)||null,ee(L,B,ne,ge,null);if(typeof ne.then=="function")return Q(B,L,q,lc(ne),ge);if(ne.$$typeof===X)return Q(B,L,q,$u(L,ne),ge);uc(L,ne)}return null}function Se(B,L,q,ne){for(var ge=null,Me=null,ve=L,Te=L=0,Lt=null;ve!==null&&Te<q.length;Te++){ve.index>Te?(Lt=ve,ve=null):Lt=ve.sibling;var qe=G(B,ve,q[Te],ne);if(qe===null){ve===null&&(ve=Lt);break}t&&ve&&qe.alternate===null&&r(B,ve),L=d(qe,L,Te),Me===null?ge=qe:Me.sibling=qe,Me=qe,ve=Lt}if(Te===q.length)return a(B,ve),Ge&&Ds(B,Te),ge;if(ve===null){for(;Te<q.length;Te++)ve=ie(B,q[Te],ne),ve!==null&&(L=d(ve,L,Te),Me===null?ge=ve:Me.sibling=ve,Me=ve);return Ge&&Ds(B,Te),ge}for(ve=l(ve);Te<q.length;Te++)Lt=Q(ve,B,Te,q[Te],ne),Lt!==null&&(t&&Lt.alternate!==null&&ve.delete(Lt.key===null?Te:Lt.key),L=d(Lt,L,Te),Me===null?ge=Lt:Me.sibling=Lt,Me=Lt);return t&&ve.forEach(function(Mi){return r(B,Mi)}),Ge&&Ds(B,Te),ge}function Ee(B,L,q,ne){if(q==null)throw Error(s(151));for(var ge=null,Me=null,ve=L,Te=L=0,Lt=null,qe=q.next();ve!==null&&!qe.done;Te++,qe=q.next()){ve.index>Te?(Lt=ve,ve=null):Lt=ve.sibling;var Mi=G(B,ve,qe.value,ne);if(Mi===null){ve===null&&(ve=Lt);break}t&&ve&&Mi.alternate===null&&r(B,ve),L=d(Mi,L,Te),Me===null?ge=Mi:Me.sibling=Mi,Me=Mi,ve=Lt}if(qe.done)return a(B,ve),Ge&&Ds(B,Te),ge;if(ve===null){for(;!qe.done;Te++,qe=q.next())qe=ie(B,qe.value,ne),qe!==null&&(L=d(qe,L,Te),Me===null?ge=qe:Me.sibling=qe,Me=qe);return Ge&&Ds(B,Te),ge}for(ve=l(ve);!qe.done;Te++,qe=q.next())qe=Q(ve,B,Te,qe.value,ne),qe!==null&&(t&&qe.alternate!==null&&ve.delete(qe.key===null?Te:qe.key),L=d(qe,L,Te),Me===null?ge=qe:Me.sibling=qe,Me=qe);return t&&ve.forEach(function(bw){return r(B,bw)}),Ge&&Ds(B,Te),ge}function tt(B,L,q,ne){if(typeof q=="object"&&q!==null&&q.type===N&&q.key===null&&(q=q.props.children),typeof q=="object"&&q!==null){switch(q.$$typeof){case A:e:{for(var ge=q.key;L!==null;){if(L.key===ge){if(ge=q.type,ge===N){if(L.tag===7){a(B,L.sibling),ne=h(L,q.props.children),ne.return=B,B=ne;break e}}else if(L.elementType===ge||typeof ge=="object"&&ge!==null&&ge.$$typeof===x&&gy(ge)===L.type){a(B,L.sibling),ne=h(L,q.props),ul(ne,q),ne.return=B,B=ne;break e}a(B,L);break}else r(B,L);L=L.sibling}q.type===N?(ne=Cs(q.props.children,B.mode,ne,q.key),ne.return=B,B=ne):(ne=Gu(q.type,q.key,q.props,null,B.mode,ne),ul(ne,q),ne.return=B,B=ne)}return _(B);case k:e:{for(ge=q.key;L!==null;){if(L.key===ge)if(L.tag===4&&L.stateNode.containerInfo===q.containerInfo&&L.stateNode.implementation===q.implementation){a(B,L.sibling),ne=h(L,q.children||[]),ne.return=B,B=ne;break e}else{a(B,L);break}else r(B,L);L=L.sibling}ne=bf(q,B.mode,ne),ne.return=B,B=ne}return _(B);case x:return ge=q._init,q=ge(q._payload),tt(B,L,q,ne)}if(We(q))return Se(B,L,q,ne);if(z(q)){if(ge=z(q),typeof ge!="function")throw Error(s(150));return q=ge.call(q),Ee(B,L,q,ne)}if(typeof q.then=="function")return tt(B,L,lc(q),ne);if(q.$$typeof===X)return tt(B,L,$u(B,q),ne);uc(B,q)}return typeof q=="string"&&q!==""||typeof q=="number"||typeof q=="bigint"?(q=""+q,L!==null&&L.tag===6?(a(B,L.sibling),ne=h(L,q),ne.return=B,B=ne):(a(B,L),ne=Tf(q,B.mode,ne),ne.return=B,B=ne),_(B)):a(B,L)}return function(B,L,q,ne){try{ll=0;var ge=tt(B,L,q,ne);return ka=null,ge}catch(ve){if(ve===Jo||ve===Wu)throw ve;var Me=pn(29,ve,null,B.mode);return Me.lanes=ne,Me.return=B,Me}finally{}}}var Ma=yy(!0),vy=yy(!1),On=Y(null),ur=null;function _i(t){var r=t.alternate;W(Ct,Ct.current&1),W(On,t),ur===null&&(r===null||Ca.current!==null||r.memoizedState!==null)&&(ur=t)}function _y(t){if(t.tag===22){if(W(Ct,Ct.current),W(On,t),ur===null){var r=t.alternate;r!==null&&r.memoizedState!==null&&(ur=t)}}else Ei()}function Ei(){W(Ct,Ct.current),W(On,On.current)}function Br(t){J(On),ur===t&&(ur=null),J(Ct)}var Ct=Y(0);function cc(t){for(var r=t;r!==null;){if(r.tag===13){var a=r.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||a.data==="$?"||Fd(a)))return r}else if(r.tag===19&&r.memoizedProps.revealOrder!==void 0){if((r.flags&128)!==0)return r}else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return null;r=r.return}r.sibling.return=r.return,r=r.sibling}return null}function td(t,r,a,l){r=t.memoizedState,a=a(l,r),a=a==null?r:E({},r,a),t.memoizedState=a,t.lanes===0&&(t.updateQueue.baseState=a)}var nd={enqueueSetState:function(t,r,a){t=t._reactInternals;var l=_n(),h=gi(l);h.payload=r,a!=null&&(h.callback=a),r=yi(t,h,l),r!==null&&(En(r,t,l),tl(r,t,l))},enqueueReplaceState:function(t,r,a){t=t._reactInternals;var l=_n(),h=gi(l);h.tag=1,h.payload=r,a!=null&&(h.callback=a),r=yi(t,h,l),r!==null&&(En(r,t,l),tl(r,t,l))},enqueueForceUpdate:function(t,r){t=t._reactInternals;var a=_n(),l=gi(a);l.tag=2,r!=null&&(l.callback=r),r=yi(t,l,a),r!==null&&(En(r,t,a),tl(r,t,a))}};function Ey(t,r,a,l,h,d,_){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(l,d,_):r.prototype&&r.prototype.isPureReactComponent?!Go(a,l)||!Go(h,d):!0}function Ty(t,r,a,l){t=r.state,typeof r.componentWillReceiveProps=="function"&&r.componentWillReceiveProps(a,l),typeof r.UNSAFE_componentWillReceiveProps=="function"&&r.UNSAFE_componentWillReceiveProps(a,l),r.state!==t&&nd.enqueueReplaceState(r,r.state,null)}function Us(t,r){var a=r;if("ref"in r){a={};for(var l in r)l!=="ref"&&(a[l]=r[l])}if(t=t.defaultProps){a===r&&(a=E({},a));for(var h in t)a[h]===void 0&&(a[h]=t[h])}return a}var hc=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var r=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(r))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)};function by(t){hc(t)}function Sy(t){console.error(t)}function wy(t){hc(t)}function fc(t,r){try{var a=t.onUncaughtError;a(r.value,{componentStack:r.stack})}catch(l){setTimeout(function(){throw l})}}function Ay(t,r,a){try{var l=t.onCaughtError;l(a.value,{componentStack:a.stack,errorBoundary:r.tag===1?r.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function rd(t,r,a){return a=gi(a),a.tag=3,a.payload={element:null},a.callback=function(){fc(t,r)},a}function xy(t){return t=gi(t),t.tag=3,t}function Ry(t,r,a,l){var h=a.type.getDerivedStateFromError;if(typeof h=="function"){var d=l.value;t.payload=function(){return h(d)},t.callback=function(){Ay(r,a,l)}}var _=a.stateNode;_!==null&&typeof _.componentDidCatch=="function"&&(t.callback=function(){Ay(r,a,l),typeof h!="function"&&(xi===null?xi=new Set([this]):xi.add(this));var b=l.stack;this.componentDidCatch(l.value,{componentStack:b!==null?b:""})})}function bS(t,r,a,l,h){if(a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(r=a.alternate,r!==null&&Xo(r,a,h,!0),a=On.current,a!==null){switch(a.tag){case 13:return ur===null?Rd():a.alternate===null&&mt===0&&(mt=3),a.flags&=-257,a.flags|=65536,a.lanes=h,l===Of?a.flags|=16384:(r=a.updateQueue,r===null?a.updateQueue=new Set([l]):r.add(l),Cd(t,l,h)),!1;case 22:return a.flags|=65536,l===Of?a.flags|=16384:(r=a.updateQueue,r===null?(r={transitions:null,markerInstances:null,retryQueue:new Set([l])},a.updateQueue=r):(a=r.retryQueue,a===null?r.retryQueue=new Set([l]):a.add(l)),Cd(t,l,h)),!1}throw Error(s(435,a.tag))}return Cd(t,l,h),Rd(),!1}if(Ge)return r=On.current,r!==null?((r.flags&65536)===0&&(r.flags|=256),r.flags|=65536,r.lanes=h,l!==Af&&(t=Error(s(422),{cause:l}),$o(In(t,a)))):(l!==Af&&(r=Error(s(423),{cause:l}),$o(In(r,a))),t=t.current.alternate,t.flags|=65536,h&=-h,t.lanes|=h,l=In(l,a),h=rd(t.stateNode,l,h),Vf(t,h),mt!==4&&(mt=2)),!1;var d=Error(s(520),{cause:l});if(d=In(d,a),gl===null?gl=[d]:gl.push(d),mt!==4&&(mt=2),r===null)return!0;l=In(l,a),a=r;do{switch(a.tag){case 3:return a.flags|=65536,t=h&-h,a.lanes|=t,t=rd(a.stateNode,l,t),Vf(a,t),!1;case 1:if(r=a.type,d=a.stateNode,(a.flags&128)===0&&(typeof r.getDerivedStateFromError=="function"||d!==null&&typeof d.componentDidCatch=="function"&&(xi===null||!xi.has(d))))return a.flags|=65536,h&=-h,a.lanes|=h,h=xy(h),Ry(h,t,a,l),Vf(a,h),!1}a=a.return}while(a!==null);return!1}var Iy=Error(s(461)),Vt=!1;function Bt(t,r,a,l){r.child=t===null?vy(r,null,a,l):Ma(r,t.child,a,l)}function Cy(t,r,a,l,h){a=a.render;var d=r.ref;if("ref"in l){var _={};for(var b in l)b!=="ref"&&(_[b]=l[b])}else _=l;return Vs(r),l=zf(t,r,a,_,d,h),b=Bf(),t!==null&&!Vt?(Hf(t,r,h),Hr(t,r,h)):(Ge&&b&&Sf(r),r.flags|=1,Bt(t,r,l,h),r.child)}function Ny(t,r,a,l,h){if(t===null){var d=a.type;return typeof d=="function"&&!Ef(d)&&d.defaultProps===void 0&&a.compare===null?(r.tag=15,r.type=d,Dy(t,r,d,l,h)):(t=Gu(a.type,null,l,r,r.mode,h),t.ref=r.ref,t.return=r,r.child=t)}if(d=t.child,!hd(t,h)){var _=d.memoizedProps;if(a=a.compare,a=a!==null?a:Go,a(_,l)&&t.ref===r.ref)return Hr(t,r,h)}return r.flags|=1,t=Vr(d,l),t.ref=r.ref,t.return=r,r.child=t}function Dy(t,r,a,l,h){if(t!==null){var d=t.memoizedProps;if(Go(d,l)&&t.ref===r.ref)if(Vt=!1,r.pendingProps=l=d,hd(t,h))(t.flags&131072)!==0&&(Vt=!0);else return r.lanes=t.lanes,Hr(t,r,h)}return id(t,r,a,l,h)}function Oy(t,r,a){var l=r.pendingProps,h=l.children,d=t!==null?t.memoizedState:null;if(l.mode==="hidden"){if((r.flags&128)!==0){if(l=d!==null?d.baseLanes|a:a,t!==null){for(h=r.child=t.child,d=0;h!==null;)d=d|h.lanes|h.childLanes,h=h.sibling;r.childLanes=d&~l}else r.childLanes=0,r.child=null;return ky(t,r,l,a)}if((a&536870912)!==0)r.memoizedState={baseLanes:0,cachePool:null},t!==null&&Xu(r,d!==null?d.cachePool:null),d!==null?Dg(r,d):Lf(),_y(r);else return r.lanes=r.childLanes=536870912,ky(t,r,d!==null?d.baseLanes|a:a,a)}else d!==null?(Xu(r,d.cachePool),Dg(r,d),Ei(),r.memoizedState=null):(t!==null&&Xu(r,null),Lf(),Ei());return Bt(t,r,h,a),r.child}function ky(t,r,a,l){var h=Df();return h=h===null?null:{parent:It._currentValue,pool:h},r.memoizedState={baseLanes:a,cachePool:h},t!==null&&Xu(r,null),Lf(),_y(r),t!==null&&Xo(t,r,l,!0),null}function dc(t,r){var a=r.ref;if(a===null)t!==null&&t.ref!==null&&(r.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(s(284));(t===null||t.ref!==a)&&(r.flags|=4194816)}}function id(t,r,a,l,h){return Vs(r),a=zf(t,r,a,l,void 0,h),l=Bf(),t!==null&&!Vt?(Hf(t,r,h),Hr(t,r,h)):(Ge&&l&&Sf(r),r.flags|=1,Bt(t,r,a,h),r.child)}function My(t,r,a,l,h,d){return Vs(r),r.updateQueue=null,a=kg(r,l,a,h),Og(t),l=Bf(),t!==null&&!Vt?(Hf(t,r,d),Hr(t,r,d)):(Ge&&l&&Sf(r),r.flags|=1,Bt(t,r,a,d),r.child)}function Vy(t,r,a,l,h){if(Vs(r),r.stateNode===null){var d=wa,_=a.contextType;typeof _=="object"&&_!==null&&(d=Yt(_)),d=new a(l,d),r.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,d.updater=nd,r.stateNode=d,d._reactInternals=r,d=r.stateNode,d.props=l,d.state=r.memoizedState,d.refs={},kf(r),_=a.contextType,d.context=typeof _=="object"&&_!==null?Yt(_):wa,d.state=r.memoizedState,_=a.getDerivedStateFromProps,typeof _=="function"&&(td(r,a,_,l),d.state=r.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof d.getSnapshotBeforeUpdate=="function"||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(_=d.state,typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount(),_!==d.state&&nd.enqueueReplaceState(d,d.state,null),rl(r,l,d,h),nl(),d.state=r.memoizedState),typeof d.componentDidMount=="function"&&(r.flags|=4194308),l=!0}else if(t===null){d=r.stateNode;var b=r.memoizedProps,D=Us(a,b);d.props=D;var F=d.context,ee=a.contextType;_=wa,typeof ee=="object"&&ee!==null&&(_=Yt(ee));var ie=a.getDerivedStateFromProps;ee=typeof ie=="function"||typeof d.getSnapshotBeforeUpdate=="function",b=r.pendingProps!==b,ee||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(b||F!==_)&&Ty(r,d,l,_),pi=!1;var G=r.memoizedState;d.state=G,rl(r,l,d,h),nl(),F=r.memoizedState,b||G!==F||pi?(typeof ie=="function"&&(td(r,a,ie,l),F=r.memoizedState),(D=pi||Ey(r,a,D,l,G,F,_))?(ee||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount()),typeof d.componentDidMount=="function"&&(r.flags|=4194308)):(typeof d.componentDidMount=="function"&&(r.flags|=4194308),r.memoizedProps=l,r.memoizedState=F),d.props=l,d.state=F,d.context=_,l=D):(typeof d.componentDidMount=="function"&&(r.flags|=4194308),l=!1)}else{d=r.stateNode,Mf(t,r),_=r.memoizedProps,ee=Us(a,_),d.props=ee,ie=r.pendingProps,G=d.context,F=a.contextType,D=wa,typeof F=="object"&&F!==null&&(D=Yt(F)),b=a.getDerivedStateFromProps,(F=typeof b=="function"||typeof d.getSnapshotBeforeUpdate=="function")||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(_!==ie||G!==D)&&Ty(r,d,l,D),pi=!1,G=r.memoizedState,d.state=G,rl(r,l,d,h),nl();var Q=r.memoizedState;_!==ie||G!==Q||pi||t!==null&&t.dependencies!==null&&Yu(t.dependencies)?(typeof b=="function"&&(td(r,a,b,l),Q=r.memoizedState),(ee=pi||Ey(r,a,ee,l,G,Q,D)||t!==null&&t.dependencies!==null&&Yu(t.dependencies))?(F||typeof d.UNSAFE_componentWillUpdate!="function"&&typeof d.componentWillUpdate!="function"||(typeof d.componentWillUpdate=="function"&&d.componentWillUpdate(l,Q,D),typeof d.UNSAFE_componentWillUpdate=="function"&&d.UNSAFE_componentWillUpdate(l,Q,D)),typeof d.componentDidUpdate=="function"&&(r.flags|=4),typeof d.getSnapshotBeforeUpdate=="function"&&(r.flags|=1024)):(typeof d.componentDidUpdate!="function"||_===t.memoizedProps&&G===t.memoizedState||(r.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||_===t.memoizedProps&&G===t.memoizedState||(r.flags|=1024),r.memoizedProps=l,r.memoizedState=Q),d.props=l,d.state=Q,d.context=D,l=ee):(typeof d.componentDidUpdate!="function"||_===t.memoizedProps&&G===t.memoizedState||(r.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||_===t.memoizedProps&&G===t.memoizedState||(r.flags|=1024),l=!1)}return d=l,dc(t,r),l=(r.flags&128)!==0,d||l?(d=r.stateNode,a=l&&typeof a.getDerivedStateFromError!="function"?null:d.render(),r.flags|=1,t!==null&&l?(r.child=Ma(r,t.child,null,h),r.child=Ma(r,null,a,h)):Bt(t,r,a,h),r.memoizedState=d.state,t=r.child):t=Hr(t,r,h),t}function Py(t,r,a,l){return Yo(),r.flags|=256,Bt(t,r,a,l),r.child}var sd={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function ad(t){return{baseLanes:t,cachePool:Sg()}}function od(t,r,a){return t=t!==null?t.childLanes&~a:0,r&&(t|=kn),t}function Ly(t,r,a){var l=r.pendingProps,h=!1,d=(r.flags&128)!==0,_;if((_=d)||(_=t!==null&&t.memoizedState===null?!1:(Ct.current&2)!==0),_&&(h=!0,r.flags&=-129),_=(r.flags&32)!==0,r.flags&=-33,t===null){if(Ge){if(h?_i(r):Ei(),Ge){var b=dt,D;if(D=b){e:{for(D=b,b=lr;D.nodeType!==8;){if(!b){b=null;break e}if(D=Fn(D.nextSibling),D===null){b=null;break e}}b=D}b!==null?(r.memoizedState={dehydrated:b,treeContext:Ns!==null?{id:Pr,overflow:Lr}:null,retryLane:536870912,hydrationErrors:null},D=pn(18,null,null,0),D.stateNode=b,D.return=r,r.child=D,rn=r,dt=null,D=!0):D=!1}D||ks(r)}if(b=r.memoizedState,b!==null&&(b=b.dehydrated,b!==null))return Fd(b)?r.lanes=32:r.lanes=536870912,null;Br(r)}return b=l.children,l=l.fallback,h?(Ei(),h=r.mode,b=mc({mode:"hidden",children:b},h),l=Cs(l,h,a,null),b.return=r,l.return=r,b.sibling=l,r.child=b,h=r.child,h.memoizedState=ad(a),h.childLanes=od(t,_,a),r.memoizedState=sd,l):(_i(r),ld(r,b))}if(D=t.memoizedState,D!==null&&(b=D.dehydrated,b!==null)){if(d)r.flags&256?(_i(r),r.flags&=-257,r=ud(t,r,a)):r.memoizedState!==null?(Ei(),r.child=t.child,r.flags|=128,r=null):(Ei(),h=l.fallback,b=r.mode,l=mc({mode:"visible",children:l.children},b),h=Cs(h,b,a,null),h.flags|=2,l.return=r,h.return=r,l.sibling=h,r.child=l,Ma(r,t.child,null,a),l=r.child,l.memoizedState=ad(a),l.childLanes=od(t,_,a),r.memoizedState=sd,r=h);else if(_i(r),Fd(b)){if(_=b.nextSibling&&b.nextSibling.dataset,_)var F=_.dgst;_=F,l=Error(s(419)),l.stack="",l.digest=_,$o({value:l,source:null,stack:null}),r=ud(t,r,a)}else if(Vt||Xo(t,r,a,!1),_=(a&t.childLanes)!==0,Vt||_){if(_=rt,_!==null&&(l=a&-a,l=(l&42)!==0?1:oi(l),l=(l&(_.suspendedLanes|a))!==0?0:l,l!==0&&l!==D.retryLane))throw D.retryLane=l,Sa(t,l),En(_,t,l),Iy;b.data==="$?"||Rd(),r=ud(t,r,a)}else b.data==="$?"?(r.flags|=192,r.child=t.child,r=null):(t=D.treeContext,dt=Fn(b.nextSibling),rn=r,Ge=!0,Os=null,lr=!1,t!==null&&(Nn[Dn++]=Pr,Nn[Dn++]=Lr,Nn[Dn++]=Ns,Pr=t.id,Lr=t.overflow,Ns=r),r=ld(r,l.children),r.flags|=4096);return r}return h?(Ei(),h=l.fallback,b=r.mode,D=t.child,F=D.sibling,l=Vr(D,{mode:"hidden",children:l.children}),l.subtreeFlags=D.subtreeFlags&65011712,F!==null?h=Vr(F,h):(h=Cs(h,b,a,null),h.flags|=2),h.return=r,l.return=r,l.sibling=h,r.child=l,l=h,h=r.child,b=t.child.memoizedState,b===null?b=ad(a):(D=b.cachePool,D!==null?(F=It._currentValue,D=D.parent!==F?{parent:F,pool:F}:D):D=Sg(),b={baseLanes:b.baseLanes|a,cachePool:D}),h.memoizedState=b,h.childLanes=od(t,_,a),r.memoizedState=sd,l):(_i(r),a=t.child,t=a.sibling,a=Vr(a,{mode:"visible",children:l.children}),a.return=r,a.sibling=null,t!==null&&(_=r.deletions,_===null?(r.deletions=[t],r.flags|=16):_.push(t)),r.child=a,r.memoizedState=null,a)}function ld(t,r){return r=mc({mode:"visible",children:r},t.mode),r.return=t,t.child=r}function mc(t,r){return t=pn(22,t,null,r),t.lanes=0,t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},t}function ud(t,r,a){return Ma(r,t.child,null,a),t=ld(r,r.pendingProps.children),t.flags|=2,r.memoizedState=null,t}function Uy(t,r,a){t.lanes|=r;var l=t.alternate;l!==null&&(l.lanes|=r),Rf(t.return,r,a)}function cd(t,r,a,l,h){var d=t.memoizedState;d===null?t.memoizedState={isBackwards:r,rendering:null,renderingStartTime:0,last:l,tail:a,tailMode:h}:(d.isBackwards=r,d.rendering=null,d.renderingStartTime=0,d.last=l,d.tail=a,d.tailMode=h)}function jy(t,r,a){var l=r.pendingProps,h=l.revealOrder,d=l.tail;if(Bt(t,r,l.children,a),l=Ct.current,(l&2)!==0)l=l&1|2,r.flags|=128;else{if(t!==null&&(t.flags&128)!==0)e:for(t=r.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Uy(t,a,r);else if(t.tag===19)Uy(t,a,r);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===r)break e;for(;t.sibling===null;){if(t.return===null||t.return===r)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}l&=1}switch(W(Ct,l),h){case"forwards":for(a=r.child,h=null;a!==null;)t=a.alternate,t!==null&&cc(t)===null&&(h=a),a=a.sibling;a=h,a===null?(h=r.child,r.child=null):(h=a.sibling,a.sibling=null),cd(r,!1,h,a,d);break;case"backwards":for(a=null,h=r.child,r.child=null;h!==null;){if(t=h.alternate,t!==null&&cc(t)===null){r.child=h;break}t=h.sibling,h.sibling=a,a=h,h=t}cd(r,!0,a,null,d);break;case"together":cd(r,!1,null,null,void 0);break;default:r.memoizedState=null}return r.child}function Hr(t,r,a){if(t!==null&&(r.dependencies=t.dependencies),Ai|=r.lanes,(a&r.childLanes)===0)if(t!==null){if(Xo(t,r,a,!1),(a&r.childLanes)===0)return null}else return null;if(t!==null&&r.child!==t.child)throw Error(s(153));if(r.child!==null){for(t=r.child,a=Vr(t,t.pendingProps),r.child=a,a.return=r;t.sibling!==null;)t=t.sibling,a=a.sibling=Vr(t,t.pendingProps),a.return=r;a.sibling=null}return r.child}function hd(t,r){return(t.lanes&r)!==0?!0:(t=t.dependencies,!!(t!==null&&Yu(t)))}function SS(t,r,a){switch(r.tag){case 3:ke(r,r.stateNode.containerInfo),mi(r,It,t.memoizedState.cache),Yo();break;case 27:case 5:ai(r);break;case 4:ke(r,r.stateNode.containerInfo);break;case 10:mi(r,r.type,r.memoizedProps.value);break;case 13:var l=r.memoizedState;if(l!==null)return l.dehydrated!==null?(_i(r),r.flags|=128,null):(a&r.child.childLanes)!==0?Ly(t,r,a):(_i(r),t=Hr(t,r,a),t!==null?t.sibling:null);_i(r);break;case 19:var h=(t.flags&128)!==0;if(l=(a&r.childLanes)!==0,l||(Xo(t,r,a,!1),l=(a&r.childLanes)!==0),h){if(l)return jy(t,r,a);r.flags|=128}if(h=r.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),W(Ct,Ct.current),l)break;return null;case 22:case 23:return r.lanes=0,Oy(t,r,a);case 24:mi(r,It,t.memoizedState.cache)}return Hr(t,r,a)}function zy(t,r,a){if(t!==null)if(t.memoizedProps!==r.pendingProps)Vt=!0;else{if(!hd(t,a)&&(r.flags&128)===0)return Vt=!1,SS(t,r,a);Vt=(t.flags&131072)!==0}else Vt=!1,Ge&&(r.flags&1048576)!==0&&gg(r,Qu,r.index);switch(r.lanes=0,r.tag){case 16:e:{t=r.pendingProps;var l=r.elementType,h=l._init;if(l=h(l._payload),r.type=l,typeof l=="function")Ef(l)?(t=Us(l,t),r.tag=1,r=Vy(null,r,l,t,a)):(r.tag=0,r=id(null,r,l,t,a));else{if(l!=null){if(h=l.$$typeof,h===he){r.tag=11,r=Cy(null,r,l,t,a);break e}else if(h===V){r.tag=14,r=Ny(null,r,l,t,a);break e}}throw r=at(l)||l,Error(s(306,r,""))}}return r;case 0:return id(t,r,r.type,r.pendingProps,a);case 1:return l=r.type,h=Us(l,r.pendingProps),Vy(t,r,l,h,a);case 3:e:{if(ke(r,r.stateNode.containerInfo),t===null)throw Error(s(387));l=r.pendingProps;var d=r.memoizedState;h=d.element,Mf(t,r),rl(r,l,null,a);var _=r.memoizedState;if(l=_.cache,mi(r,It,l),l!==d.cache&&If(r,[It],a,!0),nl(),l=_.element,d.isDehydrated)if(d={element:l,isDehydrated:!1,cache:_.cache},r.updateQueue.baseState=d,r.memoizedState=d,r.flags&256){r=Py(t,r,l,a);break e}else if(l!==h){h=In(Error(s(424)),r),$o(h),r=Py(t,r,l,a);break e}else{switch(t=r.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(dt=Fn(t.firstChild),rn=r,Ge=!0,Os=null,lr=!0,a=vy(r,null,l,a),r.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(Yo(),l===h){r=Hr(t,r,a);break e}Bt(t,r,l,a)}r=r.child}return r;case 26:return dc(t,r),t===null?(a=Fv(r.type,null,r.pendingProps,null))?r.memoizedState=a:Ge||(a=r.type,t=r.pendingProps,l=Ic(ye.current).createElement(a),l[At]=r,l[_t]=t,qt(l,a,t),pt(l),r.stateNode=l):r.memoizedState=Fv(r.type,t.memoizedProps,r.pendingProps,t.memoizedState),null;case 27:return ai(r),t===null&&Ge&&(l=r.stateNode=Bv(r.type,r.pendingProps,ye.current),rn=r,lr=!0,h=dt,Ci(r.type)?(Gd=h,dt=Fn(l.firstChild)):dt=h),Bt(t,r,r.pendingProps.children,a),dc(t,r),t===null&&(r.flags|=4194304),r.child;case 5:return t===null&&Ge&&((h=l=dt)&&(l=WS(l,r.type,r.pendingProps,lr),l!==null?(r.stateNode=l,rn=r,dt=Fn(l.firstChild),lr=!1,h=!0):h=!1),h||ks(r)),ai(r),h=r.type,d=r.pendingProps,_=t!==null?t.memoizedProps:null,l=d.children,Bd(h,d)?l=null:_!==null&&Bd(h,_)&&(r.flags|=32),r.memoizedState!==null&&(h=zf(t,r,pS,null,null,a),Al._currentValue=h),dc(t,r),Bt(t,r,l,a),r.child;case 6:return t===null&&Ge&&((t=a=dt)&&(a=ZS(a,r.pendingProps,lr),a!==null?(r.stateNode=a,rn=r,dt=null,t=!0):t=!1),t||ks(r)),null;case 13:return Ly(t,r,a);case 4:return ke(r,r.stateNode.containerInfo),l=r.pendingProps,t===null?r.child=Ma(r,null,l,a):Bt(t,r,l,a),r.child;case 11:return Cy(t,r,r.type,r.pendingProps,a);case 7:return Bt(t,r,r.pendingProps,a),r.child;case 8:return Bt(t,r,r.pendingProps.children,a),r.child;case 12:return Bt(t,r,r.pendingProps.children,a),r.child;case 10:return l=r.pendingProps,mi(r,r.type,l.value),Bt(t,r,l.children,a),r.child;case 9:return h=r.type._context,l=r.pendingProps.children,Vs(r),h=Yt(h),l=l(h),r.flags|=1,Bt(t,r,l,a),r.child;case 14:return Ny(t,r,r.type,r.pendingProps,a);case 15:return Dy(t,r,r.type,r.pendingProps,a);case 19:return jy(t,r,a);case 31:return l=r.pendingProps,a=r.mode,l={mode:l.mode,children:l.children},t===null?(a=mc(l,a),a.ref=r.ref,r.child=a,a.return=r,r=a):(a=Vr(t.child,l),a.ref=r.ref,r.child=a,a.return=r,r=a),r;case 22:return Oy(t,r,a);case 24:return Vs(r),l=Yt(It),t===null?(h=Df(),h===null&&(h=rt,d=Cf(),h.pooledCache=d,d.refCount++,d!==null&&(h.pooledCacheLanes|=a),h=d),r.memoizedState={parent:l,cache:h},kf(r),mi(r,It,h)):((t.lanes&a)!==0&&(Mf(t,r),rl(r,null,null,a),nl()),h=t.memoizedState,d=r.memoizedState,h.parent!==l?(h={parent:l,cache:l},r.memoizedState=h,r.lanes===0&&(r.memoizedState=r.updateQueue.baseState=h),mi(r,It,l)):(l=d.cache,mi(r,It,l),l!==h.cache&&If(r,[It],a,!0))),Bt(t,r,r.pendingProps.children,a),r.child;case 29:throw r.pendingProps}throw Error(s(156,r.tag))}function qr(t){t.flags|=4}function By(t,r){if(r.type!=="stylesheet"||(r.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!$v(r)){if(r=On.current,r!==null&&((Be&4194048)===Be?ur!==null:(Be&62914560)!==Be&&(Be&536870912)===0||r!==ur))throw el=Of,wg;t.flags|=8192}}function pc(t,r){r!==null&&(t.flags|=4),t.flags&16384&&(r=t.tag!==22?Ro():536870912,t.lanes|=r,Ua|=r)}function cl(t,r){if(!Ge)switch(t.tailMode){case"hidden":r=t.tail;for(var a=null;r!==null;)r.alternate!==null&&(a=r),r=r.sibling;a===null?t.tail=null:a.sibling=null;break;case"collapsed":a=t.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?r||t.tail===null?t.tail=null:t.tail.sibling=null:l.sibling=null}}function ct(t){var r=t.alternate!==null&&t.alternate.child===t.child,a=0,l=0;if(r)for(var h=t.child;h!==null;)a|=h.lanes|h.childLanes,l|=h.subtreeFlags&65011712,l|=h.flags&65011712,h.return=t,h=h.sibling;else for(h=t.child;h!==null;)a|=h.lanes|h.childLanes,l|=h.subtreeFlags,l|=h.flags,h.return=t,h=h.sibling;return t.subtreeFlags|=l,t.childLanes=a,r}function wS(t,r,a){var l=r.pendingProps;switch(wf(r),r.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ct(r),null;case 1:return ct(r),null;case 3:return a=r.stateNode,l=null,t!==null&&(l=t.memoizedState.cache),r.memoizedState.cache!==l&&(r.flags|=2048),jr(It),Xn(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(t===null||t.child===null)&&(Qo(r)?qr(r):t===null||t.memoizedState.isDehydrated&&(r.flags&256)===0||(r.flags|=1024,_g())),ct(r),null;case 26:return a=r.memoizedState,t===null?(qr(r),a!==null?(ct(r),By(r,a)):(ct(r),r.flags&=-16777217)):a?a!==t.memoizedState?(qr(r),ct(r),By(r,a)):(ct(r),r.flags&=-16777217):(t.memoizedProps!==l&&qr(r),ct(r),r.flags&=-16777217),null;case 27:br(r),a=ye.current;var h=r.type;if(t!==null&&r.stateNode!=null)t.memoizedProps!==l&&qr(r);else{if(!l){if(r.stateNode===null)throw Error(s(166));return ct(r),null}t=fe.current,Qo(r)?yg(r):(t=Bv(h,l,a),r.stateNode=t,qr(r))}return ct(r),null;case 5:if(br(r),a=r.type,t!==null&&r.stateNode!=null)t.memoizedProps!==l&&qr(r);else{if(!l){if(r.stateNode===null)throw Error(s(166));return ct(r),null}if(t=fe.current,Qo(r))yg(r);else{switch(h=Ic(ye.current),t){case 1:t=h.createElementNS("http://www.w3.org/2000/svg",a);break;case 2:t=h.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;default:switch(a){case"svg":t=h.createElementNS("http://www.w3.org/2000/svg",a);break;case"math":t=h.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;case"script":t=h.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild);break;case"select":t=typeof l.is=="string"?h.createElement("select",{is:l.is}):h.createElement("select"),l.multiple?t.multiple=!0:l.size&&(t.size=l.size);break;default:t=typeof l.is=="string"?h.createElement(a,{is:l.is}):h.createElement(a)}}t[At]=r,t[_t]=l;e:for(h=r.child;h!==null;){if(h.tag===5||h.tag===6)t.appendChild(h.stateNode);else if(h.tag!==4&&h.tag!==27&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===r)break e;for(;h.sibling===null;){if(h.return===null||h.return===r)break e;h=h.return}h.sibling.return=h.return,h=h.sibling}r.stateNode=t;e:switch(qt(t,a,l),a){case"button":case"input":case"select":case"textarea":t=!!l.autoFocus;break e;case"img":t=!0;break e;default:t=!1}t&&qr(r)}}return ct(r),r.flags&=-16777217,null;case 6:if(t&&r.stateNode!=null)t.memoizedProps!==l&&qr(r);else{if(typeof l!="string"&&r.stateNode===null)throw Error(s(166));if(t=ye.current,Qo(r)){if(t=r.stateNode,a=r.memoizedProps,l=null,h=rn,h!==null)switch(h.tag){case 27:case 5:l=h.memoizedProps}t[At]=r,t=!!(t.nodeValue===a||l!==null&&l.suppressHydrationWarning===!0||Mv(t.nodeValue,a)),t||ks(r)}else t=Ic(t).createTextNode(l),t[At]=r,r.stateNode=t}return ct(r),null;case 13:if(l=r.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(h=Qo(r),l!==null&&l.dehydrated!==null){if(t===null){if(!h)throw Error(s(318));if(h=r.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(s(317));h[At]=r}else Yo(),(r.flags&128)===0&&(r.memoizedState=null),r.flags|=4;ct(r),h=!1}else h=_g(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=h),h=!0;if(!h)return r.flags&256?(Br(r),r):(Br(r),null)}if(Br(r),(r.flags&128)!==0)return r.lanes=a,r;if(a=l!==null,t=t!==null&&t.memoizedState!==null,a){l=r.child,h=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(h=l.alternate.memoizedState.cachePool.pool);var d=null;l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(d=l.memoizedState.cachePool.pool),d!==h&&(l.flags|=2048)}return a!==t&&a&&(r.child.flags|=8192),pc(r,r.updateQueue),ct(r),null;case 4:return Xn(),t===null&&Pd(r.stateNode.containerInfo),ct(r),null;case 10:return jr(r.type),ct(r),null;case 19:if(J(Ct),h=r.memoizedState,h===null)return ct(r),null;if(l=(r.flags&128)!==0,d=h.rendering,d===null)if(l)cl(h,!1);else{if(mt!==0||t!==null&&(t.flags&128)!==0)for(t=r.child;t!==null;){if(d=cc(t),d!==null){for(r.flags|=128,cl(h,!1),t=d.updateQueue,r.updateQueue=t,pc(r,t),r.subtreeFlags=0,t=a,a=r.child;a!==null;)pg(a,t),a=a.sibling;return W(Ct,Ct.current&1|2),r.child}t=t.sibling}h.tail!==null&&bn()>vc&&(r.flags|=128,l=!0,cl(h,!1),r.lanes=4194304)}else{if(!l)if(t=cc(d),t!==null){if(r.flags|=128,l=!0,t=t.updateQueue,r.updateQueue=t,pc(r,t),cl(h,!0),h.tail===null&&h.tailMode==="hidden"&&!d.alternate&&!Ge)return ct(r),null}else 2*bn()-h.renderingStartTime>vc&&a!==536870912&&(r.flags|=128,l=!0,cl(h,!1),r.lanes=4194304);h.isBackwards?(d.sibling=r.child,r.child=d):(t=h.last,t!==null?t.sibling=d:r.child=d,h.last=d)}return h.tail!==null?(r=h.tail,h.rendering=r,h.tail=r.sibling,h.renderingStartTime=bn(),r.sibling=null,t=Ct.current,W(Ct,l?t&1|2:t&1),r):(ct(r),null);case 22:case 23:return Br(r),Uf(),l=r.memoizedState!==null,t!==null?t.memoizedState!==null!==l&&(r.flags|=8192):l&&(r.flags|=8192),l?(a&536870912)!==0&&(r.flags&128)===0&&(ct(r),r.subtreeFlags&6&&(r.flags|=8192)):ct(r),a=r.updateQueue,a!==null&&pc(r,a.retryQueue),a=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),l=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(l=r.memoizedState.cachePool.pool),l!==a&&(r.flags|=2048),t!==null&&J(Ps),null;case 24:return a=null,t!==null&&(a=t.memoizedState.cache),r.memoizedState.cache!==a&&(r.flags|=2048),jr(It),ct(r),null;case 25:return null;case 30:return null}throw Error(s(156,r.tag))}function AS(t,r){switch(wf(r),r.tag){case 1:return t=r.flags,t&65536?(r.flags=t&-65537|128,r):null;case 3:return jr(It),Xn(),t=r.flags,(t&65536)!==0&&(t&128)===0?(r.flags=t&-65537|128,r):null;case 26:case 27:case 5:return br(r),null;case 13:if(Br(r),t=r.memoizedState,t!==null&&t.dehydrated!==null){if(r.alternate===null)throw Error(s(340));Yo()}return t=r.flags,t&65536?(r.flags=t&-65537|128,r):null;case 19:return J(Ct),null;case 4:return Xn(),null;case 10:return jr(r.type),null;case 22:case 23:return Br(r),Uf(),t!==null&&J(Ps),t=r.flags,t&65536?(r.flags=t&-65537|128,r):null;case 24:return jr(It),null;case 25:return null;default:return null}}function Hy(t,r){switch(wf(r),r.tag){case 3:jr(It),Xn();break;case 26:case 27:case 5:br(r);break;case 4:Xn();break;case 13:Br(r);break;case 19:J(Ct);break;case 10:jr(r.type);break;case 22:case 23:Br(r),Uf(),t!==null&&J(Ps);break;case 24:jr(It)}}function hl(t,r){try{var a=r.updateQueue,l=a!==null?a.lastEffect:null;if(l!==null){var h=l.next;a=h;do{if((a.tag&t)===t){l=void 0;var d=a.create,_=a.inst;l=d(),_.destroy=l}a=a.next}while(a!==h)}}catch(b){nt(r,r.return,b)}}function Ti(t,r,a){try{var l=r.updateQueue,h=l!==null?l.lastEffect:null;if(h!==null){var d=h.next;l=d;do{if((l.tag&t)===t){var _=l.inst,b=_.destroy;if(b!==void 0){_.destroy=void 0,h=r;var D=a,F=b;try{F()}catch(ee){nt(h,D,ee)}}}l=l.next}while(l!==d)}}catch(ee){nt(r,r.return,ee)}}function qy(t){var r=t.updateQueue;if(r!==null){var a=t.stateNode;try{Ng(r,a)}catch(l){nt(t,t.return,l)}}}function Fy(t,r,a){a.props=Us(t.type,t.memoizedProps),a.state=t.memoizedState;try{a.componentWillUnmount()}catch(l){nt(t,r,l)}}function fl(t,r){try{var a=t.ref;if(a!==null){switch(t.tag){case 26:case 27:case 5:var l=t.stateNode;break;case 30:l=t.stateNode;break;default:l=t.stateNode}typeof a=="function"?t.refCleanup=a(l):a.current=l}}catch(h){nt(t,r,h)}}function cr(t,r){var a=t.ref,l=t.refCleanup;if(a!==null)if(typeof l=="function")try{l()}catch(h){nt(t,r,h)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(h){nt(t,r,h)}else a.current=null}function Gy(t){var r=t.type,a=t.memoizedProps,l=t.stateNode;try{e:switch(r){case"button":case"input":case"select":case"textarea":a.autoFocus&&l.focus();break e;case"img":a.src?l.src=a.src:a.srcSet&&(l.srcset=a.srcSet)}}catch(h){nt(t,t.return,h)}}function fd(t,r,a){try{var l=t.stateNode;KS(l,t.type,a,r),l[_t]=r}catch(h){nt(t,t.return,h)}}function Ky(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&Ci(t.type)||t.tag===4}function dd(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||Ky(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&Ci(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function md(t,r,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,r?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(t,r):(r=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,r.appendChild(t),a=a._reactRootContainer,a!=null||r.onclick!==null||(r.onclick=Rc));else if(l!==4&&(l===27&&Ci(t.type)&&(a=t.stateNode,r=null),t=t.child,t!==null))for(md(t,r,a),t=t.sibling;t!==null;)md(t,r,a),t=t.sibling}function gc(t,r,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,r?a.insertBefore(t,r):a.appendChild(t);else if(l!==4&&(l===27&&Ci(t.type)&&(a=t.stateNode),t=t.child,t!==null))for(gc(t,r,a),t=t.sibling;t!==null;)gc(t,r,a),t=t.sibling}function Qy(t){var r=t.stateNode,a=t.memoizedProps;try{for(var l=t.type,h=r.attributes;h.length;)r.removeAttributeNode(h[0]);qt(r,l,a),r[At]=t,r[_t]=a}catch(d){nt(t,t.return,d)}}var Fr=!1,yt=!1,pd=!1,Yy=typeof WeakSet=="function"?WeakSet:Set,Pt=null;function xS(t,r){if(t=t.containerInfo,jd=Mc,t=sg(t),df(t)){if("selectionStart"in t)var a={start:t.selectionStart,end:t.selectionEnd};else e:{a=(a=t.ownerDocument)&&a.defaultView||window;var l=a.getSelection&&a.getSelection();if(l&&l.rangeCount!==0){a=l.anchorNode;var h=l.anchorOffset,d=l.focusNode;l=l.focusOffset;try{a.nodeType,d.nodeType}catch{a=null;break e}var _=0,b=-1,D=-1,F=0,ee=0,ie=t,G=null;t:for(;;){for(var Q;ie!==a||h!==0&&ie.nodeType!==3||(b=_+h),ie!==d||l!==0&&ie.nodeType!==3||(D=_+l),ie.nodeType===3&&(_+=ie.nodeValue.length),(Q=ie.firstChild)!==null;)G=ie,ie=Q;for(;;){if(ie===t)break t;if(G===a&&++F===h&&(b=_),G===d&&++ee===l&&(D=_),(Q=ie.nextSibling)!==null)break;ie=G,G=ie.parentNode}ie=Q}a=b===-1||D===-1?null:{start:b,end:D}}else a=null}a=a||{start:0,end:0}}else a=null;for(zd={focusedElem:t,selectionRange:a},Mc=!1,Pt=r;Pt!==null;)if(r=Pt,t=r.child,(r.subtreeFlags&1024)!==0&&t!==null)t.return=r,Pt=t;else for(;Pt!==null;){switch(r=Pt,d=r.alternate,t=r.flags,r.tag){case 0:break;case 11:case 15:break;case 1:if((t&1024)!==0&&d!==null){t=void 0,a=r,h=d.memoizedProps,d=d.memoizedState,l=a.stateNode;try{var Se=Us(a.type,h,a.elementType===a.type);t=l.getSnapshotBeforeUpdate(Se,d),l.__reactInternalSnapshotBeforeUpdate=t}catch(Ee){nt(a,a.return,Ee)}}break;case 3:if((t&1024)!==0){if(t=r.stateNode.containerInfo,a=t.nodeType,a===9)qd(t);else if(a===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":qd(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(s(163))}if(t=r.sibling,t!==null){t.return=r.return,Pt=t;break}Pt=r.return}}function $y(t,r,a){var l=a.flags;switch(a.tag){case 0:case 11:case 15:bi(t,a),l&4&&hl(5,a);break;case 1:if(bi(t,a),l&4)if(t=a.stateNode,r===null)try{t.componentDidMount()}catch(_){nt(a,a.return,_)}else{var h=Us(a.type,r.memoizedProps);r=r.memoizedState;try{t.componentDidUpdate(h,r,t.__reactInternalSnapshotBeforeUpdate)}catch(_){nt(a,a.return,_)}}l&64&&qy(a),l&512&&fl(a,a.return);break;case 3:if(bi(t,a),l&64&&(t=a.updateQueue,t!==null)){if(r=null,a.child!==null)switch(a.child.tag){case 27:case 5:r=a.child.stateNode;break;case 1:r=a.child.stateNode}try{Ng(t,r)}catch(_){nt(a,a.return,_)}}break;case 27:r===null&&l&4&&Qy(a);case 26:case 5:bi(t,a),r===null&&l&4&&Gy(a),l&512&&fl(a,a.return);break;case 12:bi(t,a);break;case 13:bi(t,a),l&4&&Zy(t,a),l&64&&(t=a.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(a=VS.bind(null,a),JS(t,a))));break;case 22:if(l=a.memoizedState!==null||Fr,!l){r=r!==null&&r.memoizedState!==null||yt,h=Fr;var d=yt;Fr=l,(yt=r)&&!d?Si(t,a,(a.subtreeFlags&8772)!==0):bi(t,a),Fr=h,yt=d}break;case 30:break;default:bi(t,a)}}function Xy(t){var r=t.alternate;r!==null&&(t.alternate=null,Xy(r)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(r=t.stateNode,r!==null&&ci(r)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var lt=null,on=!1;function Gr(t,r,a){for(a=a.child;a!==null;)Wy(t,r,a),a=a.sibling}function Wy(t,r,a){if(Ye&&typeof Ye.onCommitFiberUnmount=="function")try{Ye.onCommitFiberUnmount(ft,a)}catch{}switch(a.tag){case 26:yt||cr(a,r),Gr(t,r,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:yt||cr(a,r);var l=lt,h=on;Ci(a.type)&&(lt=a.stateNode,on=!1),Gr(t,r,a),Tl(a.stateNode),lt=l,on=h;break;case 5:yt||cr(a,r);case 6:if(l=lt,h=on,lt=null,Gr(t,r,a),lt=l,on=h,lt!==null)if(on)try{(lt.nodeType===9?lt.body:lt.nodeName==="HTML"?lt.ownerDocument.body:lt).removeChild(a.stateNode)}catch(d){nt(a,r,d)}else try{lt.removeChild(a.stateNode)}catch(d){nt(a,r,d)}break;case 18:lt!==null&&(on?(t=lt,jv(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,a.stateNode),Cl(t)):jv(lt,a.stateNode));break;case 4:l=lt,h=on,lt=a.stateNode.containerInfo,on=!0,Gr(t,r,a),lt=l,on=h;break;case 0:case 11:case 14:case 15:yt||Ti(2,a,r),yt||Ti(4,a,r),Gr(t,r,a);break;case 1:yt||(cr(a,r),l=a.stateNode,typeof l.componentWillUnmount=="function"&&Fy(a,r,l)),Gr(t,r,a);break;case 21:Gr(t,r,a);break;case 22:yt=(l=yt)||a.memoizedState!==null,Gr(t,r,a),yt=l;break;default:Gr(t,r,a)}}function Zy(t,r){if(r.memoizedState===null&&(t=r.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{Cl(t)}catch(a){nt(r,r.return,a)}}function RS(t){switch(t.tag){case 13:case 19:var r=t.stateNode;return r===null&&(r=t.stateNode=new Yy),r;case 22:return t=t.stateNode,r=t._retryCache,r===null&&(r=t._retryCache=new Yy),r;default:throw Error(s(435,t.tag))}}function gd(t,r){var a=RS(t);r.forEach(function(l){var h=PS.bind(null,t,l);a.has(l)||(a.add(l),l.then(h,h))})}function gn(t,r){var a=r.deletions;if(a!==null)for(var l=0;l<a.length;l++){var h=a[l],d=t,_=r,b=_;e:for(;b!==null;){switch(b.tag){case 27:if(Ci(b.type)){lt=b.stateNode,on=!1;break e}break;case 5:lt=b.stateNode,on=!1;break e;case 3:case 4:lt=b.stateNode.containerInfo,on=!0;break e}b=b.return}if(lt===null)throw Error(s(160));Wy(d,_,h),lt=null,on=!1,d=h.alternate,d!==null&&(d.return=null),h.return=null}if(r.subtreeFlags&13878)for(r=r.child;r!==null;)Jy(r,t),r=r.sibling}var qn=null;function Jy(t,r){var a=t.alternate,l=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:gn(r,t),yn(t),l&4&&(Ti(3,t,t.return),hl(3,t),Ti(5,t,t.return));break;case 1:gn(r,t),yn(t),l&512&&(yt||a===null||cr(a,a.return)),l&64&&Fr&&(t=t.updateQueue,t!==null&&(l=t.callbacks,l!==null&&(a=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=a===null?l:a.concat(l))));break;case 26:var h=qn;if(gn(r,t),yn(t),l&512&&(yt||a===null||cr(a,a.return)),l&4){var d=a!==null?a.memoizedState:null;if(l=t.memoizedState,a===null)if(l===null)if(t.stateNode===null){e:{l=t.type,a=t.memoizedProps,h=h.ownerDocument||h;t:switch(l){case"title":d=h.getElementsByTagName("title")[0],(!d||d[ds]||d[At]||d.namespaceURI==="http://www.w3.org/2000/svg"||d.hasAttribute("itemprop"))&&(d=h.createElement(l),h.head.insertBefore(d,h.querySelector("head > title"))),qt(d,l,a),d[At]=t,pt(d),l=d;break e;case"link":var _=Qv("link","href",h).get(l+(a.href||""));if(_){for(var b=0;b<_.length;b++)if(d=_[b],d.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&d.getAttribute("rel")===(a.rel==null?null:a.rel)&&d.getAttribute("title")===(a.title==null?null:a.title)&&d.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){_.splice(b,1);break t}}d=h.createElement(l),qt(d,l,a),h.head.appendChild(d);break;case"meta":if(_=Qv("meta","content",h).get(l+(a.content||""))){for(b=0;b<_.length;b++)if(d=_[b],d.getAttribute("content")===(a.content==null?null:""+a.content)&&d.getAttribute("name")===(a.name==null?null:a.name)&&d.getAttribute("property")===(a.property==null?null:a.property)&&d.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&d.getAttribute("charset")===(a.charSet==null?null:a.charSet)){_.splice(b,1);break t}}d=h.createElement(l),qt(d,l,a),h.head.appendChild(d);break;default:throw Error(s(468,l))}d[At]=t,pt(d),l=d}t.stateNode=l}else Yv(h,t.type,t.stateNode);else t.stateNode=Kv(h,l,t.memoizedProps);else d!==l?(d===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):d.count--,l===null?Yv(h,t.type,t.stateNode):Kv(h,l,t.memoizedProps)):l===null&&t.stateNode!==null&&fd(t,t.memoizedProps,a.memoizedProps)}break;case 27:gn(r,t),yn(t),l&512&&(yt||a===null||cr(a,a.return)),a!==null&&l&4&&fd(t,t.memoizedProps,a.memoizedProps);break;case 5:if(gn(r,t),yn(t),l&512&&(yt||a===null||cr(a,a.return)),t.flags&32){h=t.stateNode;try{wn(h,"")}catch(Q){nt(t,t.return,Q)}}l&4&&t.stateNode!=null&&(h=t.memoizedProps,fd(t,h,a!==null?a.memoizedProps:h)),l&1024&&(pd=!0);break;case 6:if(gn(r,t),yn(t),l&4){if(t.stateNode===null)throw Error(s(162));l=t.memoizedProps,a=t.stateNode;try{a.nodeValue=l}catch(Q){nt(t,t.return,Q)}}break;case 3:if(Dc=null,h=qn,qn=Cc(r.containerInfo),gn(r,t),qn=h,yn(t),l&4&&a!==null&&a.memoizedState.isDehydrated)try{Cl(r.containerInfo)}catch(Q){nt(t,t.return,Q)}pd&&(pd=!1,ev(t));break;case 4:l=qn,qn=Cc(t.stateNode.containerInfo),gn(r,t),yn(t),qn=l;break;case 12:gn(r,t),yn(t);break;case 13:gn(r,t),yn(t),t.child.flags&8192&&t.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(bd=bn()),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,gd(t,l)));break;case 22:h=t.memoizedState!==null;var D=a!==null&&a.memoizedState!==null,F=Fr,ee=yt;if(Fr=F||h,yt=ee||D,gn(r,t),yt=ee,Fr=F,yn(t),l&8192)e:for(r=t.stateNode,r._visibility=h?r._visibility&-2:r._visibility|1,h&&(a===null||D||Fr||yt||js(t)),a=null,r=t;;){if(r.tag===5||r.tag===26){if(a===null){D=a=r;try{if(d=D.stateNode,h)_=d.style,typeof _.setProperty=="function"?_.setProperty("display","none","important"):_.display="none";else{b=D.stateNode;var ie=D.memoizedProps.style,G=ie!=null&&ie.hasOwnProperty("display")?ie.display:null;b.style.display=G==null||typeof G=="boolean"?"":(""+G).trim()}}catch(Q){nt(D,D.return,Q)}}}else if(r.tag===6){if(a===null){D=r;try{D.stateNode.nodeValue=h?"":D.memoizedProps}catch(Q){nt(D,D.return,Q)}}}else if((r.tag!==22&&r.tag!==23||r.memoizedState===null||r===t)&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break e;for(;r.sibling===null;){if(r.return===null||r.return===t)break e;a===r&&(a=null),r=r.return}a===r&&(a=null),r.sibling.return=r.return,r=r.sibling}l&4&&(l=t.updateQueue,l!==null&&(a=l.retryQueue,a!==null&&(l.retryQueue=null,gd(t,a))));break;case 19:gn(r,t),yn(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,gd(t,l)));break;case 30:break;case 21:break;default:gn(r,t),yn(t)}}function yn(t){var r=t.flags;if(r&2){try{for(var a,l=t.return;l!==null;){if(Ky(l)){a=l;break}l=l.return}if(a==null)throw Error(s(160));switch(a.tag){case 27:var h=a.stateNode,d=dd(t);gc(t,d,h);break;case 5:var _=a.stateNode;a.flags&32&&(wn(_,""),a.flags&=-33);var b=dd(t);gc(t,b,_);break;case 3:case 4:var D=a.stateNode.containerInfo,F=dd(t);md(t,F,D);break;default:throw Error(s(161))}}catch(ee){nt(t,t.return,ee)}t.flags&=-3}r&4096&&(t.flags&=-4097)}function ev(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var r=t;ev(r),r.tag===5&&r.flags&1024&&r.stateNode.reset(),t=t.sibling}}function bi(t,r){if(r.subtreeFlags&8772)for(r=r.child;r!==null;)$y(t,r.alternate,r),r=r.sibling}function js(t){for(t=t.child;t!==null;){var r=t;switch(r.tag){case 0:case 11:case 14:case 15:Ti(4,r,r.return),js(r);break;case 1:cr(r,r.return);var a=r.stateNode;typeof a.componentWillUnmount=="function"&&Fy(r,r.return,a),js(r);break;case 27:Tl(r.stateNode);case 26:case 5:cr(r,r.return),js(r);break;case 22:r.memoizedState===null&&js(r);break;case 30:js(r);break;default:js(r)}t=t.sibling}}function Si(t,r,a){for(a=a&&(r.subtreeFlags&8772)!==0,r=r.child;r!==null;){var l=r.alternate,h=t,d=r,_=d.flags;switch(d.tag){case 0:case 11:case 15:Si(h,d,a),hl(4,d);break;case 1:if(Si(h,d,a),l=d,h=l.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(F){nt(l,l.return,F)}if(l=d,h=l.updateQueue,h!==null){var b=l.stateNode;try{var D=h.shared.hiddenCallbacks;if(D!==null)for(h.shared.hiddenCallbacks=null,h=0;h<D.length;h++)Cg(D[h],b)}catch(F){nt(l,l.return,F)}}a&&_&64&&qy(d),fl(d,d.return);break;case 27:Qy(d);case 26:case 5:Si(h,d,a),a&&l===null&&_&4&&Gy(d),fl(d,d.return);break;case 12:Si(h,d,a);break;case 13:Si(h,d,a),a&&_&4&&Zy(h,d);break;case 22:d.memoizedState===null&&Si(h,d,a),fl(d,d.return);break;case 30:break;default:Si(h,d,a)}r=r.sibling}}function yd(t,r){var a=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),t=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(t=r.memoizedState.cachePool.pool),t!==a&&(t!=null&&t.refCount++,a!=null&&Wo(a))}function vd(t,r){t=null,r.alternate!==null&&(t=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==t&&(r.refCount++,t!=null&&Wo(t))}function hr(t,r,a,l){if(r.subtreeFlags&10256)for(r=r.child;r!==null;)tv(t,r,a,l),r=r.sibling}function tv(t,r,a,l){var h=r.flags;switch(r.tag){case 0:case 11:case 15:hr(t,r,a,l),h&2048&&hl(9,r);break;case 1:hr(t,r,a,l);break;case 3:hr(t,r,a,l),h&2048&&(t=null,r.alternate!==null&&(t=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==t&&(r.refCount++,t!=null&&Wo(t)));break;case 12:if(h&2048){hr(t,r,a,l),t=r.stateNode;try{var d=r.memoizedProps,_=d.id,b=d.onPostCommit;typeof b=="function"&&b(_,r.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(D){nt(r,r.return,D)}}else hr(t,r,a,l);break;case 13:hr(t,r,a,l);break;case 23:break;case 22:d=r.stateNode,_=r.alternate,r.memoizedState!==null?d._visibility&2?hr(t,r,a,l):dl(t,r):d._visibility&2?hr(t,r,a,l):(d._visibility|=2,Va(t,r,a,l,(r.subtreeFlags&10256)!==0)),h&2048&&yd(_,r);break;case 24:hr(t,r,a,l),h&2048&&vd(r.alternate,r);break;default:hr(t,r,a,l)}}function Va(t,r,a,l,h){for(h=h&&(r.subtreeFlags&10256)!==0,r=r.child;r!==null;){var d=t,_=r,b=a,D=l,F=_.flags;switch(_.tag){case 0:case 11:case 15:Va(d,_,b,D,h),hl(8,_);break;case 23:break;case 22:var ee=_.stateNode;_.memoizedState!==null?ee._visibility&2?Va(d,_,b,D,h):dl(d,_):(ee._visibility|=2,Va(d,_,b,D,h)),h&&F&2048&&yd(_.alternate,_);break;case 24:Va(d,_,b,D,h),h&&F&2048&&vd(_.alternate,_);break;default:Va(d,_,b,D,h)}r=r.sibling}}function dl(t,r){if(r.subtreeFlags&10256)for(r=r.child;r!==null;){var a=t,l=r,h=l.flags;switch(l.tag){case 22:dl(a,l),h&2048&&yd(l.alternate,l);break;case 24:dl(a,l),h&2048&&vd(l.alternate,l);break;default:dl(a,l)}r=r.sibling}}var ml=8192;function Pa(t){if(t.subtreeFlags&ml)for(t=t.child;t!==null;)nv(t),t=t.sibling}function nv(t){switch(t.tag){case 26:Pa(t),t.flags&ml&&t.memoizedState!==null&&fw(qn,t.memoizedState,t.memoizedProps);break;case 5:Pa(t);break;case 3:case 4:var r=qn;qn=Cc(t.stateNode.containerInfo),Pa(t),qn=r;break;case 22:t.memoizedState===null&&(r=t.alternate,r!==null&&r.memoizedState!==null?(r=ml,ml=16777216,Pa(t),ml=r):Pa(t));break;default:Pa(t)}}function rv(t){var r=t.alternate;if(r!==null&&(t=r.child,t!==null)){r.child=null;do r=t.sibling,t.sibling=null,t=r;while(t!==null)}}function pl(t){var r=t.deletions;if((t.flags&16)!==0){if(r!==null)for(var a=0;a<r.length;a++){var l=r[a];Pt=l,sv(l,t)}rv(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)iv(t),t=t.sibling}function iv(t){switch(t.tag){case 0:case 11:case 15:pl(t),t.flags&2048&&Ti(9,t,t.return);break;case 3:pl(t);break;case 12:pl(t);break;case 22:var r=t.stateNode;t.memoizedState!==null&&r._visibility&2&&(t.return===null||t.return.tag!==13)?(r._visibility&=-3,yc(t)):pl(t);break;default:pl(t)}}function yc(t){var r=t.deletions;if((t.flags&16)!==0){if(r!==null)for(var a=0;a<r.length;a++){var l=r[a];Pt=l,sv(l,t)}rv(t)}for(t=t.child;t!==null;){switch(r=t,r.tag){case 0:case 11:case 15:Ti(8,r,r.return),yc(r);break;case 22:a=r.stateNode,a._visibility&2&&(a._visibility&=-3,yc(r));break;default:yc(r)}t=t.sibling}}function sv(t,r){for(;Pt!==null;){var a=Pt;switch(a.tag){case 0:case 11:case 15:Ti(8,a,r);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var l=a.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:Wo(a.memoizedState.cache)}if(l=a.child,l!==null)l.return=a,Pt=l;else e:for(a=t;Pt!==null;){l=Pt;var h=l.sibling,d=l.return;if(Xy(l),l===a){Pt=null;break e}if(h!==null){h.return=d,Pt=h;break e}Pt=d}}}var IS={getCacheForType:function(t){var r=Yt(It),a=r.data.get(t);return a===void 0&&(a=t(),r.data.set(t,a)),a}},CS=typeof WeakMap=="function"?WeakMap:Map,$e=0,rt=null,Ve=null,Be=0,Xe=0,vn=null,wi=!1,La=!1,_d=!1,Kr=0,mt=0,Ai=0,zs=0,Ed=0,kn=0,Ua=0,gl=null,ln=null,Td=!1,bd=0,vc=1/0,_c=null,xi=null,Ht=0,Ri=null,ja=null,za=0,Sd=0,wd=null,av=null,yl=0,Ad=null;function _n(){if(($e&2)!==0&&Be!==0)return Be&-Be;if(Z.T!==null){var t=Ra;return t!==0?t:Od()}return li()}function ov(){kn===0&&(kn=(Be&536870912)===0||Ge?xo():536870912);var t=On.current;return t!==null&&(t.flags|=32),kn}function En(t,r,a){(t===rt&&(Xe===2||Xe===9)||t.cancelPendingCommit!==null)&&(Ba(t,0),Ii(t,Be,kn,!1)),wr(t,a),(($e&2)===0||t!==rt)&&(t===rt&&(($e&2)===0&&(zs|=a),mt===4&&Ii(t,Be,kn,!1)),fr(t))}function lv(t,r,a){if(($e&6)!==0)throw Error(s(327));var l=!a&&(r&124)===0&&(r&t.expiredLanes)===0||fs(t,r),h=l?OS(t,r):Id(t,r,!0),d=l;do{if(h===0){La&&!l&&Ii(t,r,0,!1);break}else{if(a=t.current.alternate,d&&!NS(a)){h=Id(t,r,!1),d=!1;continue}if(h===2){if(d=r,t.errorRecoveryDisabledLanes&d)var _=0;else _=t.pendingLanes&-536870913,_=_!==0?_:_&536870912?536870912:0;if(_!==0){r=_;e:{var b=t;h=gl;var D=b.current.memoizedState.isDehydrated;if(D&&(Ba(b,_).flags|=256),_=Id(b,_,!1),_!==2){if(_d&&!D){b.errorRecoveryDisabledLanes|=d,zs|=d,h=4;break e}d=ln,ln=h,d!==null&&(ln===null?ln=d:ln.push.apply(ln,d))}h=_}if(d=!1,h!==2)continue}}if(h===1){Ba(t,0),Ii(t,r,0,!0);break}e:{switch(l=t,d=h,d){case 0:case 1:throw Error(s(345));case 4:if((r&4194048)!==r)break;case 6:Ii(l,r,kn,!wi);break e;case 2:ln=null;break;case 3:case 5:break;default:throw Error(s(329))}if((r&62914560)===r&&(h=bd+300-bn(),10<h)){if(Ii(l,r,kn,!wi),ia(l,0,!0)!==0)break e;l.timeoutHandle=Lv(uv.bind(null,l,a,ln,_c,Td,r,kn,zs,Ua,wi,d,2,-0,0),h);break e}uv(l,a,ln,_c,Td,r,kn,zs,Ua,wi,d,0,-0,0)}}break}while(!0);fr(t)}function uv(t,r,a,l,h,d,_,b,D,F,ee,ie,G,Q){if(t.timeoutHandle=-1,ie=r.subtreeFlags,(ie&8192||(ie&16785408)===16785408)&&(wl={stylesheets:null,count:0,unsuspend:hw},nv(r),ie=dw(),ie!==null)){t.cancelPendingCommit=ie(gv.bind(null,t,r,d,a,l,h,_,b,D,ee,1,G,Q)),Ii(t,d,_,!F);return}gv(t,r,d,a,l,h,_,b,D)}function NS(t){for(var r=t;;){var a=r.tag;if((a===0||a===11||a===15)&&r.flags&16384&&(a=r.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var l=0;l<a.length;l++){var h=a[l],d=h.getSnapshot;h=h.value;try{if(!mn(d(),h))return!1}catch{return!1}}if(a=r.child,r.subtreeFlags&16384&&a!==null)a.return=r,r=a;else{if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return!0;r=r.return}r.sibling.return=r.return,r=r.sibling}}return!0}function Ii(t,r,a,l){r&=~Ed,r&=~zs,t.suspendedLanes|=r,t.pingedLanes&=~r,l&&(t.warmLanes|=r),l=t.expirationTimes;for(var h=r;0<h;){var d=31-Qt(h),_=1<<d;l[d]=-1,h&=~_}a!==0&&Wn(t,a,r)}function Ec(){return($e&6)===0?(vl(0),!1):!0}function xd(){if(Ve!==null){if(Xe===0)var t=Ve.return;else t=Ve,Ur=Ms=null,qf(t),ka=null,ll=0,t=Ve;for(;t!==null;)Hy(t.alternate,t),t=t.return;Ve=null}}function Ba(t,r){var a=t.timeoutHandle;a!==-1&&(t.timeoutHandle=-1,YS(a)),a=t.cancelPendingCommit,a!==null&&(t.cancelPendingCommit=null,a()),xd(),rt=t,Ve=a=Vr(t.current,null),Be=r,Xe=0,vn=null,wi=!1,La=fs(t,r),_d=!1,Ua=kn=Ed=zs=Ai=mt=0,ln=gl=null,Td=!1,(r&8)!==0&&(r|=r&32);var l=t.entangledLanes;if(l!==0)for(t=t.entanglements,l&=r;0<l;){var h=31-Qt(l),d=1<<h;r|=t[h],l&=~d}return Kr=r,Hu(),a}function cv(t,r){De=null,Z.H=oc,r===Jo||r===Wu?(r=Rg(),Xe=3):r===wg?(r=Rg(),Xe=4):Xe=r===Iy?8:r!==null&&typeof r=="object"&&typeof r.then=="function"?6:1,vn=r,Ve===null&&(mt=1,fc(t,In(r,t.current)))}function hv(){var t=Z.H;return Z.H=oc,t===null?oc:t}function fv(){var t=Z.A;return Z.A=IS,t}function Rd(){mt=4,wi||(Be&4194048)!==Be&&On.current!==null||(La=!0),(Ai&134217727)===0&&(zs&134217727)===0||rt===null||Ii(rt,Be,kn,!1)}function Id(t,r,a){var l=$e;$e|=2;var h=hv(),d=fv();(rt!==t||Be!==r)&&(_c=null,Ba(t,r)),r=!1;var _=mt;e:do try{if(Xe!==0&&Ve!==null){var b=Ve,D=vn;switch(Xe){case 8:xd(),_=6;break e;case 3:case 2:case 9:case 6:On.current===null&&(r=!0);var F=Xe;if(Xe=0,vn=null,Ha(t,b,D,F),a&&La){_=0;break e}break;default:F=Xe,Xe=0,vn=null,Ha(t,b,D,F)}}DS(),_=mt;break}catch(ee){cv(t,ee)}while(!0);return r&&t.shellSuspendCounter++,Ur=Ms=null,$e=l,Z.H=h,Z.A=d,Ve===null&&(rt=null,Be=0,Hu()),_}function DS(){for(;Ve!==null;)dv(Ve)}function OS(t,r){var a=$e;$e|=2;var l=hv(),h=fv();rt!==t||Be!==r?(_c=null,vc=bn()+500,Ba(t,r)):La=fs(t,r);e:do try{if(Xe!==0&&Ve!==null){r=Ve;var d=vn;t:switch(Xe){case 1:Xe=0,vn=null,Ha(t,r,d,1);break;case 2:case 9:if(Ag(d)){Xe=0,vn=null,mv(r);break}r=function(){Xe!==2&&Xe!==9||rt!==t||(Xe=7),fr(t)},d.then(r,r);break e;case 3:Xe=7;break e;case 4:Xe=5;break e;case 7:Ag(d)?(Xe=0,vn=null,mv(r)):(Xe=0,vn=null,Ha(t,r,d,7));break;case 5:var _=null;switch(Ve.tag){case 26:_=Ve.memoizedState;case 5:case 27:var b=Ve;if(!_||$v(_)){Xe=0,vn=null;var D=b.sibling;if(D!==null)Ve=D;else{var F=b.return;F!==null?(Ve=F,Tc(F)):Ve=null}break t}}Xe=0,vn=null,Ha(t,r,d,5);break;case 6:Xe=0,vn=null,Ha(t,r,d,6);break;case 8:xd(),mt=6;break e;default:throw Error(s(462))}}kS();break}catch(ee){cv(t,ee)}while(!0);return Ur=Ms=null,Z.H=l,Z.A=h,$e=a,Ve!==null?0:(rt=null,Be=0,Hu(),mt)}function kS(){for(;Ve!==null&&!bo();)dv(Ve)}function dv(t){var r=zy(t.alternate,t,Kr);t.memoizedProps=t.pendingProps,r===null?Tc(t):Ve=r}function mv(t){var r=t,a=r.alternate;switch(r.tag){case 15:case 0:r=My(a,r,r.pendingProps,r.type,void 0,Be);break;case 11:r=My(a,r,r.pendingProps,r.type.render,r.ref,Be);break;case 5:qf(r);default:Hy(a,r),r=Ve=pg(r,Kr),r=zy(a,r,Kr)}t.memoizedProps=t.pendingProps,r===null?Tc(t):Ve=r}function Ha(t,r,a,l){Ur=Ms=null,qf(r),ka=null,ll=0;var h=r.return;try{if(bS(t,h,r,a,Be)){mt=1,fc(t,In(a,t.current)),Ve=null;return}}catch(d){if(h!==null)throw Ve=h,d;mt=1,fc(t,In(a,t.current)),Ve=null;return}r.flags&32768?(Ge||l===1?t=!0:La||(Be&536870912)!==0?t=!1:(wi=t=!0,(l===2||l===9||l===3||l===6)&&(l=On.current,l!==null&&l.tag===13&&(l.flags|=16384))),pv(r,t)):Tc(r)}function Tc(t){var r=t;do{if((r.flags&32768)!==0){pv(r,wi);return}t=r.return;var a=wS(r.alternate,r,Kr);if(a!==null){Ve=a;return}if(r=r.sibling,r!==null){Ve=r;return}Ve=r=t}while(r!==null);mt===0&&(mt=5)}function pv(t,r){do{var a=AS(t.alternate,t);if(a!==null){a.flags&=32767,Ve=a;return}if(a=t.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!r&&(t=t.sibling,t!==null)){Ve=t;return}Ve=t=a}while(t!==null);mt=6,Ve=null}function gv(t,r,a,l,h,d,_,b,D){t.cancelPendingCommit=null;do bc();while(Ht!==0);if(($e&6)!==0)throw Error(s(327));if(r!==null){if(r===t.current)throw Error(s(177));if(d=r.lanes|r.childLanes,d|=vf,Io(t,a,d,_,b,D),t===rt&&(Ve=rt=null,Be=0),ja=r,Ri=t,za=a,Sd=d,wd=h,av=l,(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,LS(ls,function(){return Tv(),null})):(t.callbackNode=null,t.callbackPriority=0),l=(r.flags&13878)!==0,(r.subtreeFlags&13878)!==0||l){l=Z.T,Z.T=null,h=ue.p,ue.p=2,_=$e,$e|=4;try{xS(t,r,a)}finally{$e=_,ue.p=h,Z.T=l}}Ht=1,yv(),vv(),_v()}}function yv(){if(Ht===1){Ht=0;var t=Ri,r=ja,a=(r.flags&13878)!==0;if((r.subtreeFlags&13878)!==0||a){a=Z.T,Z.T=null;var l=ue.p;ue.p=2;var h=$e;$e|=4;try{Jy(r,t);var d=zd,_=sg(t.containerInfo),b=d.focusedElem,D=d.selectionRange;if(_!==b&&b&&b.ownerDocument&&ig(b.ownerDocument.documentElement,b)){if(D!==null&&df(b)){var F=D.start,ee=D.end;if(ee===void 0&&(ee=F),"selectionStart"in b)b.selectionStart=F,b.selectionEnd=Math.min(ee,b.value.length);else{var ie=b.ownerDocument||document,G=ie&&ie.defaultView||window;if(G.getSelection){var Q=G.getSelection(),Se=b.textContent.length,Ee=Math.min(D.start,Se),tt=D.end===void 0?Ee:Math.min(D.end,Se);!Q.extend&&Ee>tt&&(_=tt,tt=Ee,Ee=_);var B=rg(b,Ee),L=rg(b,tt);if(B&&L&&(Q.rangeCount!==1||Q.anchorNode!==B.node||Q.anchorOffset!==B.offset||Q.focusNode!==L.node||Q.focusOffset!==L.offset)){var q=ie.createRange();q.setStart(B.node,B.offset),Q.removeAllRanges(),Ee>tt?(Q.addRange(q),Q.extend(L.node,L.offset)):(q.setEnd(L.node,L.offset),Q.addRange(q))}}}}for(ie=[],Q=b;Q=Q.parentNode;)Q.nodeType===1&&ie.push({element:Q,left:Q.scrollLeft,top:Q.scrollTop});for(typeof b.focus=="function"&&b.focus(),b=0;b<ie.length;b++){var ne=ie[b];ne.element.scrollLeft=ne.left,ne.element.scrollTop=ne.top}}Mc=!!jd,zd=jd=null}finally{$e=h,ue.p=l,Z.T=a}}t.current=r,Ht=2}}function vv(){if(Ht===2){Ht=0;var t=Ri,r=ja,a=(r.flags&8772)!==0;if((r.subtreeFlags&8772)!==0||a){a=Z.T,Z.T=null;var l=ue.p;ue.p=2;var h=$e;$e|=4;try{$y(t,r.alternate,r)}finally{$e=h,ue.p=l,Z.T=a}}Ht=3}}function _v(){if(Ht===4||Ht===3){Ht=0,yu();var t=Ri,r=ja,a=za,l=av;(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?Ht=5:(Ht=0,ja=Ri=null,Ev(t,t.pendingLanes));var h=t.pendingLanes;if(h===0&&(xi=null),sa(a),r=r.stateNode,Ye&&typeof Ye.onCommitFiberRoot=="function")try{Ye.onCommitFiberRoot(ft,r,void 0,(r.current.flags&128)===128)}catch{}if(l!==null){r=Z.T,h=ue.p,ue.p=2,Z.T=null;try{for(var d=t.onRecoverableError,_=0;_<l.length;_++){var b=l[_];d(b.value,{componentStack:b.stack})}}finally{Z.T=r,ue.p=h}}(za&3)!==0&&bc(),fr(t),h=t.pendingLanes,(a&4194090)!==0&&(h&42)!==0?t===Ad?yl++:(yl=0,Ad=t):yl=0,vl(0)}}function Ev(t,r){(t.pooledCacheLanes&=r)===0&&(r=t.pooledCache,r!=null&&(t.pooledCache=null,Wo(r)))}function bc(t){return yv(),vv(),_v(),Tv()}function Tv(){if(Ht!==5)return!1;var t=Ri,r=Sd;Sd=0;var a=sa(za),l=Z.T,h=ue.p;try{ue.p=32>a?32:a,Z.T=null,a=wd,wd=null;var d=Ri,_=za;if(Ht=0,ja=Ri=null,za=0,($e&6)!==0)throw Error(s(331));var b=$e;if($e|=4,iv(d.current),tv(d,d.current,_,a),$e=b,vl(0,!1),Ye&&typeof Ye.onPostCommitFiberRoot=="function")try{Ye.onPostCommitFiberRoot(ft,d)}catch{}return!0}finally{ue.p=h,Z.T=l,Ev(t,r)}}function bv(t,r,a){r=In(a,r),r=rd(t.stateNode,r,2),t=yi(t,r,2),t!==null&&(wr(t,2),fr(t))}function nt(t,r,a){if(t.tag===3)bv(t,t,a);else for(;r!==null;){if(r.tag===3){bv(r,t,a);break}else if(r.tag===1){var l=r.stateNode;if(typeof r.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(xi===null||!xi.has(l))){t=In(a,t),a=xy(2),l=yi(r,a,2),l!==null&&(Ry(a,l,r,t),wr(l,2),fr(l));break}}r=r.return}}function Cd(t,r,a){var l=t.pingCache;if(l===null){l=t.pingCache=new CS;var h=new Set;l.set(r,h)}else h=l.get(r),h===void 0&&(h=new Set,l.set(r,h));h.has(a)||(_d=!0,h.add(a),t=MS.bind(null,t,r,a),r.then(t,t))}function MS(t,r,a){var l=t.pingCache;l!==null&&l.delete(r),t.pingedLanes|=t.suspendedLanes&a,t.warmLanes&=~a,rt===t&&(Be&a)===a&&(mt===4||mt===3&&(Be&62914560)===Be&&300>bn()-bd?($e&2)===0&&Ba(t,0):Ed|=a,Ua===Be&&(Ua=0)),fr(t)}function Sv(t,r){r===0&&(r=Ro()),t=Sa(t,r),t!==null&&(wr(t,r),fr(t))}function VS(t){var r=t.memoizedState,a=0;r!==null&&(a=r.retryLane),Sv(t,a)}function PS(t,r){var a=0;switch(t.tag){case 13:var l=t.stateNode,h=t.memoizedState;h!==null&&(a=h.retryLane);break;case 19:l=t.stateNode;break;case 22:l=t.stateNode._retryCache;break;default:throw Error(s(314))}l!==null&&l.delete(r),Sv(t,a)}function LS(t,r){return as(t,r)}var Sc=null,qa=null,Nd=!1,wc=!1,Dd=!1,Bs=0;function fr(t){t!==qa&&t.next===null&&(qa===null?Sc=qa=t:qa=qa.next=t),wc=!0,Nd||(Nd=!0,jS())}function vl(t,r){if(!Dd&&wc){Dd=!0;do for(var a=!1,l=Sc;l!==null;){if(t!==0){var h=l.pendingLanes;if(h===0)var d=0;else{var _=l.suspendedLanes,b=l.pingedLanes;d=(1<<31-Qt(42|t)+1)-1,d&=h&~(_&~b),d=d&201326741?d&201326741|1:d?d|2:0}d!==0&&(a=!0,Rv(l,d))}else d=Be,d=ia(l,l===rt?d:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(d&3)===0||fs(l,d)||(a=!0,Rv(l,d));l=l.next}while(a);Dd=!1}}function US(){wv()}function wv(){wc=Nd=!1;var t=0;Bs!==0&&(QS()&&(t=Bs),Bs=0);for(var r=bn(),a=null,l=Sc;l!==null;){var h=l.next,d=Av(l,r);d===0?(l.next=null,a===null?Sc=h:a.next=h,h===null&&(qa=a)):(a=l,(t!==0||(d&3)!==0)&&(wc=!0)),l=h}vl(t)}function Av(t,r){for(var a=t.suspendedLanes,l=t.pingedLanes,h=t.expirationTimes,d=t.pendingLanes&-62914561;0<d;){var _=31-Qt(d),b=1<<_,D=h[_];D===-1?((b&a)===0||(b&l)!==0)&&(h[_]=Ao(b,r)):D<=r&&(t.expiredLanes|=b),d&=~b}if(r=rt,a=Be,a=ia(t,t===r?a:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l=t.callbackNode,a===0||t===r&&(Xe===2||Xe===9)||t.cancelPendingCommit!==null)return l!==null&&l!==null&&os(l),t.callbackNode=null,t.callbackPriority=0;if((a&3)===0||fs(t,a)){if(r=a&-a,r===t.callbackPriority)return r;switch(l!==null&&os(l),sa(a)){case 2:case 8:a=na;break;case 32:a=ls;break;case 268435456:a=ra;break;default:a=ls}return l=xv.bind(null,t),a=as(a,l),t.callbackPriority=r,t.callbackNode=a,r}return l!==null&&l!==null&&os(l),t.callbackPriority=2,t.callbackNode=null,2}function xv(t,r){if(Ht!==0&&Ht!==5)return t.callbackNode=null,t.callbackPriority=0,null;var a=t.callbackNode;if(bc()&&t.callbackNode!==a)return null;var l=Be;return l=ia(t,t===rt?l:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l===0?null:(lv(t,l,r),Av(t,bn()),t.callbackNode!=null&&t.callbackNode===a?xv.bind(null,t):null)}function Rv(t,r){if(bc())return null;lv(t,r,!0)}function jS(){$S(function(){($e&6)!==0?as(So,US):wv()})}function Od(){return Bs===0&&(Bs=xo()),Bs}function Iv(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:ha(""+t)}function Cv(t,r){var a=r.ownerDocument.createElement("input");return a.name=r.name,a.value=r.value,t.id&&a.setAttribute("form",t.id),r.parentNode.insertBefore(a,r),t=new FormData(t),a.parentNode.removeChild(a),t}function zS(t,r,a,l,h){if(r==="submit"&&a&&a.stateNode===h){var d=Iv((h[_t]||null).action),_=l.submitter;_&&(r=(r=_[_t]||null)?Iv(r.formAction):_.getAttribute("formAction"),r!==null&&(d=r,_=null));var b=new fa("action","action",null,l,h);t.push({event:b,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(Bs!==0){var D=_?Cv(h,_):new FormData(h);Zf(a,{pending:!0,data:D,method:h.method,action:d},null,D)}}else typeof d=="function"&&(b.preventDefault(),D=_?Cv(h,_):new FormData(h),Zf(a,{pending:!0,data:D,method:h.method,action:d},d,D))},currentTarget:h}]})}}for(var kd=0;kd<yf.length;kd++){var Md=yf[kd],BS=Md.toLowerCase(),HS=Md[0].toUpperCase()+Md.slice(1);Hn(BS,"on"+HS)}Hn(lg,"onAnimationEnd"),Hn(ug,"onAnimationIteration"),Hn(cg,"onAnimationStart"),Hn("dblclick","onDoubleClick"),Hn("focusin","onFocus"),Hn("focusout","onBlur"),Hn(sS,"onTransitionRun"),Hn(aS,"onTransitionStart"),Hn(oS,"onTransitionCancel"),Hn(hg,"onTransitionEnd"),xr("onMouseEnter",["mouseout","mouseover"]),xr("onMouseLeave",["mouseout","mouseover"]),xr("onPointerEnter",["pointerout","pointerover"]),xr("onPointerLeave",["pointerout","pointerover"]),zn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),zn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),zn("onBeforeInput",["compositionend","keypress","textInput","paste"]),zn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),zn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),zn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var _l="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),qS=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(_l));function Nv(t,r){r=(r&4)!==0;for(var a=0;a<t.length;a++){var l=t[a],h=l.event;l=l.listeners;e:{var d=void 0;if(r)for(var _=l.length-1;0<=_;_--){var b=l[_],D=b.instance,F=b.currentTarget;if(b=b.listener,D!==d&&h.isPropagationStopped())break e;d=b,h.currentTarget=F;try{d(h)}catch(ee){hc(ee)}h.currentTarget=null,d=D}else for(_=0;_<l.length;_++){if(b=l[_],D=b.instance,F=b.currentTarget,b=b.listener,D!==d&&h.isPropagationStopped())break e;d=b,h.currentTarget=F;try{d(h)}catch(ee){hc(ee)}h.currentTarget=null,d=D}}}}function Pe(t,r){var a=r[No];a===void 0&&(a=r[No]=new Set);var l=t+"__bubble";a.has(l)||(Dv(r,t,2,!1),a.add(l))}function Vd(t,r,a){var l=0;r&&(l|=4),Dv(a,t,l,r)}var Ac="_reactListening"+Math.random().toString(36).slice(2);function Pd(t){if(!t[Ac]){t[Ac]=!0,Do.forEach(function(a){a!=="selectionchange"&&(qS.has(a)||Vd(a,!1,t),Vd(a,!0,t))});var r=t.nodeType===9?t:t.ownerDocument;r===null||r[Ac]||(r[Ac]=!0,Vd("selectionchange",!1,r))}}function Dv(t,r,a,l){switch(t0(r)){case 2:var h=gw;break;case 8:h=yw;break;default:h=Xd}a=h.bind(null,r,a,t),h=void 0,!xn||r!=="touchstart"&&r!=="touchmove"&&r!=="wheel"||(h=!0),l?h!==void 0?t.addEventListener(r,a,{capture:!0,passive:h}):t.addEventListener(r,a,!0):h!==void 0?t.addEventListener(r,a,{passive:h}):t.addEventListener(r,a,!1)}function Ld(t,r,a,l,h){var d=l;if((r&1)===0&&(r&2)===0&&l!==null)e:for(;;){if(l===null)return;var _=l.tag;if(_===3||_===4){var b=l.stateNode.containerInfo;if(b===h)break;if(_===4)for(_=l.return;_!==null;){var D=_.tag;if((D===3||D===4)&&_.stateNode.containerInfo===h)return;_=_.return}for(;b!==null;){if(_=Ar(b),_===null)return;if(D=_.tag,D===5||D===6||D===26||D===27){l=d=_;continue e}b=b.parentNode}}l=l.return}Ru(function(){var F=d,ee=An(a),ie=[];e:{var G=fg.get(t);if(G!==void 0){var Q=fa,Se=t;switch(t){case"keypress":if(rr(a)===0)break e;case"keydown":case"keyup":Q=va;break;case"focusin":Se="focus",Q=pa;break;case"focusout":Se="blur",Q=pa;break;case"beforeblur":case"afterblur":Q=pa;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Q=Rn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Q=uf;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Q=Vu;break;case lg:case ug:case cg:Q=ga;break;case hg:Q=Lu;break;case"scroll":case"scrollend":Q=Iu;break;case"wheel":Q=_a;break;case"copy":case"cut":case"paste":Q=ya;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Q=qo;break;case"toggle":case"beforetoggle":Q=ju}var Ee=(r&4)!==0,tt=!Ee&&(t==="scroll"||t==="scrollend"),B=Ee?G!==null?G+"Capture":null:G;Ee=[];for(var L=F,q;L!==null;){var ne=L;if(q=ne.stateNode,ne=ne.tag,ne!==5&&ne!==26&&ne!==27||q===null||B===null||(ne=Es(L,B),ne!=null&&Ee.push(El(L,ne,q))),tt)break;L=L.return}0<Ee.length&&(G=new Q(G,Se,null,a,ee),ie.push({event:G,listeners:Ee}))}}if((r&7)===0){e:{if(G=t==="mouseover"||t==="pointerover",Q=t==="mouseout"||t==="pointerout",G&&a!==Cr&&(Se=a.relatedTarget||a.fromElement)&&(Ar(Se)||Se[Sn]))break e;if((Q||G)&&(G=ee.window===ee?ee:(G=ee.ownerDocument)?G.defaultView||G.parentWindow:window,Q?(Se=a.relatedTarget||a.toElement,Q=F,Se=Se?Ar(Se):null,Se!==null&&(tt=u(Se),Ee=Se.tag,Se!==tt||Ee!==5&&Ee!==27&&Ee!==6)&&(Se=null)):(Q=null,Se=F),Q!==Se)){if(Ee=Rn,ne="onMouseLeave",B="onMouseEnter",L="mouse",(t==="pointerout"||t==="pointerover")&&(Ee=qo,ne="onPointerLeave",B="onPointerEnter",L="pointer"),tt=Q==null?G:Jn(Q),q=Se==null?G:Jn(Se),G=new Ee(ne,L+"leave",Q,a,ee),G.target=tt,G.relatedTarget=q,ne=null,Ar(ee)===F&&(Ee=new Ee(B,L+"enter",Se,a,ee),Ee.target=q,Ee.relatedTarget=tt,ne=Ee),tt=ne,Q&&Se)t:{for(Ee=Q,B=Se,L=0,q=Ee;q;q=Fa(q))L++;for(q=0,ne=B;ne;ne=Fa(ne))q++;for(;0<L-q;)Ee=Fa(Ee),L--;for(;0<q-L;)B=Fa(B),q--;for(;L--;){if(Ee===B||B!==null&&Ee===B.alternate)break t;Ee=Fa(Ee),B=Fa(B)}Ee=null}else Ee=null;Q!==null&&Ov(ie,G,Q,Ee,!1),Se!==null&&tt!==null&&Ov(ie,tt,Se,Ee,!0)}}e:{if(G=F?Jn(F):window,Q=G.nodeName&&G.nodeName.toLowerCase(),Q==="select"||Q==="input"&&G.type==="file")var ge=Wp;else if(Rt(G))if(Zp)ge=nS;else{ge=eS;var Me=Jb}else Q=G.nodeName,!Q||Q.toLowerCase()!=="input"||G.type!=="checkbox"&&G.type!=="radio"?F&&Po(F.elementType)&&(ge=Wp):ge=tS;if(ge&&(ge=ge(t,F))){Mr(ie,ge,a,ee);break e}Me&&Me(t,G,F),t==="focusout"&&F&&G.type==="number"&&F.memoizedProps.value!=null&&fi(G,"number",G.value)}switch(Me=F?Jn(F):window,t){case"focusin":(Rt(Me)||Me.contentEditable==="true")&&(Ea=Me,mf=F,Ko=null);break;case"focusout":Ko=mf=Ea=null;break;case"mousedown":pf=!0;break;case"contextmenu":case"mouseup":case"dragend":pf=!1,ag(ie,a,ee);break;case"selectionchange":if(iS)break;case"keydown":case"keyup":ag(ie,a,ee)}var ve;if(ar)e:{switch(t){case"compositionstart":var Te="onCompositionStart";break e;case"compositionend":Te="onCompositionEnd";break e;case"compositionupdate":Te="onCompositionUpdate";break e}Te=void 0}else je?$(t,a)&&(Te="onCompositionEnd"):t==="keydown"&&a.keyCode===229&&(Te="onCompositionStart");Te&&(v&&a.locale!=="ko"&&(je||Te!=="onCompositionStart"?Te==="onCompositionEnd"&&je&&(ve=Uo()):(nr=ee,di="value"in nr?nr.value:nr.textContent,je=!0)),Me=xc(F,Te),0<Me.length&&(Te=new Bo(Te,t,null,a,ee),ie.push({event:Te,listeners:Me}),ve?Te.data=ve:(ve=ce(a),ve!==null&&(Te.data=ve)))),(ve=g?xt(t,a):ze(t,a))&&(Te=xc(F,"onBeforeInput"),0<Te.length&&(Me=new Bo("onBeforeInput","beforeinput",null,a,ee),ie.push({event:Me,listeners:Te}),Me.data=ve)),zS(ie,t,F,a,ee)}Nv(ie,r)})}function El(t,r,a){return{instance:t,listener:r,currentTarget:a}}function xc(t,r){for(var a=r+"Capture",l=[];t!==null;){var h=t,d=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||d===null||(h=Es(t,a),h!=null&&l.unshift(El(t,h,d)),h=Es(t,r),h!=null&&l.push(El(t,h,d))),t.tag===3)return l;t=t.return}return[]}function Fa(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function Ov(t,r,a,l,h){for(var d=r._reactName,_=[];a!==null&&a!==l;){var b=a,D=b.alternate,F=b.stateNode;if(b=b.tag,D!==null&&D===l)break;b!==5&&b!==26&&b!==27||F===null||(D=F,h?(F=Es(a,d),F!=null&&_.unshift(El(a,F,D))):h||(F=Es(a,d),F!=null&&_.push(El(a,F,D)))),a=a.return}_.length!==0&&t.push({event:r,listeners:_})}var FS=/\r\n?/g,GS=/\u0000|\uFFFD/g;function kv(t){return(typeof t=="string"?t:""+t).replace(FS,`
`).replace(GS,"")}function Mv(t,r){return r=kv(r),kv(t)===r}function Rc(){}function et(t,r,a,l,h,d){switch(a){case"children":typeof l=="string"?r==="body"||r==="textarea"&&l===""||wn(t,l):(typeof l=="number"||typeof l=="bigint")&&r!=="body"&&wn(t,""+l);break;case"className":er(t,"class",l);break;case"tabIndex":er(t,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":er(t,a,l);break;case"style":Vo(t,l,d);break;case"data":if(r!=="object"){er(t,"data",l);break}case"src":case"href":if(l===""&&(r!=="a"||a!=="href")){t.removeAttribute(a);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(a);break}l=ha(""+l),t.setAttribute(a,l);break;case"action":case"formAction":if(typeof l=="function"){t.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof d=="function"&&(a==="formAction"?(r!=="input"&&et(t,r,"name",h.name,h,null),et(t,r,"formEncType",h.formEncType,h,null),et(t,r,"formMethod",h.formMethod,h,null),et(t,r,"formTarget",h.formTarget,h,null)):(et(t,r,"encType",h.encType,h,null),et(t,r,"method",h.method,h,null),et(t,r,"target",h.target,h,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(a);break}l=ha(""+l),t.setAttribute(a,l);break;case"onClick":l!=null&&(t.onclick=Rc);break;case"onScroll":l!=null&&Pe("scroll",t);break;case"onScrollEnd":l!=null&&Pe("scrollend",t);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(h.children!=null)throw Error(s(60));t.innerHTML=a}}break;case"multiple":t.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":t.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){t.removeAttribute("xlink:href");break}a=ha(""+l),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,""+l):t.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,""):t.removeAttribute(a);break;case"capture":case"download":l===!0?t.setAttribute(a,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,l):t.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?t.setAttribute(a,l):t.removeAttribute(a);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?t.removeAttribute(a):t.setAttribute(a,l);break;case"popover":Pe("beforetoggle",t),Pe("toggle",t),hi(t,"popover",l);break;case"xlinkActuate":jt(t,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":jt(t,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":jt(t,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":jt(t,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":jt(t,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":jt(t,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":jt(t,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":jt(t,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":jt(t,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":hi(t,"is",l);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=of.get(a)||a,hi(t,a,l))}}function Ud(t,r,a,l,h,d){switch(a){case"style":Vo(t,l,d);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(h.children!=null)throw Error(s(60));t.innerHTML=a}}break;case"children":typeof l=="string"?wn(t,l):(typeof l=="number"||typeof l=="bigint")&&wn(t,""+l);break;case"onScroll":l!=null&&Pe("scroll",t);break;case"onScrollEnd":l!=null&&Pe("scrollend",t);break;case"onClick":l!=null&&(t.onclick=Rc);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!aa.hasOwnProperty(a))e:{if(a[0]==="o"&&a[1]==="n"&&(h=a.endsWith("Capture"),r=a.slice(2,h?a.length-7:void 0),d=t[_t]||null,d=d!=null?d[a]:null,typeof d=="function"&&t.removeEventListener(r,d,h),typeof l=="function")){typeof d!="function"&&d!==null&&(a in t?t[a]=null:t.hasAttribute(a)&&t.removeAttribute(a)),t.addEventListener(r,l,h);break e}a in t?t[a]=l:l===!0?t.setAttribute(a,""):hi(t,a,l)}}}function qt(t,r,a){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Pe("error",t),Pe("load",t);var l=!1,h=!1,d;for(d in a)if(a.hasOwnProperty(d)){var _=a[d];if(_!=null)switch(d){case"src":l=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,r));default:et(t,r,d,_,a,null)}}h&&et(t,r,"srcSet",a.srcSet,a,null),l&&et(t,r,"src",a.src,a,null);return;case"input":Pe("invalid",t);var b=d=_=h=null,D=null,F=null;for(l in a)if(a.hasOwnProperty(l)){var ee=a[l];if(ee!=null)switch(l){case"name":h=ee;break;case"type":_=ee;break;case"checked":D=ee;break;case"defaultChecked":F=ee;break;case"value":d=ee;break;case"defaultValue":b=ee;break;case"children":case"dangerouslySetInnerHTML":if(ee!=null)throw Error(s(137,r));break;default:et(t,r,l,ee,a,null)}}ys(t,d,b,D,F,_,h,!1),ca(t);return;case"select":Pe("invalid",t),l=_=d=null;for(h in a)if(a.hasOwnProperty(h)&&(b=a[h],b!=null))switch(h){case"value":d=b;break;case"defaultValue":_=b;break;case"multiple":l=b;default:et(t,r,h,b,a,null)}r=d,a=_,t.multiple=!!l,r!=null?Ir(t,!!l,r,!1):a!=null&&Ir(t,!!l,a,!0);return;case"textarea":Pe("invalid",t),d=h=l=null;for(_ in a)if(a.hasOwnProperty(_)&&(b=a[_],b!=null))switch(_){case"value":l=b;break;case"defaultValue":h=b;break;case"children":d=b;break;case"dangerouslySetInnerHTML":if(b!=null)throw Error(s(91));break;default:et(t,r,_,b,a,null)}vs(t,l,h,d),ca(t);return;case"option":for(D in a)if(a.hasOwnProperty(D)&&(l=a[D],l!=null))switch(D){case"selected":t.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:et(t,r,D,l,a,null)}return;case"dialog":Pe("beforetoggle",t),Pe("toggle",t),Pe("cancel",t),Pe("close",t);break;case"iframe":case"object":Pe("load",t);break;case"video":case"audio":for(l=0;l<_l.length;l++)Pe(_l[l],t);break;case"image":Pe("error",t),Pe("load",t);break;case"details":Pe("toggle",t);break;case"embed":case"source":case"link":Pe("error",t),Pe("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(F in a)if(a.hasOwnProperty(F)&&(l=a[F],l!=null))switch(F){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,r));default:et(t,r,F,l,a,null)}return;default:if(Po(r)){for(ee in a)a.hasOwnProperty(ee)&&(l=a[ee],l!==void 0&&Ud(t,r,ee,l,a,void 0));return}}for(b in a)a.hasOwnProperty(b)&&(l=a[b],l!=null&&et(t,r,b,l,a,null))}function KS(t,r,a,l){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,d=null,_=null,b=null,D=null,F=null,ee=null;for(Q in a){var ie=a[Q];if(a.hasOwnProperty(Q)&&ie!=null)switch(Q){case"checked":break;case"value":break;case"defaultValue":D=ie;default:l.hasOwnProperty(Q)||et(t,r,Q,null,l,ie)}}for(var G in l){var Q=l[G];if(ie=a[G],l.hasOwnProperty(G)&&(Q!=null||ie!=null))switch(G){case"type":d=Q;break;case"name":h=Q;break;case"checked":F=Q;break;case"defaultChecked":ee=Q;break;case"value":_=Q;break;case"defaultValue":b=Q;break;case"children":case"dangerouslySetInnerHTML":if(Q!=null)throw Error(s(137,r));break;default:Q!==ie&&et(t,r,G,Q,l,ie)}}dn(t,_,b,D,F,ee,d,h);return;case"select":Q=_=b=G=null;for(d in a)if(D=a[d],a.hasOwnProperty(d)&&D!=null)switch(d){case"value":break;case"multiple":Q=D;default:l.hasOwnProperty(d)||et(t,r,d,null,l,D)}for(h in l)if(d=l[h],D=a[h],l.hasOwnProperty(h)&&(d!=null||D!=null))switch(h){case"value":G=d;break;case"defaultValue":b=d;break;case"multiple":_=d;default:d!==D&&et(t,r,h,d,l,D)}r=b,a=_,l=Q,G!=null?Ir(t,!!a,G,!1):!!l!=!!a&&(r!=null?Ir(t,!!a,r,!0):Ir(t,!!a,a?[]:"",!1));return;case"textarea":Q=G=null;for(b in a)if(h=a[b],a.hasOwnProperty(b)&&h!=null&&!l.hasOwnProperty(b))switch(b){case"value":break;case"children":break;default:et(t,r,b,null,l,h)}for(_ in l)if(h=l[_],d=a[_],l.hasOwnProperty(_)&&(h!=null||d!=null))switch(_){case"value":G=h;break;case"defaultValue":Q=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(s(91));break;default:h!==d&&et(t,r,_,h,l,d)}Ze(t,G,Q);return;case"option":for(var Se in a)if(G=a[Se],a.hasOwnProperty(Se)&&G!=null&&!l.hasOwnProperty(Se))switch(Se){case"selected":t.selected=!1;break;default:et(t,r,Se,null,l,G)}for(D in l)if(G=l[D],Q=a[D],l.hasOwnProperty(D)&&G!==Q&&(G!=null||Q!=null))switch(D){case"selected":t.selected=G&&typeof G!="function"&&typeof G!="symbol";break;default:et(t,r,D,G,l,Q)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Ee in a)G=a[Ee],a.hasOwnProperty(Ee)&&G!=null&&!l.hasOwnProperty(Ee)&&et(t,r,Ee,null,l,G);for(F in l)if(G=l[F],Q=a[F],l.hasOwnProperty(F)&&G!==Q&&(G!=null||Q!=null))switch(F){case"children":case"dangerouslySetInnerHTML":if(G!=null)throw Error(s(137,r));break;default:et(t,r,F,G,l,Q)}return;default:if(Po(r)){for(var tt in a)G=a[tt],a.hasOwnProperty(tt)&&G!==void 0&&!l.hasOwnProperty(tt)&&Ud(t,r,tt,void 0,l,G);for(ee in l)G=l[ee],Q=a[ee],!l.hasOwnProperty(ee)||G===Q||G===void 0&&Q===void 0||Ud(t,r,ee,G,l,Q);return}}for(var B in a)G=a[B],a.hasOwnProperty(B)&&G!=null&&!l.hasOwnProperty(B)&&et(t,r,B,null,l,G);for(ie in l)G=l[ie],Q=a[ie],!l.hasOwnProperty(ie)||G===Q||G==null&&Q==null||et(t,r,ie,G,l,Q)}var jd=null,zd=null;function Ic(t){return t.nodeType===9?t:t.ownerDocument}function Vv(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Pv(t,r){if(t===0)switch(r){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&r==="foreignObject"?0:t}function Bd(t,r){return t==="textarea"||t==="noscript"||typeof r.children=="string"||typeof r.children=="number"||typeof r.children=="bigint"||typeof r.dangerouslySetInnerHTML=="object"&&r.dangerouslySetInnerHTML!==null&&r.dangerouslySetInnerHTML.__html!=null}var Hd=null;function QS(){var t=window.event;return t&&t.type==="popstate"?t===Hd?!1:(Hd=t,!0):(Hd=null,!1)}var Lv=typeof setTimeout=="function"?setTimeout:void 0,YS=typeof clearTimeout=="function"?clearTimeout:void 0,Uv=typeof Promise=="function"?Promise:void 0,$S=typeof queueMicrotask=="function"?queueMicrotask:typeof Uv<"u"?function(t){return Uv.resolve(null).then(t).catch(XS)}:Lv;function XS(t){setTimeout(function(){throw t})}function Ci(t){return t==="head"}function jv(t,r){var a=r,l=0,h=0;do{var d=a.nextSibling;if(t.removeChild(a),d&&d.nodeType===8)if(a=d.data,a==="/$"){if(0<l&&8>l){a=l;var _=t.ownerDocument;if(a&1&&Tl(_.documentElement),a&2&&Tl(_.body),a&4)for(a=_.head,Tl(a),_=a.firstChild;_;){var b=_.nextSibling,D=_.nodeName;_[ds]||D==="SCRIPT"||D==="STYLE"||D==="LINK"&&_.rel.toLowerCase()==="stylesheet"||a.removeChild(_),_=b}}if(h===0){t.removeChild(d),Cl(r);return}h--}else a==="$"||a==="$?"||a==="$!"?h++:l=a.charCodeAt(0)-48;else l=0;a=d}while(a);Cl(r)}function qd(t){var r=t.firstChild;for(r&&r.nodeType===10&&(r=r.nextSibling);r;){var a=r;switch(r=r.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":qd(a),ci(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}t.removeChild(a)}}function WS(t,r,a,l){for(;t.nodeType===1;){var h=a;if(t.nodeName.toLowerCase()!==r.toLowerCase()){if(!l&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(l){if(!t[ds])switch(r){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(d=t.getAttribute("rel"),d==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(d!==h.rel||t.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||t.getAttribute("title")!==(h.title==null?null:h.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(d=t.getAttribute("src"),(d!==(h.src==null?null:h.src)||t.getAttribute("type")!==(h.type==null?null:h.type)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&d&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(r==="input"&&t.type==="hidden"){var d=h.name==null?null:""+h.name;if(h.type==="hidden"&&t.getAttribute("name")===d)return t}else return t;if(t=Fn(t.nextSibling),t===null)break}return null}function ZS(t,r,a){if(r==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!a||(t=Fn(t.nextSibling),t===null))return null;return t}function Fd(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState==="complete"}function JS(t,r){var a=t.ownerDocument;if(t.data!=="$?"||a.readyState==="complete")r();else{var l=function(){r(),a.removeEventListener("DOMContentLoaded",l)};a.addEventListener("DOMContentLoaded",l),t._reactRetry=l}}function Fn(t){for(;t!=null;t=t.nextSibling){var r=t.nodeType;if(r===1||r===3)break;if(r===8){if(r=t.data,r==="$"||r==="$!"||r==="$?"||r==="F!"||r==="F")break;if(r==="/$")return null}}return t}var Gd=null;function zv(t){t=t.previousSibling;for(var r=0;t;){if(t.nodeType===8){var a=t.data;if(a==="$"||a==="$!"||a==="$?"){if(r===0)return t;r--}else a==="/$"&&r++}t=t.previousSibling}return null}function Bv(t,r,a){switch(r=Ic(a),t){case"html":if(t=r.documentElement,!t)throw Error(s(452));return t;case"head":if(t=r.head,!t)throw Error(s(453));return t;case"body":if(t=r.body,!t)throw Error(s(454));return t;default:throw Error(s(451))}}function Tl(t){for(var r=t.attributes;r.length;)t.removeAttributeNode(r[0]);ci(t)}var Mn=new Map,Hv=new Set;function Cc(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var Qr=ue.d;ue.d={f:ew,r:tw,D:nw,C:rw,L:iw,m:sw,X:ow,S:aw,M:lw};function ew(){var t=Qr.f(),r=Ec();return t||r}function tw(t){var r=Zn(t);r!==null&&r.tag===5&&r.type==="form"?ly(r):Qr.r(t)}var Ga=typeof document>"u"?null:document;function qv(t,r,a){var l=Ga;if(l&&typeof r=="string"&&r){var h=Et(r);h='link[rel="'+t+'"][href="'+h+'"]',typeof a=="string"&&(h+='[crossorigin="'+a+'"]'),Hv.has(h)||(Hv.add(h),t={rel:t,crossOrigin:a,href:r},l.querySelector(h)===null&&(r=l.createElement("link"),qt(r,"link",t),pt(r),l.head.appendChild(r)))}}function nw(t){Qr.D(t),qv("dns-prefetch",t,null)}function rw(t,r){Qr.C(t,r),qv("preconnect",t,r)}function iw(t,r,a){Qr.L(t,r,a);var l=Ga;if(l&&t&&r){var h='link[rel="preload"][as="'+Et(r)+'"]';r==="image"&&a&&a.imageSrcSet?(h+='[imagesrcset="'+Et(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(h+='[imagesizes="'+Et(a.imageSizes)+'"]')):h+='[href="'+Et(t)+'"]';var d=h;switch(r){case"style":d=Ka(t);break;case"script":d=Qa(t)}Mn.has(d)||(t=E({rel:"preload",href:r==="image"&&a&&a.imageSrcSet?void 0:t,as:r},a),Mn.set(d,t),l.querySelector(h)!==null||r==="style"&&l.querySelector(bl(d))||r==="script"&&l.querySelector(Sl(d))||(r=l.createElement("link"),qt(r,"link",t),pt(r),l.head.appendChild(r)))}}function sw(t,r){Qr.m(t,r);var a=Ga;if(a&&t){var l=r&&typeof r.as=="string"?r.as:"script",h='link[rel="modulepreload"][as="'+Et(l)+'"][href="'+Et(t)+'"]',d=h;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":d=Qa(t)}if(!Mn.has(d)&&(t=E({rel:"modulepreload",href:t},r),Mn.set(d,t),a.querySelector(h)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(Sl(d)))return}l=a.createElement("link"),qt(l,"link",t),pt(l),a.head.appendChild(l)}}}function aw(t,r,a){Qr.S(t,r,a);var l=Ga;if(l&&t){var h=en(l).hoistableStyles,d=Ka(t);r=r||"default";var _=h.get(d);if(!_){var b={loading:0,preload:null};if(_=l.querySelector(bl(d)))b.loading=5;else{t=E({rel:"stylesheet",href:t,"data-precedence":r},a),(a=Mn.get(d))&&Kd(t,a);var D=_=l.createElement("link");pt(D),qt(D,"link",t),D._p=new Promise(function(F,ee){D.onload=F,D.onerror=ee}),D.addEventListener("load",function(){b.loading|=1}),D.addEventListener("error",function(){b.loading|=2}),b.loading|=4,Nc(_,r,l)}_={type:"stylesheet",instance:_,count:1,state:b},h.set(d,_)}}}function ow(t,r){Qr.X(t,r);var a=Ga;if(a&&t){var l=en(a).hoistableScripts,h=Qa(t),d=l.get(h);d||(d=a.querySelector(Sl(h)),d||(t=E({src:t,async:!0},r),(r=Mn.get(h))&&Qd(t,r),d=a.createElement("script"),pt(d),qt(d,"link",t),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(h,d))}}function lw(t,r){Qr.M(t,r);var a=Ga;if(a&&t){var l=en(a).hoistableScripts,h=Qa(t),d=l.get(h);d||(d=a.querySelector(Sl(h)),d||(t=E({src:t,async:!0,type:"module"},r),(r=Mn.get(h))&&Qd(t,r),d=a.createElement("script"),pt(d),qt(d,"link",t),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(h,d))}}function Fv(t,r,a,l){var h=(h=ye.current)?Cc(h):null;if(!h)throw Error(s(446));switch(t){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(r=Ka(a.href),a=en(h).hoistableStyles,l=a.get(r),l||(l={type:"style",instance:null,count:0,state:null},a.set(r,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){t=Ka(a.href);var d=en(h).hoistableStyles,_=d.get(t);if(_||(h=h.ownerDocument||h,_={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},d.set(t,_),(d=h.querySelector(bl(t)))&&!d._p&&(_.instance=d,_.state.loading=5),Mn.has(t)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},Mn.set(t,a),d||uw(h,t,a,_.state))),r&&l===null)throw Error(s(528,""));return _}if(r&&l!==null)throw Error(s(529,""));return null;case"script":return r=a.async,a=a.src,typeof a=="string"&&r&&typeof r!="function"&&typeof r!="symbol"?(r=Qa(a),a=en(h).hoistableScripts,l=a.get(r),l||(l={type:"script",instance:null,count:0,state:null},a.set(r,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,t))}}function Ka(t){return'href="'+Et(t)+'"'}function bl(t){return'link[rel="stylesheet"]['+t+"]"}function Gv(t){return E({},t,{"data-precedence":t.precedence,precedence:null})}function uw(t,r,a,l){t.querySelector('link[rel="preload"][as="style"]['+r+"]")?l.loading=1:(r=t.createElement("link"),l.preload=r,r.addEventListener("load",function(){return l.loading|=1}),r.addEventListener("error",function(){return l.loading|=2}),qt(r,"link",a),pt(r),t.head.appendChild(r))}function Qa(t){return'[src="'+Et(t)+'"]'}function Sl(t){return"script[async]"+t}function Kv(t,r,a){if(r.count++,r.instance===null)switch(r.type){case"style":var l=t.querySelector('style[data-href~="'+Et(a.href)+'"]');if(l)return r.instance=l,pt(l),l;var h=E({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return l=(t.ownerDocument||t).createElement("style"),pt(l),qt(l,"style",h),Nc(l,a.precedence,t),r.instance=l;case"stylesheet":h=Ka(a.href);var d=t.querySelector(bl(h));if(d)return r.state.loading|=4,r.instance=d,pt(d),d;l=Gv(a),(h=Mn.get(h))&&Kd(l,h),d=(t.ownerDocument||t).createElement("link"),pt(d);var _=d;return _._p=new Promise(function(b,D){_.onload=b,_.onerror=D}),qt(d,"link",l),r.state.loading|=4,Nc(d,a.precedence,t),r.instance=d;case"script":return d=Qa(a.src),(h=t.querySelector(Sl(d)))?(r.instance=h,pt(h),h):(l=a,(h=Mn.get(d))&&(l=E({},a),Qd(l,h)),t=t.ownerDocument||t,h=t.createElement("script"),pt(h),qt(h,"link",l),t.head.appendChild(h),r.instance=h);case"void":return null;default:throw Error(s(443,r.type))}else r.type==="stylesheet"&&(r.state.loading&4)===0&&(l=r.instance,r.state.loading|=4,Nc(l,a.precedence,t));return r.instance}function Nc(t,r,a){for(var l=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=l.length?l[l.length-1]:null,d=h,_=0;_<l.length;_++){var b=l[_];if(b.dataset.precedence===r)d=b;else if(d!==h)break}d?d.parentNode.insertBefore(t,d.nextSibling):(r=a.nodeType===9?a.head:a,r.insertBefore(t,r.firstChild))}function Kd(t,r){t.crossOrigin==null&&(t.crossOrigin=r.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=r.referrerPolicy),t.title==null&&(t.title=r.title)}function Qd(t,r){t.crossOrigin==null&&(t.crossOrigin=r.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=r.referrerPolicy),t.integrity==null&&(t.integrity=r.integrity)}var Dc=null;function Qv(t,r,a){if(Dc===null){var l=new Map,h=Dc=new Map;h.set(a,l)}else h=Dc,l=h.get(a),l||(l=new Map,h.set(a,l));if(l.has(t))return l;for(l.set(t,null),a=a.getElementsByTagName(t),h=0;h<a.length;h++){var d=a[h];if(!(d[ds]||d[At]||t==="link"&&d.getAttribute("rel")==="stylesheet")&&d.namespaceURI!=="http://www.w3.org/2000/svg"){var _=d.getAttribute(r)||"";_=t+_;var b=l.get(_);b?b.push(d):l.set(_,[d])}}return l}function Yv(t,r,a){t=t.ownerDocument||t,t.head.insertBefore(a,r==="title"?t.querySelector("head > title"):null)}function cw(t,r,a){if(a===1||r.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof r.precedence!="string"||typeof r.href!="string"||r.href==="")break;return!0;case"link":if(typeof r.rel!="string"||typeof r.href!="string"||r.href===""||r.onLoad||r.onError)break;switch(r.rel){case"stylesheet":return t=r.disabled,typeof r.precedence=="string"&&t==null;default:return!0}case"script":if(r.async&&typeof r.async!="function"&&typeof r.async!="symbol"&&!r.onLoad&&!r.onError&&r.src&&typeof r.src=="string")return!0}return!1}function $v(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}var wl=null;function hw(){}function fw(t,r,a){if(wl===null)throw Error(s(475));var l=wl;if(r.type==="stylesheet"&&(typeof a.media!="string"||matchMedia(a.media).matches!==!1)&&(r.state.loading&4)===0){if(r.instance===null){var h=Ka(a.href),d=t.querySelector(bl(h));if(d){t=d._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(l.count++,l=Oc.bind(l),t.then(l,l)),r.state.loading|=4,r.instance=d,pt(d);return}d=t.ownerDocument||t,a=Gv(a),(h=Mn.get(h))&&Kd(a,h),d=d.createElement("link"),pt(d);var _=d;_._p=new Promise(function(b,D){_.onload=b,_.onerror=D}),qt(d,"link",a),r.instance=d}l.stylesheets===null&&(l.stylesheets=new Map),l.stylesheets.set(r,t),(t=r.state.preload)&&(r.state.loading&3)===0&&(l.count++,r=Oc.bind(l),t.addEventListener("load",r),t.addEventListener("error",r))}}function dw(){if(wl===null)throw Error(s(475));var t=wl;return t.stylesheets&&t.count===0&&Yd(t,t.stylesheets),0<t.count?function(r){var a=setTimeout(function(){if(t.stylesheets&&Yd(t,t.stylesheets),t.unsuspend){var l=t.unsuspend;t.unsuspend=null,l()}},6e4);return t.unsuspend=r,function(){t.unsuspend=null,clearTimeout(a)}}:null}function Oc(){if(this.count--,this.count===0){if(this.stylesheets)Yd(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var kc=null;function Yd(t,r){t.stylesheets=null,t.unsuspend!==null&&(t.count++,kc=new Map,r.forEach(mw,t),kc=null,Oc.call(t))}function mw(t,r){if(!(r.state.loading&4)){var a=kc.get(t);if(a)var l=a.get(null);else{a=new Map,kc.set(t,a);for(var h=t.querySelectorAll("link[data-precedence],style[data-precedence]"),d=0;d<h.length;d++){var _=h[d];(_.nodeName==="LINK"||_.getAttribute("media")!=="not all")&&(a.set(_.dataset.precedence,_),l=_)}l&&a.set(null,l)}h=r.instance,_=h.getAttribute("data-precedence"),d=a.get(_)||l,d===l&&a.set(null,h),a.set(_,h),this.count++,l=Oc.bind(this),h.addEventListener("load",l),h.addEventListener("error",l),d?d.parentNode.insertBefore(h,d.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(h,t.firstChild)),r.state.loading|=4}}var Al={$$typeof:X,Provider:null,Consumer:null,_currentValue:re,_currentValue2:re,_threadCount:0};function pw(t,r,a,l,h,d,_,b){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Sr(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Sr(0),this.hiddenUpdates=Sr(null),this.identifierPrefix=l,this.onUncaughtError=h,this.onCaughtError=d,this.onRecoverableError=_,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=b,this.incompleteTransitions=new Map}function Xv(t,r,a,l,h,d,_,b,D,F,ee,ie){return t=new pw(t,r,a,_,b,D,F,ie),r=1,d===!0&&(r|=24),d=pn(3,null,null,r),t.current=d,d.stateNode=t,r=Cf(),r.refCount++,t.pooledCache=r,r.refCount++,d.memoizedState={element:l,isDehydrated:a,cache:r},kf(d),t}function Wv(t){return t?(t=wa,t):wa}function Zv(t,r,a,l,h,d){h=Wv(h),l.context===null?l.context=h:l.pendingContext=h,l=gi(r),l.payload={element:a},d=d===void 0?null:d,d!==null&&(l.callback=d),a=yi(t,l,r),a!==null&&(En(a,t,r),tl(a,t,r))}function Jv(t,r){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var a=t.retryLane;t.retryLane=a!==0&&a<r?a:r}}function $d(t,r){Jv(t,r),(t=t.alternate)&&Jv(t,r)}function e0(t){if(t.tag===13){var r=Sa(t,67108864);r!==null&&En(r,t,67108864),$d(t,67108864)}}var Mc=!0;function gw(t,r,a,l){var h=Z.T;Z.T=null;var d=ue.p;try{ue.p=2,Xd(t,r,a,l)}finally{ue.p=d,Z.T=h}}function yw(t,r,a,l){var h=Z.T;Z.T=null;var d=ue.p;try{ue.p=8,Xd(t,r,a,l)}finally{ue.p=d,Z.T=h}}function Xd(t,r,a,l){if(Mc){var h=Wd(l);if(h===null)Ld(t,r,l,Vc,a),n0(t,l);else if(_w(h,t,r,a,l))l.stopPropagation();else if(n0(t,l),r&4&&-1<vw.indexOf(t)){for(;h!==null;){var d=Zn(h);if(d!==null)switch(d.tag){case 3:if(d=d.stateNode,d.current.memoizedState.isDehydrated){var _=jn(d.pendingLanes);if(_!==0){var b=d;for(b.pendingLanes|=2,b.entangledLanes|=2;_;){var D=1<<31-Qt(_);b.entanglements[1]|=D,_&=~D}fr(d),($e&6)===0&&(vc=bn()+500,vl(0))}}break;case 13:b=Sa(d,2),b!==null&&En(b,d,2),Ec(),$d(d,2)}if(d=Wd(l),d===null&&Ld(t,r,l,Vc,a),d===h)break;h=d}h!==null&&l.stopPropagation()}else Ld(t,r,l,null,a)}}function Wd(t){return t=An(t),Zd(t)}var Vc=null;function Zd(t){if(Vc=null,t=Ar(t),t!==null){var r=u(t);if(r===null)t=null;else{var a=r.tag;if(a===13){if(t=f(r),t!==null)return t;t=null}else if(a===3){if(r.stateNode.current.memoizedState.isDehydrated)return r.tag===3?r.stateNode.containerInfo:null;t=null}else r!==t&&(t=null)}}return Vc=t,null}function t0(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(ef()){case So:return 2;case na:return 8;case ls:case tf:return 32;case ra:return 268435456;default:return 32}default:return 32}}var Jd=!1,Ni=null,Di=null,Oi=null,xl=new Map,Rl=new Map,ki=[],vw="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function n0(t,r){switch(t){case"focusin":case"focusout":Ni=null;break;case"dragenter":case"dragleave":Di=null;break;case"mouseover":case"mouseout":Oi=null;break;case"pointerover":case"pointerout":xl.delete(r.pointerId);break;case"gotpointercapture":case"lostpointercapture":Rl.delete(r.pointerId)}}function Il(t,r,a,l,h,d){return t===null||t.nativeEvent!==d?(t={blockedOn:r,domEventName:a,eventSystemFlags:l,nativeEvent:d,targetContainers:[h]},r!==null&&(r=Zn(r),r!==null&&e0(r)),t):(t.eventSystemFlags|=l,r=t.targetContainers,h!==null&&r.indexOf(h)===-1&&r.push(h),t)}function _w(t,r,a,l,h){switch(r){case"focusin":return Ni=Il(Ni,t,r,a,l,h),!0;case"dragenter":return Di=Il(Di,t,r,a,l,h),!0;case"mouseover":return Oi=Il(Oi,t,r,a,l,h),!0;case"pointerover":var d=h.pointerId;return xl.set(d,Il(xl.get(d)||null,t,r,a,l,h)),!0;case"gotpointercapture":return d=h.pointerId,Rl.set(d,Il(Rl.get(d)||null,t,r,a,l,h)),!0}return!1}function r0(t){var r=Ar(t.target);if(r!==null){var a=u(r);if(a!==null){if(r=a.tag,r===13){if(r=f(a),r!==null){t.blockedOn=r,Eu(t.priority,function(){if(a.tag===13){var l=_n();l=oi(l);var h=Sa(a,l);h!==null&&En(h,a,l),$d(a,l)}});return}}else if(r===3&&a.stateNode.current.memoizedState.isDehydrated){t.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Pc(t){if(t.blockedOn!==null)return!1;for(var r=t.targetContainers;0<r.length;){var a=Wd(t.nativeEvent);if(a===null){a=t.nativeEvent;var l=new a.constructor(a.type,a);Cr=l,a.target.dispatchEvent(l),Cr=null}else return r=Zn(a),r!==null&&e0(r),t.blockedOn=a,!1;r.shift()}return!0}function i0(t,r,a){Pc(t)&&a.delete(r)}function Ew(){Jd=!1,Ni!==null&&Pc(Ni)&&(Ni=null),Di!==null&&Pc(Di)&&(Di=null),Oi!==null&&Pc(Oi)&&(Oi=null),xl.forEach(i0),Rl.forEach(i0)}function Lc(t,r){t.blockedOn===r&&(t.blockedOn=null,Jd||(Jd=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,Ew)))}var Uc=null;function s0(t){Uc!==t&&(Uc=t,i.unstable_scheduleCallback(i.unstable_NormalPriority,function(){Uc===t&&(Uc=null);for(var r=0;r<t.length;r+=3){var a=t[r],l=t[r+1],h=t[r+2];if(typeof l!="function"){if(Zd(l||a)===null)continue;break}var d=Zn(a);d!==null&&(t.splice(r,3),r-=3,Zf(d,{pending:!0,data:h,method:a.method,action:l},l,h))}}))}function Cl(t){function r(D){return Lc(D,t)}Ni!==null&&Lc(Ni,t),Di!==null&&Lc(Di,t),Oi!==null&&Lc(Oi,t),xl.forEach(r),Rl.forEach(r);for(var a=0;a<ki.length;a++){var l=ki[a];l.blockedOn===t&&(l.blockedOn=null)}for(;0<ki.length&&(a=ki[0],a.blockedOn===null);)r0(a),a.blockedOn===null&&ki.shift();if(a=(t.ownerDocument||t).$$reactFormReplay,a!=null)for(l=0;l<a.length;l+=3){var h=a[l],d=a[l+1],_=h[_t]||null;if(typeof d=="function")_||s0(a);else if(_){var b=null;if(d&&d.hasAttribute("formAction")){if(h=d,_=d[_t]||null)b=_.formAction;else if(Zd(h)!==null)continue}else b=_.action;typeof b=="function"?a[l+1]=b:(a.splice(l,3),l-=3),s0(a)}}}function em(t){this._internalRoot=t}jc.prototype.render=em.prototype.render=function(t){var r=this._internalRoot;if(r===null)throw Error(s(409));var a=r.current,l=_n();Zv(a,l,t,r,null,null)},jc.prototype.unmount=em.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var r=t.containerInfo;Zv(t.current,2,null,t,null,null),Ec(),r[Sn]=null}};function jc(t){this._internalRoot=t}jc.prototype.unstable_scheduleHydration=function(t){if(t){var r=li();t={blockedOn:null,target:t,priority:r};for(var a=0;a<ki.length&&r!==0&&r<ki[a].priority;a++);ki.splice(a,0,t),a===0&&r0(t)}};var a0=e.version;if(a0!=="19.1.0")throw Error(s(527,a0,"19.1.0"));ue.findDOMNode=function(t){var r=t._reactInternals;if(r===void 0)throw typeof t.render=="function"?Error(s(188)):(t=Object.keys(t).join(","),Error(s(268,t)));return t=p(r),t=t!==null?y(t):null,t=t===null?null:t.stateNode,t};var Tw={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:Z,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var zc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!zc.isDisabled&&zc.supportsFiber)try{ft=zc.inject(Tw),Ye=zc}catch{}}return Dl.createRoot=function(t,r){if(!o(t))throw Error(s(299));var a=!1,l="",h=by,d=Sy,_=wy,b=null;return r!=null&&(r.unstable_strictMode===!0&&(a=!0),r.identifierPrefix!==void 0&&(l=r.identifierPrefix),r.onUncaughtError!==void 0&&(h=r.onUncaughtError),r.onCaughtError!==void 0&&(d=r.onCaughtError),r.onRecoverableError!==void 0&&(_=r.onRecoverableError),r.unstable_transitionCallbacks!==void 0&&(b=r.unstable_transitionCallbacks)),r=Xv(t,1,!1,null,null,a,l,h,d,_,b,null),t[Sn]=r.current,Pd(t),new em(r)},Dl.hydrateRoot=function(t,r,a){if(!o(t))throw Error(s(299));var l=!1,h="",d=by,_=Sy,b=wy,D=null,F=null;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(h=a.identifierPrefix),a.onUncaughtError!==void 0&&(d=a.onUncaughtError),a.onCaughtError!==void 0&&(_=a.onCaughtError),a.onRecoverableError!==void 0&&(b=a.onRecoverableError),a.unstable_transitionCallbacks!==void 0&&(D=a.unstable_transitionCallbacks),a.formState!==void 0&&(F=a.formState)),r=Xv(t,1,!0,r,a??null,l,h,d,_,b,D,F),r.context=Wv(null),a=r.current,l=_n(),l=oi(l),h=gi(l),h.callback=null,yi(a,h,l),a=l,r.current.lanes=a,wr(r,a),fr(r),t[Sn]=r.current,Pd(t),new jc(r)},Dl.version="19.1.0",Dl}var g0;function Dw(){if(g0)return rm.exports;g0=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(e){console.error(e)}}return i(),rm.exports=Nw(),rm.exports}var Ow=Dw();const kw=J_(Ow);var Ol={},y0;function Mw(){if(y0)return Ol;y0=1,Object.defineProperty(Ol,"__esModule",{value:!0}),Ol.parse=f,Ol.serialize=y;const i=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,e=/^[\u0021-\u003A\u003C-\u007E]*$/,n=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,s=/^[\u0020-\u003A\u003D-\u007E]*$/,o=Object.prototype.toString,u=(()=>{const A=function(){};return A.prototype=Object.create(null),A})();function f(A,k){const N=new u,M=A.length;if(M<2)return N;const P=(k==null?void 0:k.decode)||E;let K=0;do{const se=A.indexOf("=",K);if(se===-1)break;const X=A.indexOf(";",K),he=X===-1?M:X;if(se>he){K=A.lastIndexOf(";",se-1)+1;continue}const le=m(A,K,se),me=p(A,se,le),V=A.slice(le,me);if(N[V]===void 0){let x=m(A,se+1,he),I=p(A,he,x);const O=P(A.slice(x,I));N[V]=O}K=he+1}while(K<M);return N}function m(A,k,N){do{const M=A.charCodeAt(k);if(M!==32&&M!==9)return k}while(++k<N);return N}function p(A,k,N){for(;k>N;){const M=A.charCodeAt(--k);if(M!==32&&M!==9)return k+1}return N}function y(A,k,N){const M=(N==null?void 0:N.encode)||encodeURIComponent;if(!i.test(A))throw new TypeError(`argument name is invalid: ${A}`);const P=M(k);if(!e.test(P))throw new TypeError(`argument val is invalid: ${k}`);let K=A+"="+P;if(!N)return K;if(N.maxAge!==void 0){if(!Number.isInteger(N.maxAge))throw new TypeError(`option maxAge is invalid: ${N.maxAge}`);K+="; Max-Age="+N.maxAge}if(N.domain){if(!n.test(N.domain))throw new TypeError(`option domain is invalid: ${N.domain}`);K+="; Domain="+N.domain}if(N.path){if(!s.test(N.path))throw new TypeError(`option path is invalid: ${N.path}`);K+="; Path="+N.path}if(N.expires){if(!w(N.expires)||!Number.isFinite(N.expires.valueOf()))throw new TypeError(`option expires is invalid: ${N.expires}`);K+="; Expires="+N.expires.toUTCString()}if(N.httpOnly&&(K+="; HttpOnly"),N.secure&&(K+="; Secure"),N.partitioned&&(K+="; Partitioned"),N.priority)switch(typeof N.priority=="string"?N.priority.toLowerCase():void 0){case"low":K+="; Priority=Low";break;case"medium":K+="; Priority=Medium";break;case"high":K+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${N.priority}`)}if(N.sameSite)switch(typeof N.sameSite=="string"?N.sameSite.toLowerCase():N.sameSite){case!0:case"strict":K+="; SameSite=Strict";break;case"lax":K+="; SameSite=Lax";break;case"none":K+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${N.sameSite}`)}return K}function E(A){if(A.indexOf("%")===-1)return A;try{return decodeURIComponent(A)}catch{return A}}function w(A){return o.call(A)==="[object Date]"}return Ol}Mw();/**
 * react-router v7.4.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var v0="popstate";function Vw(i={}){function e(o,u){let{pathname:f="/",search:m="",hash:p=""}=Ws(o.location.hash.substring(1));return!f.startsWith("/")&&!f.startsWith(".")&&(f="/"+f),Em("",{pathname:f,search:m,hash:p},u.state&&u.state.usr||null,u.state&&u.state.key||"default")}function n(o,u){let f=o.document.querySelector("base"),m="";if(f&&f.getAttribute("href")){let p=o.location.href,y=p.indexOf("#");m=y===-1?p:p.slice(0,y)}return m+"#"+(typeof u=="string"?u:Kl(u))}function s(o,u){Ln(o.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(u)})`)}return Lw(e,n,s,i)}function ut(i,e){if(i===!1||i===null||typeof i>"u")throw new Error(e)}function Ln(i,e){if(!i){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function Pw(){return Math.random().toString(36).substring(2,10)}function _0(i,e){return{usr:i.state,key:i.key,idx:e}}function Em(i,e,n=null,s){return{pathname:typeof i=="string"?i:i.pathname,search:"",hash:"",...typeof e=="string"?Ws(e):e,state:n,key:e&&e.key||s||Pw()}}function Kl({pathname:i="/",search:e="",hash:n=""}){return e&&e!=="?"&&(i+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(i+=n.charAt(0)==="#"?n:"#"+n),i}function Ws(i){let e={};if(i){let n=i.indexOf("#");n>=0&&(e.hash=i.substring(n),i=i.substring(0,n));let s=i.indexOf("?");s>=0&&(e.search=i.substring(s),i=i.substring(0,s)),i&&(e.pathname=i)}return e}function Lw(i,e,n,s={}){let{window:o=document.defaultView,v5Compat:u=!1}=s,f=o.history,m="POP",p=null,y=E();y==null&&(y=0,f.replaceState({...f.state,idx:y},""));function E(){return(f.state||{idx:null}).idx}function w(){m="POP";let P=E(),K=P==null?null:P-y;y=P,p&&p({action:m,location:M.location,delta:K})}function A(P,K){m="PUSH";let se=Em(M.location,P,K);n&&n(se,P),y=E()+1;let X=_0(se,y),he=M.createHref(se);try{f.pushState(X,"",he)}catch(le){if(le instanceof DOMException&&le.name==="DataCloneError")throw le;o.location.assign(he)}u&&p&&p({action:m,location:M.location,delta:1})}function k(P,K){m="REPLACE";let se=Em(M.location,P,K);n&&n(se,P),y=E();let X=_0(se,y),he=M.createHref(se);f.replaceState(X,"",he),u&&p&&p({action:m,location:M.location,delta:0})}function N(P){let K=o.location.origin!=="null"?o.location.origin:o.location.href,se=typeof P=="string"?P:Kl(P);return se=se.replace(/ $/,"%20"),ut(K,`No window.location.(origin|href) available to create URL for href: ${se}`),new URL(se,K)}let M={get action(){return m},get location(){return i(o,f)},listen(P){if(p)throw new Error("A history only accepts one active listener");return o.addEventListener(v0,w),p=P,()=>{o.removeEventListener(v0,w),p=null}},createHref(P){return e(o,P)},createURL:N,encodeLocation(P){let K=N(P);return{pathname:K.pathname,search:K.search,hash:K.hash}},push:A,replace:k,go(P){return f.go(P)}};return M}function eE(i,e,n="/"){return Uw(i,e,n,!1)}function Uw(i,e,n,s){let o=typeof e=="string"?Ws(e):e,u=Jr(o.pathname||"/",n);if(u==null)return null;let f=tE(i);jw(f);let m=null;for(let p=0;m==null&&p<f.length;++p){let y=Xw(u);m=Yw(f[p],y,s)}return m}function tE(i,e=[],n=[],s=""){let o=(u,f,m)=>{let p={relativePath:m===void 0?u.path||"":m,caseSensitive:u.caseSensitive===!0,childrenIndex:f,route:u};p.relativePath.startsWith("/")&&(ut(p.relativePath.startsWith(s),`Absolute route path "${p.relativePath}" nested under path "${s}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),p.relativePath=p.relativePath.slice(s.length));let y=Xr([s,p.relativePath]),E=n.concat(p);u.children&&u.children.length>0&&(ut(u.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${y}".`),tE(u.children,e,E,y)),!(u.path==null&&!u.index)&&e.push({path:y,score:Kw(y,u.index),routesMeta:E})};return i.forEach((u,f)=>{var m;if(u.path===""||!((m=u.path)!=null&&m.includes("?")))o(u,f);else for(let p of nE(u.path))o(u,f,p)}),e}function nE(i){let e=i.split("/");if(e.length===0)return[];let[n,...s]=e,o=n.endsWith("?"),u=n.replace(/\?$/,"");if(s.length===0)return o?[u,""]:[u];let f=nE(s.join("/")),m=[];return m.push(...f.map(p=>p===""?u:[u,p].join("/"))),o&&m.push(...f),m.map(p=>i.startsWith("/")&&p===""?"/":p)}function jw(i){i.sort((e,n)=>e.score!==n.score?n.score-e.score:Qw(e.routesMeta.map(s=>s.childrenIndex),n.routesMeta.map(s=>s.childrenIndex)))}var zw=/^:[\w-]+$/,Bw=3,Hw=2,qw=1,Fw=10,Gw=-2,E0=i=>i==="*";function Kw(i,e){let n=i.split("/"),s=n.length;return n.some(E0)&&(s+=Gw),e&&(s+=Hw),n.filter(o=>!E0(o)).reduce((o,u)=>o+(zw.test(u)?Bw:u===""?qw:Fw),s)}function Qw(i,e){return i.length===e.length&&i.slice(0,-1).every((s,o)=>s===e[o])?i[i.length-1]-e[e.length-1]:0}function Yw(i,e,n=!1){let{routesMeta:s}=i,o={},u="/",f=[];for(let m=0;m<s.length;++m){let p=s[m],y=m===s.length-1,E=u==="/"?e:e.slice(u.length)||"/",w=oh({path:p.relativePath,caseSensitive:p.caseSensitive,end:y},E),A=p.route;if(!w&&y&&n&&!s[s.length-1].route.index&&(w=oh({path:p.relativePath,caseSensitive:p.caseSensitive,end:!1},E)),!w)return null;Object.assign(o,w.params),f.push({params:o,pathname:Xr([u,w.pathname]),pathnameBase:eA(Xr([u,w.pathnameBase])),route:A}),w.pathnameBase!=="/"&&(u=Xr([u,w.pathnameBase]))}return f}function oh(i,e){typeof i=="string"&&(i={path:i,caseSensitive:!1,end:!0});let[n,s]=$w(i.path,i.caseSensitive,i.end),o=e.match(n);if(!o)return null;let u=o[0],f=u.replace(/(.)\/+$/,"$1"),m=o.slice(1);return{params:s.reduce((y,{paramName:E,isOptional:w},A)=>{if(E==="*"){let N=m[A]||"";f=u.slice(0,u.length-N.length).replace(/(.)\/+$/,"$1")}const k=m[A];return w&&!k?y[E]=void 0:y[E]=(k||"").replace(/%2F/g,"/"),y},{}),pathname:u,pathnameBase:f,pattern:i}}function $w(i,e=!1,n=!0){Ln(i==="*"||!i.endsWith("*")||i.endsWith("/*"),`Route path "${i}" will be treated as if it were "${i.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${i.replace(/\*$/,"/*")}".`);let s=[],o="^"+i.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(f,m,p)=>(s.push({paramName:m,isOptional:p!=null}),p?"/?([^\\/]+)?":"/([^\\/]+)"));return i.endsWith("*")?(s.push({paramName:"*"}),o+=i==="*"||i==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?o+="\\/*$":i!==""&&i!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,e?void 0:"i"),s]}function Xw(i){try{return i.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Ln(!1,`The URL path "${i}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),i}}function Jr(i,e){if(e==="/")return i;if(!i.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,s=i.charAt(n);return s&&s!=="/"?null:i.slice(n)||"/"}function Ww(i,e="/"){let{pathname:n,search:s="",hash:o=""}=typeof i=="string"?Ws(i):i;return{pathname:n?n.startsWith("/")?n:Zw(n,e):e,search:tA(s),hash:nA(o)}}function Zw(i,e){let n=e.replace(/\/+$/,"").split("/");return i.split("/").forEach(o=>{o===".."?n.length>1&&n.pop():o!=="."&&n.push(o)}),n.length>1?n.join("/"):"/"}function om(i,e,n,s){return`Cannot include a '${i}' character in a manually specified \`to.${e}\` field [${JSON.stringify(s)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function Jw(i){return i.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function Wm(i){let e=Jw(i);return e.map((n,s)=>s===e.length-1?n.pathname:n.pathnameBase)}function Zm(i,e,n,s=!1){let o;typeof i=="string"?o=Ws(i):(o={...i},ut(!o.pathname||!o.pathname.includes("?"),om("?","pathname","search",o)),ut(!o.pathname||!o.pathname.includes("#"),om("#","pathname","hash",o)),ut(!o.search||!o.search.includes("#"),om("#","search","hash",o)));let u=i===""||o.pathname==="",f=u?"/":o.pathname,m;if(f==null)m=n;else{let w=e.length-1;if(!s&&f.startsWith("..")){let A=f.split("/");for(;A[0]==="..";)A.shift(),w-=1;o.pathname=A.join("/")}m=w>=0?e[w]:"/"}let p=Ww(o,m),y=f&&f!=="/"&&f.endsWith("/"),E=(u||f===".")&&n.endsWith("/");return!p.pathname.endsWith("/")&&(y||E)&&(p.pathname+="/"),p}var Xr=i=>i.join("/").replace(/\/\/+/g,"/"),eA=i=>i.replace(/\/+$/,"").replace(/^\/*/,"/"),tA=i=>!i||i==="?"?"":i.startsWith("?")?i:"?"+i,nA=i=>!i||i==="#"?"":i.startsWith("#")?i:"#"+i;function rA(i){return i!=null&&typeof i.status=="number"&&typeof i.statusText=="string"&&typeof i.internal=="boolean"&&"data"in i}var rE=["POST","PUT","PATCH","DELETE"];new Set(rE);var iA=["GET",...rE];new Set(iA);var fo=j.createContext(null);fo.displayName="DataRouter";var Nh=j.createContext(null);Nh.displayName="DataRouterState";var iE=j.createContext({isTransitioning:!1});iE.displayName="ViewTransition";var sA=j.createContext(new Map);sA.displayName="Fetchers";var aA=j.createContext(null);aA.displayName="Await";var $n=j.createContext(null);$n.displayName="Navigation";var tu=j.createContext(null);tu.displayName="Location";var Tr=j.createContext({outlet:null,matches:[],isDataRoute:!1});Tr.displayName="Route";var Jm=j.createContext(null);Jm.displayName="RouteError";function oA(i,{relative:e}={}){ut(mo(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:s}=j.useContext($n),{hash:o,pathname:u,search:f}=nu(i,{relative:e}),m=u;return n!=="/"&&(m=u==="/"?n:Xr([n,u])),s.createHref({pathname:m,search:f,hash:o})}function mo(){return j.useContext(tu)!=null}function es(){return ut(mo(),"useLocation() may be used only in the context of a <Router> component."),j.useContext(tu).location}var sE="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function aE(i){j.useContext($n).static||j.useLayoutEffect(i)}function ts(){let{isDataRoute:i}=j.useContext(Tr);return i?EA():lA()}function lA(){ut(mo(),"useNavigate() may be used only in the context of a <Router> component.");let i=j.useContext(fo),{basename:e,navigator:n}=j.useContext($n),{matches:s}=j.useContext(Tr),{pathname:o}=es(),u=JSON.stringify(Wm(s)),f=j.useRef(!1);return aE(()=>{f.current=!0}),j.useCallback((p,y={})=>{if(Ln(f.current,sE),!f.current)return;if(typeof p=="number"){n.go(p);return}let E=Zm(p,JSON.parse(u),o,y.relative==="path");i==null&&e!=="/"&&(E.pathname=E.pathname==="/"?e:Xr([e,E.pathname])),(y.replace?n.replace:n.push)(E,y.state,y)},[e,n,u,o,i])}j.createContext(null);function nu(i,{relative:e}={}){let{matches:n}=j.useContext(Tr),{pathname:s}=es(),o=JSON.stringify(Wm(n));return j.useMemo(()=>Zm(i,JSON.parse(o),s,e==="path"),[i,o,s,e])}function uA(i,e){return oE(i,e)}function oE(i,e,n,s){var se;ut(mo(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:o,static:u}=j.useContext($n),{matches:f}=j.useContext(Tr),m=f[f.length-1],p=m?m.params:{},y=m?m.pathname:"/",E=m?m.pathnameBase:"/",w=m&&m.route;{let X=w&&w.path||"";lE(y,!w||X.endsWith("*")||X.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${y}" (under <Route path="${X}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${X}"> to <Route path="${X==="/"?"*":`${X}/*`}">.`)}let A=es(),k;if(e){let X=typeof e=="string"?Ws(e):e;ut(E==="/"||((se=X.pathname)==null?void 0:se.startsWith(E)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${E}" but pathname "${X.pathname}" was given in the \`location\` prop.`),k=X}else k=A;let N=k.pathname||"/",M=N;if(E!=="/"){let X=E.replace(/^\//,"").split("/");M="/"+N.replace(/^\//,"").split("/").slice(X.length).join("/")}let P=!u&&n&&n.matches&&n.matches.length>0?n.matches:eE(i,{pathname:M});Ln(w||P!=null,`No routes matched location "${k.pathname}${k.search}${k.hash}" `),Ln(P==null||P[P.length-1].route.element!==void 0||P[P.length-1].route.Component!==void 0||P[P.length-1].route.lazy!==void 0,`Matched leaf route at location "${k.pathname}${k.search}${k.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let K=mA(P&&P.map(X=>Object.assign({},X,{params:Object.assign({},p,X.params),pathname:Xr([E,o.encodeLocation?o.encodeLocation(X.pathname).pathname:X.pathname]),pathnameBase:X.pathnameBase==="/"?E:Xr([E,o.encodeLocation?o.encodeLocation(X.pathnameBase).pathname:X.pathnameBase])})),f,n,s);return e&&K?j.createElement(tu.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...k},navigationType:"POP"}},K):K}function cA(){let i=_A(),e=rA(i)?`${i.status} ${i.statusText}`:i instanceof Error?i.message:JSON.stringify(i),n=i instanceof Error?i.stack:null,s="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:s},u={padding:"2px 4px",backgroundColor:s},f=null;return console.error("Error handled by React Router default ErrorBoundary:",i),f=j.createElement(j.Fragment,null,j.createElement("p",null," Hey developer "),j.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",j.createElement("code",{style:u},"ErrorBoundary")," or"," ",j.createElement("code",{style:u},"errorElement")," prop on your route.")),j.createElement(j.Fragment,null,j.createElement("h2",null,"Unexpected Application Error!"),j.createElement("h3",{style:{fontStyle:"italic"}},e),n?j.createElement("pre",{style:o},n):null,f)}var hA=j.createElement(cA,null),fA=class extends j.Component{constructor(i){super(i),this.state={location:i.location,revalidation:i.revalidation,error:i.error}}static getDerivedStateFromError(i){return{error:i}}static getDerivedStateFromProps(i,e){return e.location!==i.location||e.revalidation!=="idle"&&i.revalidation==="idle"?{error:i.error,location:i.location,revalidation:i.revalidation}:{error:i.error!==void 0?i.error:e.error,location:e.location,revalidation:i.revalidation||e.revalidation}}componentDidCatch(i,e){console.error("React Router caught the following error during render",i,e)}render(){return this.state.error!==void 0?j.createElement(Tr.Provider,{value:this.props.routeContext},j.createElement(Jm.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function dA({routeContext:i,match:e,children:n}){let s=j.useContext(fo);return s&&s.static&&s.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=e.route.id),j.createElement(Tr.Provider,{value:i},n)}function mA(i,e=[],n=null,s=null){if(i==null){if(!n)return null;if(n.errors)i=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)i=n.matches;else return null}let o=i,u=n==null?void 0:n.errors;if(u!=null){let p=o.findIndex(y=>y.route.id&&(u==null?void 0:u[y.route.id])!==void 0);ut(p>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(u).join(",")}`),o=o.slice(0,Math.min(o.length,p+1))}let f=!1,m=-1;if(n)for(let p=0;p<o.length;p++){let y=o[p];if((y.route.HydrateFallback||y.route.hydrateFallbackElement)&&(m=p),y.route.id){let{loaderData:E,errors:w}=n,A=y.route.loader&&!E.hasOwnProperty(y.route.id)&&(!w||w[y.route.id]===void 0);if(y.route.lazy||A){f=!0,m>=0?o=o.slice(0,m+1):o=[o[0]];break}}}return o.reduceRight((p,y,E)=>{let w,A=!1,k=null,N=null;n&&(w=u&&y.route.id?u[y.route.id]:void 0,k=y.route.errorElement||hA,f&&(m<0&&E===0?(lE("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),A=!0,N=null):m===E&&(A=!0,N=y.route.hydrateFallbackElement||null)));let M=e.concat(o.slice(0,E+1)),P=()=>{let K;return w?K=k:A?K=N:y.route.Component?K=j.createElement(y.route.Component,null):y.route.element?K=y.route.element:K=p,j.createElement(dA,{match:y,routeContext:{outlet:p,matches:M,isDataRoute:n!=null},children:K})};return n&&(y.route.ErrorBoundary||y.route.errorElement||E===0)?j.createElement(fA,{location:n.location,revalidation:n.revalidation,component:k,error:w,children:P(),routeContext:{outlet:null,matches:M,isDataRoute:!0}}):P()},null)}function ep(i){return`${i} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function pA(i){let e=j.useContext(fo);return ut(e,ep(i)),e}function gA(i){let e=j.useContext(Nh);return ut(e,ep(i)),e}function yA(i){let e=j.useContext(Tr);return ut(e,ep(i)),e}function tp(i){let e=yA(i),n=e.matches[e.matches.length-1];return ut(n.route.id,`${i} can only be used on routes that contain a unique "id"`),n.route.id}function vA(){return tp("useRouteId")}function _A(){var s;let i=j.useContext(Jm),e=gA("useRouteError"),n=tp("useRouteError");return i!==void 0?i:(s=e.errors)==null?void 0:s[n]}function EA(){let{router:i}=pA("useNavigate"),e=tp("useNavigate"),n=j.useRef(!1);return aE(()=>{n.current=!0}),j.useCallback(async(o,u={})=>{Ln(n.current,sE),n.current&&(typeof o=="number"?i.navigate(o):await i.navigate(o,{fromRouteId:e,...u}))},[i,e])}var T0={};function lE(i,e,n){!e&&!T0[i]&&(T0[i]=!0,Ln(!1,n))}j.memo(TA);function TA({routes:i,future:e,state:n}){return oE(i,void 0,n,e)}function uE({to:i,replace:e,state:n,relative:s}){ut(mo(),"<Navigate> may be used only in the context of a <Router> component.");let{static:o}=j.useContext($n);Ln(!o,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:u}=j.useContext(Tr),{pathname:f}=es(),m=ts(),p=Zm(i,Wm(u),f,s==="path"),y=JSON.stringify(p);return j.useEffect(()=>{m(JSON.parse(y),{replace:e,state:n,relative:s})},[m,y,s,e,n]),null}function dr(i){ut(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function bA({basename:i="/",children:e=null,location:n,navigationType:s="POP",navigator:o,static:u=!1}){ut(!mo(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let f=i.replace(/^\/*/,"/"),m=j.useMemo(()=>({basename:f,navigator:o,static:u,future:{}}),[f,o,u]);typeof n=="string"&&(n=Ws(n));let{pathname:p="/",search:y="",hash:E="",state:w=null,key:A="default"}=n,k=j.useMemo(()=>{let N=Jr(p,f);return N==null?null:{location:{pathname:N,search:y,hash:E,state:w,key:A},navigationType:s}},[f,p,y,E,w,A,s]);return Ln(k!=null,`<Router basename="${f}"> is not able to match the URL "${p}${y}${E}" because it does not start with the basename, so the <Router> won't render anything.`),k==null?null:j.createElement($n.Provider,{value:m},j.createElement(tu.Provider,{children:e,value:k}))}function SA({children:i,location:e}){return uA(Tm(i),e)}function Tm(i,e=[]){let n=[];return j.Children.forEach(i,(s,o)=>{if(!j.isValidElement(s))return;let u=[...e,o];if(s.type===j.Fragment){n.push.apply(n,Tm(s.props.children,u));return}ut(s.type===dr,`[${typeof s.type=="string"?s.type:s.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),ut(!s.props.index||!s.props.children,"An index route cannot have child routes.");let f={id:s.props.id||u.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,loader:s.props.loader,action:s.props.action,hydrateFallbackElement:s.props.hydrateFallbackElement,HydrateFallback:s.props.HydrateFallback,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.hasErrorBoundary===!0||s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(f.children=Tm(s.props.children,u)),n.push(f)}),n}var $c="get",Xc="application/x-www-form-urlencoded";function Dh(i){return i!=null&&typeof i.tagName=="string"}function wA(i){return Dh(i)&&i.tagName.toLowerCase()==="button"}function AA(i){return Dh(i)&&i.tagName.toLowerCase()==="form"}function xA(i){return Dh(i)&&i.tagName.toLowerCase()==="input"}function RA(i){return!!(i.metaKey||i.altKey||i.ctrlKey||i.shiftKey)}function IA(i,e){return i.button===0&&(!e||e==="_self")&&!RA(i)}var Bc=null;function CA(){if(Bc===null)try{new FormData(document.createElement("form"),0),Bc=!1}catch{Bc=!0}return Bc}var NA=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function lm(i){return i!=null&&!NA.has(i)?(Ln(!1,`"${i}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Xc}"`),null):i}function DA(i,e){let n,s,o,u,f;if(AA(i)){let m=i.getAttribute("action");s=m?Jr(m,e):null,n=i.getAttribute("method")||$c,o=lm(i.getAttribute("enctype"))||Xc,u=new FormData(i)}else if(wA(i)||xA(i)&&(i.type==="submit"||i.type==="image")){let m=i.form;if(m==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let p=i.getAttribute("formaction")||m.getAttribute("action");if(s=p?Jr(p,e):null,n=i.getAttribute("formmethod")||m.getAttribute("method")||$c,o=lm(i.getAttribute("formenctype"))||lm(m.getAttribute("enctype"))||Xc,u=new FormData(m,i),!CA()){let{name:y,type:E,value:w}=i;if(E==="image"){let A=y?`${y}.`:"";u.append(`${A}x`,"0"),u.append(`${A}y`,"0")}else y&&u.append(y,w)}}else{if(Dh(i))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=$c,s=null,o=Xc,f=i}return u&&o==="text/plain"&&(f=u,u=void 0),{action:s,method:n.toLowerCase(),encType:o,formData:u,body:f}}function np(i,e){if(i===!1||i===null||typeof i>"u")throw new Error(e)}async function OA(i,e){if(i.id in e)return e[i.id];try{let n=await import(i.module);return e[i.id]=n,n}catch(n){return console.error(`Error loading route module \`${i.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function kA(i){return i==null?!1:i.href==null?i.rel==="preload"&&typeof i.imageSrcSet=="string"&&typeof i.imageSizes=="string":typeof i.rel=="string"&&typeof i.href=="string"}async function MA(i,e,n){let s=await Promise.all(i.map(async o=>{let u=e.routes[o.route.id];if(u){let f=await OA(u,n);return f.links?f.links():[]}return[]}));return UA(s.flat(1).filter(kA).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function b0(i,e,n,s,o,u){let f=(p,y)=>n[y]?p.route.id!==n[y].route.id:!0,m=(p,y)=>{var E;return n[y].pathname!==p.pathname||((E=n[y].route.path)==null?void 0:E.endsWith("*"))&&n[y].params["*"]!==p.params["*"]};return u==="assets"?e.filter((p,y)=>f(p,y)||m(p,y)):u==="data"?e.filter((p,y)=>{var w;let E=s.routes[p.route.id];if(!E||!E.hasLoader)return!1;if(f(p,y)||m(p,y))return!0;if(p.route.shouldRevalidate){let A=p.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:((w=n[0])==null?void 0:w.params)||{},nextUrl:new URL(i,window.origin),nextParams:p.params,defaultShouldRevalidate:!0});if(typeof A=="boolean")return A}return!0}):[]}function VA(i,e,{includeHydrateFallback:n}={}){return PA(i.map(s=>{let o=e.routes[s.route.id];if(!o)return[];let u=[o.module];return o.clientActionModule&&(u=u.concat(o.clientActionModule)),o.clientLoaderModule&&(u=u.concat(o.clientLoaderModule)),n&&o.hydrateFallbackModule&&(u=u.concat(o.hydrateFallbackModule)),o.imports&&(u=u.concat(o.imports)),u}).flat(1))}function PA(i){return[...new Set(i)]}function LA(i){let e={},n=Object.keys(i).sort();for(let s of n)e[s]=i[s];return e}function UA(i,e){let n=new Set;return new Set(e),i.reduce((s,o)=>{let u=JSON.stringify(LA(o));return n.has(u)||(n.add(u),s.push({key:u,link:o})),s},[])}function jA(i,e){let n=typeof i=="string"?new URL(i,typeof window>"u"?"server://singlefetch/":window.location.origin):i;return n.pathname==="/"?n.pathname="_root.data":e&&Jr(n.pathname,e)==="/"?n.pathname=`${e.replace(/\/$/,"")}/_root.data`:n.pathname=`${n.pathname.replace(/\/$/,"")}.data`,n}function cE(){let i=j.useContext(fo);return np(i,"You must render this element inside a <DataRouterContext.Provider> element"),i}function zA(){let i=j.useContext(Nh);return np(i,"You must render this element inside a <DataRouterStateContext.Provider> element"),i}var rp=j.createContext(void 0);rp.displayName="FrameworkContext";function hE(){let i=j.useContext(rp);return np(i,"You must render this element inside a <HydratedRouter> element"),i}function BA(i,e){let n=j.useContext(rp),[s,o]=j.useState(!1),[u,f]=j.useState(!1),{onFocus:m,onBlur:p,onMouseEnter:y,onMouseLeave:E,onTouchStart:w}=e,A=j.useRef(null);j.useEffect(()=>{if(i==="render"&&f(!0),i==="viewport"){let M=K=>{K.forEach(se=>{f(se.isIntersecting)})},P=new IntersectionObserver(M,{threshold:.5});return A.current&&P.observe(A.current),()=>{P.disconnect()}}},[i]),j.useEffect(()=>{if(s){let M=setTimeout(()=>{f(!0)},100);return()=>{clearTimeout(M)}}},[s]);let k=()=>{o(!0)},N=()=>{o(!1),f(!1)};return n?i!=="intent"?[u,A,{}]:[u,A,{onFocus:kl(m,k),onBlur:kl(p,N),onMouseEnter:kl(y,k),onMouseLeave:kl(E,N),onTouchStart:kl(w,k)}]:[!1,A,{}]}function kl(i,e){return n=>{i&&i(n),n.defaultPrevented||e(n)}}function HA({page:i,...e}){let{router:n}=cE(),s=j.useMemo(()=>eE(n.routes,i,n.basename),[n.routes,i,n.basename]);return s?j.createElement(FA,{page:i,matches:s,...e}):null}function qA(i){let{manifest:e,routeModules:n}=hE(),[s,o]=j.useState([]);return j.useEffect(()=>{let u=!1;return MA(i,e,n).then(f=>{u||o(f)}),()=>{u=!0}},[i,e,n]),s}function FA({page:i,matches:e,...n}){let s=es(),{manifest:o,routeModules:u}=hE(),{basename:f}=cE(),{loaderData:m,matches:p}=zA(),y=j.useMemo(()=>b0(i,e,p,o,s,"data"),[i,e,p,o,s]),E=j.useMemo(()=>b0(i,e,p,o,s,"assets"),[i,e,p,o,s]),w=j.useMemo(()=>{if(i===s.pathname+s.search+s.hash)return[];let N=new Set,M=!1;if(e.forEach(K=>{var X;let se=o.routes[K.route.id];!se||!se.hasLoader||(!y.some(he=>he.route.id===K.route.id)&&K.route.id in m&&((X=u[K.route.id])!=null&&X.shouldRevalidate)||se.hasClientLoader?M=!0:N.add(K.route.id))}),N.size===0)return[];let P=jA(i,f);return M&&N.size>0&&P.searchParams.set("_routes",e.filter(K=>N.has(K.route.id)).map(K=>K.route.id).join(",")),[P.pathname+P.search]},[f,m,s,o,y,e,i,u]),A=j.useMemo(()=>VA(E,o),[E,o]),k=qA(E);return j.createElement(j.Fragment,null,w.map(N=>j.createElement("link",{key:N,rel:"prefetch",as:"fetch",href:N,...n})),A.map(N=>j.createElement("link",{key:N,rel:"modulepreload",href:N,...n})),k.map(({key:N,link:M})=>j.createElement("link",{key:N,...M})))}function GA(...i){return e=>{i.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var fE=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{fE&&(window.__reactRouterVersion="7.4.1")}catch{}function KA({basename:i,children:e,window:n}){let s=j.useRef();s.current==null&&(s.current=Vw({window:n,v5Compat:!0}));let o=s.current,[u,f]=j.useState({action:o.action,location:o.location}),m=j.useCallback(p=>{j.startTransition(()=>f(p))},[f]);return j.useLayoutEffect(()=>o.listen(m),[o,m]),j.createElement(bA,{basename:i,children:e,location:u.location,navigationType:u.action,navigator:o})}var dE=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,un=j.forwardRef(function({onClick:e,discover:n="render",prefetch:s="none",relative:o,reloadDocument:u,replace:f,state:m,target:p,to:y,preventScrollReset:E,viewTransition:w,...A},k){let{basename:N}=j.useContext($n),M=typeof y=="string"&&dE.test(y),P,K=!1;if(typeof y=="string"&&M&&(P=y,fE))try{let I=new URL(window.location.href),O=y.startsWith("//")?new URL(I.protocol+y):new URL(y),U=Jr(O.pathname,N);O.origin===I.origin&&U!=null?y=U+O.search+O.hash:K=!0}catch{Ln(!1,`<Link to="${y}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let se=oA(y,{relative:o}),[X,he,le]=BA(s,A),me=XA(y,{replace:f,state:m,target:p,preventScrollReset:E,relative:o,viewTransition:w});function V(I){e&&e(I),I.defaultPrevented||me(I)}let x=j.createElement("a",{...A,...le,href:P||se,onClick:K||u?e:V,ref:GA(k,he),target:p,"data-discover":!M&&n==="render"?"true":void 0});return X&&!M?j.createElement(j.Fragment,null,x,j.createElement(HA,{page:se})):x});un.displayName="Link";var QA=j.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:s="",end:o=!1,style:u,to:f,viewTransition:m,children:p,...y},E){let w=nu(f,{relative:y.relative}),A=es(),k=j.useContext(Nh),{navigator:N,basename:M}=j.useContext($n),P=k!=null&&t1(w)&&m===!0,K=N.encodeLocation?N.encodeLocation(w).pathname:w.pathname,se=A.pathname,X=k&&k.navigation&&k.navigation.location?k.navigation.location.pathname:null;n||(se=se.toLowerCase(),X=X?X.toLowerCase():null,K=K.toLowerCase()),X&&M&&(X=Jr(X,M)||X);const he=K!=="/"&&K.endsWith("/")?K.length-1:K.length;let le=se===K||!o&&se.startsWith(K)&&se.charAt(he)==="/",me=X!=null&&(X===K||!o&&X.startsWith(K)&&X.charAt(K.length)==="/"),V={isActive:le,isPending:me,isTransitioning:P},x=le?e:void 0,I;typeof s=="function"?I=s(V):I=[s,le?"active":null,me?"pending":null,P?"transitioning":null].filter(Boolean).join(" ");let O=typeof u=="function"?u(V):u;return j.createElement(un,{...y,"aria-current":x,className:I,ref:E,style:O,to:f,viewTransition:m},typeof p=="function"?p(V):p)});QA.displayName="NavLink";var YA=j.forwardRef(({discover:i="render",fetcherKey:e,navigate:n,reloadDocument:s,replace:o,state:u,method:f=$c,action:m,onSubmit:p,relative:y,preventScrollReset:E,viewTransition:w,...A},k)=>{let N=JA(),M=e1(m,{relative:y}),P=f.toLowerCase()==="get"?"get":"post",K=typeof m=="string"&&dE.test(m),se=X=>{if(p&&p(X),X.defaultPrevented)return;X.preventDefault();let he=X.nativeEvent.submitter,le=(he==null?void 0:he.getAttribute("formmethod"))||f;N(he||X.currentTarget,{fetcherKey:e,method:le,navigate:n,replace:o,state:u,relative:y,preventScrollReset:E,viewTransition:w})};return j.createElement("form",{ref:k,method:P,action:M,onSubmit:s?p:se,...A,"data-discover":!K&&i==="render"?"true":void 0})});YA.displayName="Form";function $A(i){return`${i} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function mE(i){let e=j.useContext(fo);return ut(e,$A(i)),e}function XA(i,{target:e,replace:n,state:s,preventScrollReset:o,relative:u,viewTransition:f}={}){let m=ts(),p=es(),y=nu(i,{relative:u});return j.useCallback(E=>{if(IA(E,e)){E.preventDefault();let w=n!==void 0?n:Kl(p)===Kl(y);m(i,{replace:w,state:s,preventScrollReset:o,relative:u,viewTransition:f})}},[p,m,y,n,s,e,i,o,u,f])}var WA=0,ZA=()=>`__${String(++WA)}__`;function JA(){let{router:i}=mE("useSubmit"),{basename:e}=j.useContext($n),n=vA();return j.useCallback(async(s,o={})=>{let{action:u,method:f,encType:m,formData:p,body:y}=DA(s,e);if(o.navigate===!1){let E=o.fetcherKey||ZA();await i.fetch(E,n,o.action||u,{preventScrollReset:o.preventScrollReset,formData:p,body:y,formMethod:o.method||f,formEncType:o.encType||m,flushSync:o.flushSync})}else await i.navigate(o.action||u,{preventScrollReset:o.preventScrollReset,formData:p,body:y,formMethod:o.method||f,formEncType:o.encType||m,replace:o.replace,state:o.state,fromRouteId:n,flushSync:o.flushSync,viewTransition:o.viewTransition})},[i,e,n])}function e1(i,{relative:e}={}){let{basename:n}=j.useContext($n),s=j.useContext(Tr);ut(s,"useFormAction must be used inside a RouteContext");let[o]=s.matches.slice(-1),u={...nu(i||".",{relative:e})},f=es();if(i==null){u.search=f.search;let m=new URLSearchParams(u.search),p=m.getAll("index");if(p.some(E=>E==="")){m.delete("index"),p.filter(w=>w).forEach(w=>m.append("index",w));let E=m.toString();u.search=E?`?${E}`:""}}return(!i||i===".")&&o.route.index&&(u.search=u.search?u.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(u.pathname=u.pathname==="/"?n:Xr([n,u.pathname])),Kl(u)}function t1(i,e={}){let n=j.useContext(iE);ut(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:s}=mE("useViewTransitionState"),o=nu(i,{relative:e.relative});if(!n.isTransitioning)return!1;let u=Jr(n.currentLocation.pathname,s)||n.currentLocation.pathname,f=Jr(n.nextLocation.pathname,s)||n.nextLocation.pathname;return oh(o.pathname,f)!=null||oh(o.pathname,u)!=null}new TextEncoder;const n1=()=>{};var S0={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pE=function(i){const e=[];let n=0;for(let s=0;s<i.length;s++){let o=i.charCodeAt(s);o<128?e[n++]=o:o<2048?(e[n++]=o>>6|192,e[n++]=o&63|128):(o&64512)===55296&&s+1<i.length&&(i.charCodeAt(s+1)&64512)===56320?(o=65536+((o&1023)<<10)+(i.charCodeAt(++s)&1023),e[n++]=o>>18|240,e[n++]=o>>12&63|128,e[n++]=o>>6&63|128,e[n++]=o&63|128):(e[n++]=o>>12|224,e[n++]=o>>6&63|128,e[n++]=o&63|128)}return e},r1=function(i){const e=[];let n=0,s=0;for(;n<i.length;){const o=i[n++];if(o<128)e[s++]=String.fromCharCode(o);else if(o>191&&o<224){const u=i[n++];e[s++]=String.fromCharCode((o&31)<<6|u&63)}else if(o>239&&o<365){const u=i[n++],f=i[n++],m=i[n++],p=((o&7)<<18|(u&63)<<12|(f&63)<<6|m&63)-65536;e[s++]=String.fromCharCode(55296+(p>>10)),e[s++]=String.fromCharCode(56320+(p&1023))}else{const u=i[n++],f=i[n++];e[s++]=String.fromCharCode((o&15)<<12|(u&63)<<6|f&63)}}return e.join("")},gE={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(i,e){if(!Array.isArray(i))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let o=0;o<i.length;o+=3){const u=i[o],f=o+1<i.length,m=f?i[o+1]:0,p=o+2<i.length,y=p?i[o+2]:0,E=u>>2,w=(u&3)<<4|m>>4;let A=(m&15)<<2|y>>6,k=y&63;p||(k=64,f||(A=64)),s.push(n[E],n[w],n[A],n[k])}return s.join("")},encodeString(i,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(i):this.encodeByteArray(pE(i),e)},decodeString(i,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(i):r1(this.decodeStringToByteArray(i,e))},decodeStringToByteArray(i,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let o=0;o<i.length;){const u=n[i.charAt(o++)],m=o<i.length?n[i.charAt(o)]:0;++o;const y=o<i.length?n[i.charAt(o)]:64;++o;const w=o<i.length?n[i.charAt(o)]:64;if(++o,u==null||m==null||y==null||w==null)throw new i1;const A=u<<2|m>>4;if(s.push(A),y!==64){const k=m<<4&240|y>>2;if(s.push(k),w!==64){const N=y<<6&192|w;s.push(N)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let i=0;i<this.ENCODED_VALS.length;i++)this.byteToCharMap_[i]=this.ENCODED_VALS.charAt(i),this.charToByteMap_[this.byteToCharMap_[i]]=i,this.byteToCharMapWebSafe_[i]=this.ENCODED_VALS_WEBSAFE.charAt(i),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[i]]=i,i>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(i)]=i,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(i)]=i)}}};class i1 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const s1=function(i){const e=pE(i);return gE.encodeByteArray(e,!0)},lh=function(i){return s1(i).replace(/\./g,"")},yE=function(i){try{return gE.decodeString(i,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function a1(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const o1=()=>a1().__FIREBASE_DEFAULTS__,l1=()=>{if(typeof process>"u"||typeof S0>"u")return;const i=S0.__FIREBASE_DEFAULTS__;if(i)return JSON.parse(i)},u1=()=>{if(typeof document>"u")return;let i;try{i=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=i&&yE(i[1]);return e&&JSON.parse(e)},Oh=()=>{try{return n1()||o1()||l1()||u1()}catch(i){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${i}`);return}},vE=i=>{var e,n;return(n=(e=Oh())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[i]},c1=i=>{const e=vE(i);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const s=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),s]:[e.substring(0,n),s]},_E=()=>{var i;return(i=Oh())===null||i===void 0?void 0:i.config},EE=i=>{var e;return(e=Oh())===null||e===void 0?void 0:e[`_${i}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h1{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,s)=>{n?this.reject(n):this.resolve(s),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,s))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function f1(i,e){if(i.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},s=e||"demo-project",o=i.iat||0,u=i.sub||i.user_id;if(!u)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const f=Object.assign({iss:`https://securetoken.google.com/${s}`,aud:s,iat:o,exp:o+3600,auth_time:o,sub:u,user_id:u,firebase:{sign_in_provider:"custom",identities:{}}},i);return[lh(JSON.stringify(n)),lh(JSON.stringify(f)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function d1(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Jt())}function m1(){var i;const e=(i=Oh())===null||i===void 0?void 0:i.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function p1(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function g1(){const i=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof i=="object"&&i.id!==void 0}function y1(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function v1(){const i=Jt();return i.indexOf("MSIE ")>=0||i.indexOf("Trident/")>=0}function _1(){return!m1()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function E1(){try{return typeof indexedDB=="object"}catch{return!1}}function T1(){return new Promise((i,e)=>{try{let n=!0;const s="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(s);o.onsuccess=()=>{o.result.close(),n||self.indexedDB.deleteDatabase(s),i(!0)},o.onupgradeneeded=()=>{n=!1},o.onerror=()=>{var u;e(((u=o.error)===null||u===void 0?void 0:u.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const b1="FirebaseError";class ii extends Error{constructor(e,n,s){super(n),this.code=e,this.customData=s,this.name=b1,Object.setPrototypeOf(this,ii.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,ru.prototype.create)}}class ru{constructor(e,n,s){this.service=e,this.serviceName=n,this.errors=s}create(e,...n){const s=n[0]||{},o=`${this.service}/${e}`,u=this.errors[e],f=u?S1(u,s):"Error",m=`${this.serviceName}: ${f} (${o}).`;return new ii(o,m,s)}}function S1(i,e){return i.replace(w1,(n,s)=>{const o=e[s];return o!=null?String(o):`<${s}?>`})}const w1=/\{\$([^}]+)}/g;function A1(i){for(const e in i)if(Object.prototype.hasOwnProperty.call(i,e))return!1;return!0}function Gs(i,e){if(i===e)return!0;const n=Object.keys(i),s=Object.keys(e);for(const o of n){if(!s.includes(o))return!1;const u=i[o],f=e[o];if(w0(u)&&w0(f)){if(!Gs(u,f))return!1}else if(u!==f)return!1}for(const o of s)if(!n.includes(o))return!1;return!0}function w0(i){return i!==null&&typeof i=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iu(i){const e=[];for(const[n,s]of Object.entries(i))Array.isArray(s)?s.forEach(o=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(o))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(s));return e.length?"&"+e.join("&"):""}function Vl(i){const e={};return i.replace(/^\?/,"").split("&").forEach(s=>{if(s){const[o,u]=s.split("=");e[decodeURIComponent(o)]=decodeURIComponent(u)}}),e}function Pl(i){const e=i.indexOf("?");if(!e)return"";const n=i.indexOf("#",e);return i.substring(e,n>0?n:void 0)}function x1(i,e){const n=new R1(i,e);return n.subscribe.bind(n)}class R1{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(s=>{this.error(s)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,s){let o;if(e===void 0&&n===void 0&&s===void 0)throw new Error("Missing Observer.");I1(e,["next","error","complete"])?o=e:o={next:e,error:n,complete:s},o.next===void 0&&(o.next=um),o.error===void 0&&(o.error=um),o.complete===void 0&&(o.complete=um);const u=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),u}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(s){typeof console<"u"&&console.error&&console.error(s)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function I1(i,e){if(typeof i!="object"||i===null)return!1;for(const n of e)if(n in i&&typeof i[n]=="function")return!0;return!1}function um(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ot(i){return i&&i._delegate?i._delegate:i}class Ks{constructor(e,n,s){this.name=e,this.instanceFactory=n,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hs="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C1{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const s=new h1;if(this.instancesDeferred.set(n,s),this.isInitialized(n)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:n});o&&s.resolve(o)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const s=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),o=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(s)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:s})}catch(u){if(o)return null;throw u}else{if(o)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(D1(e))try{this.getOrInitializeService({instanceIdentifier:Hs})}catch{}for(const[n,s]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(n);try{const u=this.getOrInitializeService({instanceIdentifier:o});s.resolve(u)}catch{}}}}clearInstance(e=Hs){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Hs){return this.instances.has(e)}getOptions(e=Hs){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:s,options:n});for(const[u,f]of this.instancesDeferred.entries()){const m=this.normalizeInstanceIdentifier(u);s===m&&f.resolve(o)}return o}onInit(e,n){var s;const o=this.normalizeInstanceIdentifier(n),u=(s=this.onInitCallbacks.get(o))!==null&&s!==void 0?s:new Set;u.add(e),this.onInitCallbacks.set(o,u);const f=this.instances.get(o);return f&&e(f,o),()=>{u.delete(e)}}invokeOnInitCallbacks(e,n){const s=this.onInitCallbacks.get(n);if(s)for(const o of s)try{o(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let s=this.instances.get(e);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:N1(e),options:n}),this.instances.set(e,s),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(s,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,s)}catch{}return s||null}normalizeInstanceIdentifier(e=Hs){return this.component?this.component.multipleInstances?e:Hs:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function N1(i){return i===Hs?void 0:i}function D1(i){return i.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O1{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new C1(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Le;(function(i){i[i.DEBUG=0]="DEBUG",i[i.VERBOSE=1]="VERBOSE",i[i.INFO=2]="INFO",i[i.WARN=3]="WARN",i[i.ERROR=4]="ERROR",i[i.SILENT=5]="SILENT"})(Le||(Le={}));const k1={debug:Le.DEBUG,verbose:Le.VERBOSE,info:Le.INFO,warn:Le.WARN,error:Le.ERROR,silent:Le.SILENT},M1=Le.INFO,V1={[Le.DEBUG]:"log",[Le.VERBOSE]:"log",[Le.INFO]:"info",[Le.WARN]:"warn",[Le.ERROR]:"error"},P1=(i,e,...n)=>{if(e<i.logLevel)return;const s=new Date().toISOString(),o=V1[e];if(o)console[o](`[${s}]  ${i.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class ip{constructor(e){this.name=e,this._logLevel=M1,this._logHandler=P1,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Le))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?k1[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Le.DEBUG,...e),this._logHandler(this,Le.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Le.VERBOSE,...e),this._logHandler(this,Le.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Le.INFO,...e),this._logHandler(this,Le.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Le.WARN,...e),this._logHandler(this,Le.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Le.ERROR,...e),this._logHandler(this,Le.ERROR,...e)}}const L1=(i,e)=>e.some(n=>i instanceof n);let A0,x0;function U1(){return A0||(A0=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function j1(){return x0||(x0=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const TE=new WeakMap,bm=new WeakMap,bE=new WeakMap,cm=new WeakMap,sp=new WeakMap;function z1(i){const e=new Promise((n,s)=>{const o=()=>{i.removeEventListener("success",u),i.removeEventListener("error",f)},u=()=>{n(qi(i.result)),o()},f=()=>{s(i.error),o()};i.addEventListener("success",u),i.addEventListener("error",f)});return e.then(n=>{n instanceof IDBCursor&&TE.set(n,i)}).catch(()=>{}),sp.set(e,i),e}function B1(i){if(bm.has(i))return;const e=new Promise((n,s)=>{const o=()=>{i.removeEventListener("complete",u),i.removeEventListener("error",f),i.removeEventListener("abort",f)},u=()=>{n(),o()},f=()=>{s(i.error||new DOMException("AbortError","AbortError")),o()};i.addEventListener("complete",u),i.addEventListener("error",f),i.addEventListener("abort",f)});bm.set(i,e)}let Sm={get(i,e,n){if(i instanceof IDBTransaction){if(e==="done")return bm.get(i);if(e==="objectStoreNames")return i.objectStoreNames||bE.get(i);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return qi(i[e])},set(i,e,n){return i[e]=n,!0},has(i,e){return i instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in i}};function H1(i){Sm=i(Sm)}function q1(i){return i===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const s=i.call(hm(this),e,...n);return bE.set(s,e.sort?e.sort():[e]),qi(s)}:j1().includes(i)?function(...e){return i.apply(hm(this),e),qi(TE.get(this))}:function(...e){return qi(i.apply(hm(this),e))}}function F1(i){return typeof i=="function"?q1(i):(i instanceof IDBTransaction&&B1(i),L1(i,U1())?new Proxy(i,Sm):i)}function qi(i){if(i instanceof IDBRequest)return z1(i);if(cm.has(i))return cm.get(i);const e=F1(i);return e!==i&&(cm.set(i,e),sp.set(e,i)),e}const hm=i=>sp.get(i);function G1(i,e,{blocked:n,upgrade:s,blocking:o,terminated:u}={}){const f=indexedDB.open(i,e),m=qi(f);return s&&f.addEventListener("upgradeneeded",p=>{s(qi(f.result),p.oldVersion,p.newVersion,qi(f.transaction),p)}),n&&f.addEventListener("blocked",p=>n(p.oldVersion,p.newVersion,p)),m.then(p=>{u&&p.addEventListener("close",()=>u()),o&&p.addEventListener("versionchange",y=>o(y.oldVersion,y.newVersion,y))}).catch(()=>{}),m}const K1=["get","getKey","getAll","getAllKeys","count"],Q1=["put","add","delete","clear"],fm=new Map;function R0(i,e){if(!(i instanceof IDBDatabase&&!(e in i)&&typeof e=="string"))return;if(fm.get(e))return fm.get(e);const n=e.replace(/FromIndex$/,""),s=e!==n,o=Q1.includes(n);if(!(n in(s?IDBIndex:IDBObjectStore).prototype)||!(o||K1.includes(n)))return;const u=async function(f,...m){const p=this.transaction(f,o?"readwrite":"readonly");let y=p.store;return s&&(y=y.index(m.shift())),(await Promise.all([y[n](...m),o&&p.done]))[0]};return fm.set(e,u),u}H1(i=>({...i,get:(e,n,s)=>R0(e,n)||i.get(e,n,s),has:(e,n)=>!!R0(e,n)||i.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y1{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if($1(n)){const s=n.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(n=>n).join(" ")}}function $1(i){const e=i.getComponent();return(e==null?void 0:e.type)==="VERSION"}const wm="@firebase/app",I0="0.11.4";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ei=new ip("@firebase/app"),X1="@firebase/app-compat",W1="@firebase/analytics-compat",Z1="@firebase/analytics",J1="@firebase/app-check-compat",ex="@firebase/app-check",tx="@firebase/auth",nx="@firebase/auth-compat",rx="@firebase/database",ix="@firebase/data-connect",sx="@firebase/database-compat",ax="@firebase/functions",ox="@firebase/functions-compat",lx="@firebase/installations",ux="@firebase/installations-compat",cx="@firebase/messaging",hx="@firebase/messaging-compat",fx="@firebase/performance",dx="@firebase/performance-compat",mx="@firebase/remote-config",px="@firebase/remote-config-compat",gx="@firebase/storage",yx="@firebase/storage-compat",vx="@firebase/firestore",_x="@firebase/vertexai",Ex="@firebase/firestore-compat",Tx="firebase",bx="11.6.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Am="[DEFAULT]",Sx={[wm]:"fire-core",[X1]:"fire-core-compat",[Z1]:"fire-analytics",[W1]:"fire-analytics-compat",[ex]:"fire-app-check",[J1]:"fire-app-check-compat",[tx]:"fire-auth",[nx]:"fire-auth-compat",[rx]:"fire-rtdb",[ix]:"fire-data-connect",[sx]:"fire-rtdb-compat",[ax]:"fire-fn",[ox]:"fire-fn-compat",[lx]:"fire-iid",[ux]:"fire-iid-compat",[cx]:"fire-fcm",[hx]:"fire-fcm-compat",[fx]:"fire-perf",[dx]:"fire-perf-compat",[mx]:"fire-rc",[px]:"fire-rc-compat",[gx]:"fire-gcs",[yx]:"fire-gcs-compat",[vx]:"fire-fst",[Ex]:"fire-fst-compat",[_x]:"fire-vertex","fire-js":"fire-js",[Tx]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uh=new Map,wx=new Map,xm=new Map;function C0(i,e){try{i.container.addComponent(e)}catch(n){ei.debug(`Component ${e.name} failed to register with FirebaseApp ${i.name}`,n)}}function ro(i){const e=i.name;if(xm.has(e))return ei.debug(`There were multiple attempts to register component ${e}.`),!1;xm.set(e,i);for(const n of uh.values())C0(n,i);for(const n of wx.values())C0(n,i);return!0}function ap(i,e){const n=i.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),i.container.getProvider(e)}function Vn(i){return i==null?!1:i.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ax={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Fi=new ru("app","Firebase",Ax);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xx{constructor(e,n,s){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new Ks("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Fi.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const po=bx;function SE(i,e={}){let n=i;typeof e!="object"&&(e={name:e});const s=Object.assign({name:Am,automaticDataCollectionEnabled:!1},e),o=s.name;if(typeof o!="string"||!o)throw Fi.create("bad-app-name",{appName:String(o)});if(n||(n=_E()),!n)throw Fi.create("no-options");const u=uh.get(o);if(u){if(Gs(n,u.options)&&Gs(s,u.config))return u;throw Fi.create("duplicate-app",{appName:o})}const f=new O1(o);for(const p of xm.values())f.addComponent(p);const m=new xx(n,s,f);return uh.set(o,m),m}function wE(i=Am){const e=uh.get(i);if(!e&&i===Am&&_E())return SE();if(!e)throw Fi.create("no-app",{appName:i});return e}function Gi(i,e,n){var s;let o=(s=Sx[i])!==null&&s!==void 0?s:i;n&&(o+=`-${n}`);const u=o.match(/\s|\//),f=e.match(/\s|\//);if(u||f){const m=[`Unable to register library "${o}" with version "${e}":`];u&&m.push(`library name "${o}" contains illegal characters (whitespace or "/")`),u&&f&&m.push("and"),f&&m.push(`version name "${e}" contains illegal characters (whitespace or "/")`),ei.warn(m.join(" "));return}ro(new Ks(`${o}-version`,()=>({library:o,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rx="firebase-heartbeat-database",Ix=1,Ql="firebase-heartbeat-store";let dm=null;function AE(){return dm||(dm=G1(Rx,Ix,{upgrade:(i,e)=>{switch(e){case 0:try{i.createObjectStore(Ql)}catch(n){console.warn(n)}}}}).catch(i=>{throw Fi.create("idb-open",{originalErrorMessage:i.message})})),dm}async function Cx(i){try{const n=(await AE()).transaction(Ql),s=await n.objectStore(Ql).get(xE(i));return await n.done,s}catch(e){if(e instanceof ii)ei.warn(e.message);else{const n=Fi.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});ei.warn(n.message)}}}async function N0(i,e){try{const s=(await AE()).transaction(Ql,"readwrite");await s.objectStore(Ql).put(e,xE(i)),await s.done}catch(n){if(n instanceof ii)ei.warn(n.message);else{const s=Fi.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});ei.warn(s.message)}}}function xE(i){return`${i.name}!${i.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nx=1024,Dx=30;class Ox{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new Mx(n),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){var e,n;try{const o=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),u=D0();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===u||this._heartbeatsCache.heartbeats.some(f=>f.date===u))return;if(this._heartbeatsCache.heartbeats.push({date:u,agent:o}),this._heartbeatsCache.heartbeats.length>Dx){const f=Vx(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(f,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(s){ei.warn(s)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=D0(),{heartbeatsToSend:s,unsentEntries:o}=kx(this._heartbeatsCache.heartbeats),u=lh(JSON.stringify({version:2,heartbeats:s}));return this._heartbeatsCache.lastSentHeartbeatDate=n,o.length>0?(this._heartbeatsCache.heartbeats=o,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),u}catch(n){return ei.warn(n),""}}}function D0(){return new Date().toISOString().substring(0,10)}function kx(i,e=Nx){const n=[];let s=i.slice();for(const o of i){const u=n.find(f=>f.agent===o.agent);if(u){if(u.dates.push(o.date),O0(n)>e){u.dates.pop();break}}else if(n.push({agent:o.agent,dates:[o.date]}),O0(n)>e){n.pop();break}s=s.slice(1)}return{heartbeatsToSend:n,unsentEntries:s}}class Mx{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return E1()?T1().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await Cx(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const o=await this.read();return N0(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:o.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const o=await this.read();return N0(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:o.lastSentHeartbeatDate,heartbeats:[...o.heartbeats,...e.heartbeats]})}else return}}function O0(i){return lh(JSON.stringify({version:2,heartbeats:i})).length}function Vx(i){if(i.length===0)return-1;let e=0,n=i[0].date;for(let s=1;s<i.length;s++)i[s].date<n&&(n=i[s].date,e=s);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Px(i){ro(new Ks("platform-logger",e=>new Y1(e),"PRIVATE")),ro(new Ks("heartbeat",e=>new Ox(e),"PRIVATE")),Gi(wm,I0,i),Gi(wm,I0,"esm2017"),Gi("fire-js","")}Px("");function op(i,e){var n={};for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&e.indexOf(s)<0&&(n[s]=i[s]);if(i!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,s=Object.getOwnPropertySymbols(i);o<s.length;o++)e.indexOf(s[o])<0&&Object.prototype.propertyIsEnumerable.call(i,s[o])&&(n[s[o]]=i[s[o]]);return n}function RE(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const Lx=RE,IE=new ru("auth","Firebase",RE());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ch=new ip("@firebase/auth");function Ux(i,...e){ch.logLevel<=Le.WARN&&ch.warn(`Auth (${po}): ${i}`,...e)}function Wc(i,...e){ch.logLevel<=Le.ERROR&&ch.error(`Auth (${po}): ${i}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kn(i,...e){throw lp(i,...e)}function gr(i,...e){return lp(i,...e)}function CE(i,e,n){const s=Object.assign(Object.assign({},Lx()),{[e]:n});return new ru("auth","Firebase",s).create(e,{appName:i.name})}function Wr(i){return CE(i,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function lp(i,...e){if(typeof i!="string"){const n=e[0],s=[...e.slice(1)];return s[0]&&(s[0].appName=i.name),i._errorFactory.create(n,...s)}return IE.create(i,...e)}function be(i,e,...n){if(!i)throw lp(e,...n)}function Yr(i){const e="INTERNAL ASSERTION FAILED: "+i;throw Wc(e),new Error(e)}function ti(i,e){i||Yr(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rm(){var i;return typeof self<"u"&&((i=self.location)===null||i===void 0?void 0:i.href)||""}function jx(){return k0()==="http:"||k0()==="https:"}function k0(){var i;return typeof self<"u"&&((i=self.location)===null||i===void 0?void 0:i.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zx(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(jx()||g1()||"connection"in navigator)?navigator.onLine:!0}function Bx(){if(typeof navigator>"u")return null;const i=navigator;return i.languages&&i.languages[0]||i.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class su{constructor(e,n){this.shortDelay=e,this.longDelay=n,ti(n>e,"Short delay should be less than long delay!"),this.isMobile=d1()||y1()}get(){return zx()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function up(i,e){ti(i.emulator,"Emulator should always be set here");const{url:n}=i.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NE{static initialize(e,n,s){this.fetchImpl=e,n&&(this.headersImpl=n),s&&(this.responseImpl=s)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Yr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Yr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Yr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hx={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qx=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],Fx=new su(3e4,6e4);function ns(i,e){return i.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:i.tenantId}):e}async function si(i,e,n,s,o={}){return DE(i,o,async()=>{let u={},f={};s&&(e==="GET"?f=s:u={body:JSON.stringify(s)});const m=iu(Object.assign({key:i.config.apiKey},f)).slice(1),p=await i._getAdditionalHeaders();p["Content-Type"]="application/json",i.languageCode&&(p["X-Firebase-Locale"]=i.languageCode);const y=Object.assign({method:e,headers:p},u);return p1()||(y.referrerPolicy="no-referrer"),NE.fetch()(await OE(i,i.config.apiHost,n,m),y)})}async function DE(i,e,n){i._canInitEmulator=!1;const s=Object.assign(Object.assign({},Hx),e);try{const o=new Kx(i),u=await Promise.race([n(),o.promise]);o.clearNetworkTimeout();const f=await u.json();if("needConfirmation"in f)throw Hc(i,"account-exists-with-different-credential",f);if(u.ok&&!("errorMessage"in f))return f;{const m=u.ok?f.errorMessage:f.error.message,[p,y]=m.split(" : ");if(p==="FEDERATED_USER_ID_ALREADY_LINKED")throw Hc(i,"credential-already-in-use",f);if(p==="EMAIL_EXISTS")throw Hc(i,"email-already-in-use",f);if(p==="USER_DISABLED")throw Hc(i,"user-disabled",f);const E=s[p]||p.toLowerCase().replace(/[_\s]+/g,"-");if(y)throw CE(i,E,y);Kn(i,E)}}catch(o){if(o instanceof ii)throw o;Kn(i,"network-request-failed",{message:String(o)})}}async function au(i,e,n,s,o={}){const u=await si(i,e,n,s,o);return"mfaPendingCredential"in u&&Kn(i,"multi-factor-auth-required",{_serverResponse:u}),u}async function OE(i,e,n,s){const o=`${e}${n}?${s}`,u=i,f=u.config.emulator?up(i.config,o):`${i.config.apiScheme}://${o}`;return qx.includes(n)&&(await u._persistenceManagerAvailable,u._getPersistenceType()==="COOKIE")?u._getPersistence()._getFinalTarget(f).toString():f}function Gx(i){switch(i){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class Kx{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,s)=>{this.timer=setTimeout(()=>s(gr(this.auth,"network-request-failed")),Fx.get())})}}function Hc(i,e,n){const s={appName:i.name};n.email&&(s.email=n.email),n.phoneNumber&&(s.phoneNumber=n.phoneNumber);const o=gr(i,e,s);return o.customData._tokenResponse=n,o}function M0(i){return i!==void 0&&i.enterprise!==void 0}class Qx{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return Gx(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function Yx(i,e){return si(i,"GET","/v2/recaptchaConfig",ns(i,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $x(i,e){return si(i,"POST","/v1/accounts:delete",e)}async function hh(i,e){return si(i,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bl(i){if(i)try{const e=new Date(Number(i));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function Xx(i,e=!1){const n=Ot(i),s=await n.getIdToken(e),o=cp(s);be(o&&o.exp&&o.auth_time&&o.iat,n.auth,"internal-error");const u=typeof o.firebase=="object"?o.firebase:void 0,f=u==null?void 0:u.sign_in_provider;return{claims:o,token:s,authTime:Bl(mm(o.auth_time)),issuedAtTime:Bl(mm(o.iat)),expirationTime:Bl(mm(o.exp)),signInProvider:f||null,signInSecondFactor:(u==null?void 0:u.sign_in_second_factor)||null}}function mm(i){return Number(i)*1e3}function cp(i){const[e,n,s]=i.split(".");if(e===void 0||n===void 0||s===void 0)return Wc("JWT malformed, contained fewer than 3 sections"),null;try{const o=yE(n);return o?JSON.parse(o):(Wc("Failed to decode base64 JWT payload"),null)}catch(o){return Wc("Caught error parsing JWT payload as JSON",o==null?void 0:o.toString()),null}}function V0(i){const e=cp(i);return be(e,"internal-error"),be(typeof e.exp<"u","internal-error"),be(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function io(i,e,n=!1){if(n)return e;try{return await e}catch(s){throw s instanceof ii&&Wx(s)&&i.auth.currentUser===i&&await i.auth.signOut(),s}}function Wx({code:i}){return i==="auth/user-disabled"||i==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zx{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const s=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),s}else{this.errorBackoff=3e4;const o=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,o)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Im{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Bl(this.lastLoginAt),this.creationTime=Bl(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function fh(i){var e;const n=i.auth,s=await i.getIdToken(),o=await io(i,hh(n,{idToken:s}));be(o==null?void 0:o.users.length,n,"internal-error");const u=o.users[0];i._notifyReloadListener(u);const f=!((e=u.providerUserInfo)===null||e===void 0)&&e.length?kE(u.providerUserInfo):[],m=eR(i.providerData,f),p=i.isAnonymous,y=!(i.email&&u.passwordHash)&&!(m!=null&&m.length),E=p?y:!1,w={uid:u.localId,displayName:u.displayName||null,photoURL:u.photoUrl||null,email:u.email||null,emailVerified:u.emailVerified||!1,phoneNumber:u.phoneNumber||null,tenantId:u.tenantId||null,providerData:m,metadata:new Im(u.createdAt,u.lastLoginAt),isAnonymous:E};Object.assign(i,w)}async function Jx(i){const e=Ot(i);await fh(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function eR(i,e){return[...i.filter(s=>!e.some(o=>o.providerId===s.providerId)),...e]}function kE(i){return i.map(e=>{var{providerId:n}=e,s=op(e,["providerId"]);return{providerId:n,uid:s.rawId||"",displayName:s.displayName||null,email:s.email||null,phoneNumber:s.phoneNumber||null,photoURL:s.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function tR(i,e){const n=await DE(i,{},async()=>{const s=iu({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:o,apiKey:u}=i.config,f=await OE(i,o,"/v1/token",`key=${u}`),m=await i._getAdditionalHeaders();return m["Content-Type"]="application/x-www-form-urlencoded",NE.fetch()(f,{method:"POST",headers:m,body:s})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function nR(i,e){return si(i,"POST","/v2/accounts:revokeToken",ns(i,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ja{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){be(e.idToken,"internal-error"),be(typeof e.idToken<"u","internal-error"),be(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):V0(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){be(e.length!==0,"internal-error");const n=V0(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(be(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:s,refreshToken:o,expiresIn:u}=await tR(e,n);this.updateTokensAndExpiration(s,o,Number(u))}updateTokensAndExpiration(e,n,s){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+s*1e3}static fromJSON(e,n){const{refreshToken:s,accessToken:o,expirationTime:u}=n,f=new Ja;return s&&(be(typeof s=="string","internal-error",{appName:e}),f.refreshToken=s),o&&(be(typeof o=="string","internal-error",{appName:e}),f.accessToken=o),u&&(be(typeof u=="number","internal-error",{appName:e}),f.expirationTime=u),f}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Ja,this.toJSON())}_performRefresh(){return Yr("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vi(i,e){be(typeof i=="string"||typeof i>"u","internal-error",{appName:e})}class Gn{constructor(e){var{uid:n,auth:s,stsTokenManager:o}=e,u=op(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Zx(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=s,this.stsTokenManager=o,this.accessToken=o.accessToken,this.displayName=u.displayName||null,this.email=u.email||null,this.emailVerified=u.emailVerified||!1,this.phoneNumber=u.phoneNumber||null,this.photoURL=u.photoURL||null,this.isAnonymous=u.isAnonymous||!1,this.tenantId=u.tenantId||null,this.providerData=u.providerData?[...u.providerData]:[],this.metadata=new Im(u.createdAt||void 0,u.lastLoginAt||void 0)}async getIdToken(e){const n=await io(this,this.stsTokenManager.getToken(this.auth,e));return be(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return Xx(this,e)}reload(){return Jx(this)}_assign(e){this!==e&&(be(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Gn(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){be(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let s=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),s=!0),n&&await fh(this),await this.auth._persistUserIfCurrent(this),s&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Vn(this.auth.app))return Promise.reject(Wr(this.auth));const e=await this.getIdToken();return await io(this,$x(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var s,o,u,f,m,p,y,E;const w=(s=n.displayName)!==null&&s!==void 0?s:void 0,A=(o=n.email)!==null&&o!==void 0?o:void 0,k=(u=n.phoneNumber)!==null&&u!==void 0?u:void 0,N=(f=n.photoURL)!==null&&f!==void 0?f:void 0,M=(m=n.tenantId)!==null&&m!==void 0?m:void 0,P=(p=n._redirectEventId)!==null&&p!==void 0?p:void 0,K=(y=n.createdAt)!==null&&y!==void 0?y:void 0,se=(E=n.lastLoginAt)!==null&&E!==void 0?E:void 0,{uid:X,emailVerified:he,isAnonymous:le,providerData:me,stsTokenManager:V}=n;be(X&&V,e,"internal-error");const x=Ja.fromJSON(this.name,V);be(typeof X=="string",e,"internal-error"),Vi(w,e.name),Vi(A,e.name),be(typeof he=="boolean",e,"internal-error"),be(typeof le=="boolean",e,"internal-error"),Vi(k,e.name),Vi(N,e.name),Vi(M,e.name),Vi(P,e.name),Vi(K,e.name),Vi(se,e.name);const I=new Gn({uid:X,auth:e,email:A,emailVerified:he,displayName:w,isAnonymous:le,photoURL:N,phoneNumber:k,tenantId:M,stsTokenManager:x,createdAt:K,lastLoginAt:se});return me&&Array.isArray(me)&&(I.providerData=me.map(O=>Object.assign({},O))),P&&(I._redirectEventId=P),I}static async _fromIdTokenResponse(e,n,s=!1){const o=new Ja;o.updateFromServerResponse(n);const u=new Gn({uid:n.localId,auth:e,stsTokenManager:o,isAnonymous:s});return await fh(u),u}static async _fromGetAccountInfoResponse(e,n,s){const o=n.users[0];be(o.localId!==void 0,"internal-error");const u=o.providerUserInfo!==void 0?kE(o.providerUserInfo):[],f=!(o.email&&o.passwordHash)&&!(u!=null&&u.length),m=new Ja;m.updateFromIdToken(s);const p=new Gn({uid:o.localId,auth:e,stsTokenManager:m,isAnonymous:f}),y={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:u,metadata:new Im(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!(u!=null&&u.length)};return Object.assign(p,y),p}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const P0=new Map;function $r(i){ti(i instanceof Function,"Expected a class definition");let e=P0.get(i);return e?(ti(e instanceof i,"Instance stored in cache mismatched with class"),e):(e=new i,P0.set(i,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ME{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}ME.type="NONE";const L0=ME;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zc(i,e,n){return`firebase:${i}:${e}:${n}`}class eo{constructor(e,n,s){this.persistence=e,this.auth=n,this.userKey=s;const{config:o,name:u}=this.auth;this.fullUserKey=Zc(this.userKey,o.apiKey,u),this.fullPersistenceKey=Zc("persistence",o.apiKey,u),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await hh(this.auth,{idToken:e}).catch(()=>{});return n?Gn._fromGetAccountInfoResponse(this.auth,n,e):null}return Gn._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,s="authUser"){if(!n.length)return new eo($r(L0),e,s);const o=(await Promise.all(n.map(async y=>{if(await y._isAvailable())return y}))).filter(y=>y);let u=o[0]||$r(L0);const f=Zc(s,e.config.apiKey,e.name);let m=null;for(const y of n)try{const E=await y._get(f);if(E){let w;if(typeof E=="string"){const A=await hh(e,{idToken:E}).catch(()=>{});if(!A)break;w=await Gn._fromGetAccountInfoResponse(e,A,E)}else w=Gn._fromJSON(e,E);y!==u&&(m=w),u=y;break}}catch{}const p=o.filter(y=>y._shouldAllowMigration);return!u._shouldAllowMigration||!p.length?new eo(u,e,s):(u=p[0],m&&await u._set(f,m.toJSON()),await Promise.all(n.map(async y=>{if(y!==u)try{await y._remove(f)}catch{}})),new eo(u,e,s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function U0(i){const e=i.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(UE(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(VE(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(zE(e))return"Blackberry";if(BE(e))return"Webos";if(PE(e))return"Safari";if((e.includes("chrome/")||LE(e))&&!e.includes("edge/"))return"Chrome";if(jE(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,s=i.match(n);if((s==null?void 0:s.length)===2)return s[1]}return"Other"}function VE(i=Jt()){return/firefox\//i.test(i)}function PE(i=Jt()){const e=i.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function LE(i=Jt()){return/crios\//i.test(i)}function UE(i=Jt()){return/iemobile/i.test(i)}function jE(i=Jt()){return/android/i.test(i)}function zE(i=Jt()){return/blackberry/i.test(i)}function BE(i=Jt()){return/webos/i.test(i)}function hp(i=Jt()){return/iphone|ipad|ipod/i.test(i)||/macintosh/i.test(i)&&/mobile/i.test(i)}function rR(i=Jt()){var e;return hp(i)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function iR(){return v1()&&document.documentMode===10}function HE(i=Jt()){return hp(i)||jE(i)||BE(i)||zE(i)||/windows phone/i.test(i)||UE(i)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qE(i,e=[]){let n;switch(i){case"Browser":n=U0(Jt());break;case"Worker":n=`${U0(Jt())}-${i}`;break;default:n=i}const s=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${po}/${s}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sR{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const s=u=>new Promise((f,m)=>{try{const p=e(u);f(p)}catch(p){m(p)}});s.onAbort=n,this.queue.push(s);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const s of this.queue)await s(e),s.onAbort&&n.push(s.onAbort)}catch(s){n.reverse();for(const o of n)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:s==null?void 0:s.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function aR(i,e={}){return si(i,"GET","/v2/passwordPolicy",ns(i,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oR=6;class lR{constructor(e){var n,s,o,u;const f=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=f.minPasswordLength)!==null&&n!==void 0?n:oR,f.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=f.maxPasswordLength),f.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=f.containsLowercaseCharacter),f.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=f.containsUppercaseCharacter),f.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=f.containsNumericCharacter),f.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=f.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(o=(s=e.allowedNonAlphanumericCharacters)===null||s===void 0?void 0:s.join(""))!==null&&o!==void 0?o:"",this.forceUpgradeOnSignin=(u=e.forceUpgradeOnSignin)!==null&&u!==void 0?u:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,s,o,u,f,m;const p={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,p),this.validatePasswordCharacterOptions(e,p),p.isValid&&(p.isValid=(n=p.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),p.isValid&&(p.isValid=(s=p.meetsMaxPasswordLength)!==null&&s!==void 0?s:!0),p.isValid&&(p.isValid=(o=p.containsLowercaseLetter)!==null&&o!==void 0?o:!0),p.isValid&&(p.isValid=(u=p.containsUppercaseLetter)!==null&&u!==void 0?u:!0),p.isValid&&(p.isValid=(f=p.containsNumericCharacter)!==null&&f!==void 0?f:!0),p.isValid&&(p.isValid=(m=p.containsNonAlphanumericCharacter)!==null&&m!==void 0?m:!0),p}validatePasswordLengthOptions(e,n){const s=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;s&&(n.meetsMinPasswordLength=e.length>=s),o&&(n.meetsMaxPasswordLength=e.length<=o)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let s;for(let o=0;o<e.length;o++)s=e.charAt(o),this.updatePasswordCharacterOptionsStatuses(n,s>="a"&&s<="z",s>="A"&&s<="Z",s>="0"&&s<="9",this.allowedNonAlphanumericCharacters.includes(s))}updatePasswordCharacterOptionsStatuses(e,n,s,o,u){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=s)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uR{constructor(e,n,s,o){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=s,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new j0(this),this.idTokenSubscription=new j0(this),this.beforeStateQueue=new sR(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=IE,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=o.sdkClientVersion,this._persistenceManagerAvailable=new Promise(u=>this._resolvePersistenceManagerAvailable=u)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=$r(n)),this._initializationPromise=this.queue(async()=>{var s,o,u;if(!this._deleted&&(this.persistenceManager=await eo.create(this,e),(s=this._resolvePersistenceManagerAvailable)===null||s===void 0||s.call(this),!this._deleted)){if(!((o=this._popupRedirectResolver)===null||o===void 0)&&o._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((u=this.currentUser)===null||u===void 0?void 0:u.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await hh(this,{idToken:e}),s=await Gn._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(s)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if(Vn(this.app)){const f=this.app.settings.authIdToken;return f?new Promise(m=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(f).then(m,m))}):this.directlySetCurrentUser(null)}const s=await this.assertedPersistence.getCurrentUser();let o=s,u=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const f=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,m=o==null?void 0:o._redirectEventId,p=await this.tryRedirectSignIn(e);(!f||f===m)&&(p!=null&&p.user)&&(o=p.user,u=!0)}if(!o)return this.directlySetCurrentUser(null);if(!o._redirectEventId){if(u)try{await this.beforeStateQueue.runMiddleware(o)}catch(f){o=s,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(f))}return o?this.reloadAndSetCurrentUserOrClear(o):this.directlySetCurrentUser(null)}return be(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===o._redirectEventId?this.directlySetCurrentUser(o):this.reloadAndSetCurrentUserOrClear(o)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await fh(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=Bx()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Vn(this.app))return Promise.reject(Wr(this));const n=e?Ot(e):null;return n&&be(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&be(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Vn(this.app)?Promise.reject(Wr(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Vn(this.app)?Promise.reject(Wr(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence($r(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await aR(this),n=new lR(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new ru("auth","Firebase",e())}onAuthStateChanged(e,n,s){return this.registerStateListener(this.authStateSubscription,e,n,s)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,s){return this.registerStateListener(this.idTokenSubscription,e,n,s)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const s=this.onAuthStateChanged(()=>{s(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),s={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(s.tenantId=this.tenantId),await nR(this,s)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const s=await this.getOrInitRedirectPersistenceManager(n);return e===null?s.removeCurrentUser():s.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&$r(e)||this._popupRedirectResolver;be(n,this,"argument-error"),this.redirectPersistenceManager=await eo.create(this,[$r(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,s;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((s=this.redirectUser)===null||s===void 0?void 0:s._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const s=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==s&&(this.lastNotifiedUid=s,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,s,o){if(this._deleted)return()=>{};const u=typeof n=="function"?n:n.next.bind(n);let f=!1;const m=this._isInitialized?Promise.resolve():this._initializationPromise;if(be(m,this,"internal-error"),m.then(()=>{f||u(this.currentUser)}),typeof n=="function"){const p=e.addObserver(n,s,o);return()=>{f=!0,p()}}else{const p=e.addObserver(n);return()=>{f=!0,p()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return be(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=qE(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const s=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());s&&(n["X-Firebase-Client"]=s);const o=await this._getAppCheckToken();return o&&(n["X-Firebase-AppCheck"]=o),n}async _getAppCheckToken(){var e;if(Vn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&Ux(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function Zs(i){return Ot(i)}class j0{constructor(e){this.auth=e,this.observer=null,this.addObserver=x1(n=>this.observer=n)}get next(){return be(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let kh={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function cR(i){kh=i}function FE(i){return kh.loadJS(i)}function hR(){return kh.recaptchaEnterpriseScript}function fR(){return kh.gapiScript}function dR(i){return`__${i}${Math.floor(Math.random()*1e6)}`}class mR{constructor(){this.enterprise=new pR}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class pR{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const gR="recaptcha-enterprise",GE="NO_RECAPTCHA";class yR{constructor(e){this.type=gR,this.auth=Zs(e)}async verify(e="verify",n=!1){async function s(u){if(!n){if(u.tenantId==null&&u._agentRecaptchaConfig!=null)return u._agentRecaptchaConfig.siteKey;if(u.tenantId!=null&&u._tenantRecaptchaConfigs[u.tenantId]!==void 0)return u._tenantRecaptchaConfigs[u.tenantId].siteKey}return new Promise(async(f,m)=>{Yx(u,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(p=>{if(p.recaptchaKey===void 0)m(new Error("recaptcha Enterprise site key undefined"));else{const y=new Qx(p);return u.tenantId==null?u._agentRecaptchaConfig=y:u._tenantRecaptchaConfigs[u.tenantId]=y,f(y.siteKey)}}).catch(p=>{m(p)})})}function o(u,f,m){const p=window.grecaptcha;M0(p)?p.enterprise.ready(()=>{p.enterprise.execute(u,{action:e}).then(y=>{f(y)}).catch(()=>{f(GE)})}):m(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new mR().execute("siteKey",{action:"verify"}):new Promise((u,f)=>{s(this.auth).then(m=>{if(!n&&M0(window.grecaptcha))o(m,u,f);else{if(typeof window>"u"){f(new Error("RecaptchaVerifier is only supported in browser"));return}let p=hR();p.length!==0&&(p+=m),FE(p).then(()=>{o(m,u,f)}).catch(y=>{f(y)})}}).catch(m=>{f(m)})})}}async function z0(i,e,n,s=!1,o=!1){const u=new yR(i);let f;if(o)f=GE;else try{f=await u.verify(n)}catch{f=await u.verify(n,!0)}const m=Object.assign({},e);if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in m){const p=m.phoneEnrollmentInfo.phoneNumber,y=m.phoneEnrollmentInfo.recaptchaToken;Object.assign(m,{phoneEnrollmentInfo:{phoneNumber:p,recaptchaToken:y,captchaResponse:f,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in m){const p=m.phoneSignInInfo.recaptchaToken;Object.assign(m,{phoneSignInInfo:{recaptchaToken:p,captchaResponse:f,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return m}return s?Object.assign(m,{captchaResp:f}):Object.assign(m,{captchaResponse:f}),Object.assign(m,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(m,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),m}async function Cm(i,e,n,s,o){var u;if(!((u=i._getRecaptchaConfig())===null||u===void 0)&&u.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const f=await z0(i,e,n,n==="getOobCode");return s(i,f)}else return s(i,e).catch(async f=>{if(f.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const m=await z0(i,e,n,n==="getOobCode");return s(i,m)}else return Promise.reject(f)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vR(i,e){const n=ap(i,"auth");if(n.isInitialized()){const o=n.getImmediate(),u=n.getOptions();if(Gs(u,e??{}))return o;Kn(o,"already-initialized")}return n.initialize({options:e})}function _R(i,e){const n=(e==null?void 0:e.persistence)||[],s=(Array.isArray(n)?n:[n]).map($r);e!=null&&e.errorMap&&i._updateErrorMap(e.errorMap),i._initializeWithPersistence(s,e==null?void 0:e.popupRedirectResolver)}function ER(i,e,n){const s=Zs(i);be(/^https?:\/\//.test(e),s,"invalid-emulator-scheme");const o=!1,u=KE(e),{host:f,port:m}=TR(e),p=m===null?"":`:${m}`,y={url:`${u}//${f}${p}/`},E=Object.freeze({host:f,port:m,protocol:u.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!s._canInitEmulator){be(s.config.emulator&&s.emulatorConfig,s,"emulator-config-failed"),be(Gs(y,s.config.emulator)&&Gs(E,s.emulatorConfig),s,"emulator-config-failed");return}s.config.emulator=y,s.emulatorConfig=E,s.settings.appVerificationDisabledForTesting=!0,bR()}function KE(i){const e=i.indexOf(":");return e<0?"":i.substr(0,e+1)}function TR(i){const e=KE(i),n=/(\/\/)?([^?#/]+)/.exec(i.substr(e.length));if(!n)return{host:"",port:null};const s=n[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(s);if(o){const u=o[1];return{host:u,port:B0(s.substr(u.length+1))}}else{const[u,f]=s.split(":");return{host:u,port:B0(f)}}}function B0(i){if(!i)return null;const e=Number(i);return isNaN(e)?null:e}function bR(){function i(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",i):i())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fp{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Yr("not implemented")}_getIdTokenResponse(e){return Yr("not implemented")}_linkToIdToken(e,n){return Yr("not implemented")}_getReauthenticationResolver(e){return Yr("not implemented")}}async function SR(i,e){return si(i,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function wR(i,e){return au(i,"POST","/v1/accounts:signInWithPassword",ns(i,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function AR(i,e){return au(i,"POST","/v1/accounts:signInWithEmailLink",ns(i,e))}async function xR(i,e){return au(i,"POST","/v1/accounts:signInWithEmailLink",ns(i,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yl extends fp{constructor(e,n,s,o=null){super("password",s),this._email=e,this._password=n,this._tenantId=o}static _fromEmailAndPassword(e,n){return new Yl(e,n,"password")}static _fromEmailAndCode(e,n,s=null){return new Yl(e,n,"emailLink",s)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Cm(e,n,"signInWithPassword",wR);case"emailLink":return AR(e,{email:this._email,oobCode:this._password});default:Kn(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const s={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Cm(e,s,"signUpPassword",SR);case"emailLink":return xR(e,{idToken:n,email:this._email,oobCode:this._password});default:Kn(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function to(i,e){return au(i,"POST","/v1/accounts:signInWithIdp",ns(i,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RR="http://localhost";class Qs extends fp{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Qs(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Kn("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:s,signInMethod:o}=n,u=op(n,["providerId","signInMethod"]);if(!s||!o)return null;const f=new Qs(s,o);return f.idToken=u.idToken||void 0,f.accessToken=u.accessToken||void 0,f.secret=u.secret,f.nonce=u.nonce,f.pendingToken=u.pendingToken||null,f}_getIdTokenResponse(e){const n=this.buildRequest();return to(e,n)}_linkToIdToken(e,n){const s=this.buildRequest();return s.idToken=n,to(e,s)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,to(e,n)}buildRequest(){const e={requestUri:RR,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=iu(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function IR(i){switch(i){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function CR(i){const e=Vl(Pl(i)).link,n=e?Vl(Pl(e)).deep_link_id:null,s=Vl(Pl(i)).deep_link_id;return(s?Vl(Pl(s)).link:null)||s||n||e||i}class dp{constructor(e){var n,s,o,u,f,m;const p=Vl(Pl(e)),y=(n=p.apiKey)!==null&&n!==void 0?n:null,E=(s=p.oobCode)!==null&&s!==void 0?s:null,w=IR((o=p.mode)!==null&&o!==void 0?o:null);be(y&&E&&w,"argument-error"),this.apiKey=y,this.operation=w,this.code=E,this.continueUrl=(u=p.continueUrl)!==null&&u!==void 0?u:null,this.languageCode=(f=p.languageCode)!==null&&f!==void 0?f:null,this.tenantId=(m=p.tenantId)!==null&&m!==void 0?m:null}static parseLink(e){const n=CR(e);try{return new dp(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class go{constructor(){this.providerId=go.PROVIDER_ID}static credential(e,n){return Yl._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const s=dp.parseLink(n);return be(s,"argument-error"),Yl._fromEmailAndCode(e,s.code,s.tenantId)}}go.PROVIDER_ID="password";go.EMAIL_PASSWORD_SIGN_IN_METHOD="password";go.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QE{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ou extends QE{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Li extends ou{constructor(){super("facebook.com")}static credential(e){return Qs._fromParams({providerId:Li.PROVIDER_ID,signInMethod:Li.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Li.credentialFromTaggedObject(e)}static credentialFromError(e){return Li.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Li.credential(e.oauthAccessToken)}catch{return null}}}Li.FACEBOOK_SIGN_IN_METHOD="facebook.com";Li.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ui extends ou{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return Qs._fromParams({providerId:Ui.PROVIDER_ID,signInMethod:Ui.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Ui.credentialFromTaggedObject(e)}static credentialFromError(e){return Ui.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:s}=e;if(!n&&!s)return null;try{return Ui.credential(n,s)}catch{return null}}}Ui.GOOGLE_SIGN_IN_METHOD="google.com";Ui.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ji extends ou{constructor(){super("github.com")}static credential(e){return Qs._fromParams({providerId:ji.PROVIDER_ID,signInMethod:ji.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ji.credentialFromTaggedObject(e)}static credentialFromError(e){return ji.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ji.credential(e.oauthAccessToken)}catch{return null}}}ji.GITHUB_SIGN_IN_METHOD="github.com";ji.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zi extends ou{constructor(){super("twitter.com")}static credential(e,n){return Qs._fromParams({providerId:zi.PROVIDER_ID,signInMethod:zi.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return zi.credentialFromTaggedObject(e)}static credentialFromError(e){return zi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:s}=e;if(!n||!s)return null;try{return zi.credential(n,s)}catch{return null}}}zi.TWITTER_SIGN_IN_METHOD="twitter.com";zi.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function NR(i,e){return au(i,"POST","/v1/accounts:signUp",ns(i,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ys{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,s,o=!1){const u=await Gn._fromIdTokenResponse(e,s,o),f=H0(s);return new Ys({user:u,providerId:f,_tokenResponse:s,operationType:n})}static async _forOperation(e,n,s){await e._updateTokensIfNecessary(s,!0);const o=H0(s);return new Ys({user:e,providerId:o,_tokenResponse:s,operationType:n})}}function H0(i){return i.providerId?i.providerId:"phoneNumber"in i?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dh extends ii{constructor(e,n,s,o){var u;super(n.code,n.message),this.operationType=s,this.user=o,Object.setPrototypeOf(this,dh.prototype),this.customData={appName:e.name,tenantId:(u=e.tenantId)!==null&&u!==void 0?u:void 0,_serverResponse:n.customData._serverResponse,operationType:s}}static _fromErrorAndOperation(e,n,s,o){return new dh(e,n,s,o)}}function YE(i,e,n,s){return(e==="reauthenticate"?n._getReauthenticationResolver(i):n._getIdTokenResponse(i)).catch(u=>{throw u.code==="auth/multi-factor-auth-required"?dh._fromErrorAndOperation(i,u,e,s):u})}async function DR(i,e,n=!1){const s=await io(i,e._linkToIdToken(i.auth,await i.getIdToken()),n);return Ys._forOperation(i,"link",s)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function OR(i,e,n=!1){const{auth:s}=i;if(Vn(s.app))return Promise.reject(Wr(s));const o="reauthenticate";try{const u=await io(i,YE(s,o,e,i),n);be(u.idToken,s,"internal-error");const f=cp(u.idToken);be(f,s,"internal-error");const{sub:m}=f;return be(i.uid===m,s,"user-mismatch"),Ys._forOperation(i,o,u)}catch(u){throw(u==null?void 0:u.code)==="auth/user-not-found"&&Kn(s,"user-mismatch"),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $E(i,e,n=!1){if(Vn(i.app))return Promise.reject(Wr(i));const s="signIn",o=await YE(i,s,e),u=await Ys._fromIdTokenResponse(i,s,o);return n||await i._updateCurrentUser(u.user),u}async function kR(i,e){return $E(Zs(i),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function XE(i){const e=Zs(i);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function MR(i,e,n){if(Vn(i.app))return Promise.reject(Wr(i));const s=Zs(i),f=await Cm(s,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",NR).catch(p=>{throw p.code==="auth/password-does-not-meet-requirements"&&XE(i),p}),m=await Ys._fromIdTokenResponse(s,"signIn",f);return await s._updateCurrentUser(m.user),m}function VR(i,e,n){return Vn(i.app)?Promise.reject(Wr(i)):kR(Ot(i),go.credential(e,n)).catch(async s=>{throw s.code==="auth/password-does-not-meet-requirements"&&XE(i),s})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function PR(i,e){return si(i,"POST","/v1/accounts:update",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function LR(i,{displayName:e,photoURL:n}){if(e===void 0&&n===void 0)return;const s=Ot(i),u={idToken:await s.getIdToken(),displayName:e,photoUrl:n,returnSecureToken:!0},f=await io(s,PR(s.auth,u));s.displayName=f.displayName||null,s.photoURL=f.photoUrl||null;const m=s.providerData.find(({providerId:p})=>p==="password");m&&(m.displayName=s.displayName,m.photoURL=s.photoURL),await s._updateTokensIfNecessary(f)}function UR(i,e,n,s){return Ot(i).onIdTokenChanged(e,n,s)}function jR(i,e,n){return Ot(i).beforeAuthStateChanged(e,n)}function zR(i,e,n,s){return Ot(i).onAuthStateChanged(e,n,s)}function BR(i){return Ot(i).signOut()}const mh="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WE{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(mh,"1"),this.storage.removeItem(mh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HR=1e3,qR=10;class ZE extends WE{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=HE(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const s=this.storage.getItem(n),o=this.localCache[n];s!==o&&e(n,o,s)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((f,m,p)=>{this.notifyListeners(f,p)});return}const s=e.key;n?this.detachListener():this.stopPolling();const o=()=>{const f=this.storage.getItem(s);!n&&this.localCache[s]===f||this.notifyListeners(s,f)},u=this.storage.getItem(s);iR()&&u!==e.newValue&&e.newValue!==e.oldValue?setTimeout(o,qR):o()}notifyListeners(e,n){this.localCache[e]=n;const s=this.listeners[e];if(s)for(const o of Array.from(s))o(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,s)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:s}),!0)})},HR)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}ZE.type="LOCAL";const FR=ZE;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JE extends WE{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}JE.type="SESSION";const eT=JE;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GR(i){return Promise.all(i.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mh{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(o=>o.isListeningto(e));if(n)return n;const s=new Mh(e);return this.receivers.push(s),s}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:s,eventType:o,data:u}=n.data,f=this.handlersMap[o];if(!(f!=null&&f.size))return;n.ports[0].postMessage({status:"ack",eventId:s,eventType:o});const m=Array.from(f).map(async y=>y(n.origin,u)),p=await GR(m);n.ports[0].postMessage({status:"done",eventId:s,eventType:o,response:p})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Mh.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mp(i="",e=10){let n="";for(let s=0;s<e;s++)n+=Math.floor(Math.random()*10);return i+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KR{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,s=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let u,f;return new Promise((m,p)=>{const y=mp("",20);o.port1.start();const E=setTimeout(()=>{p(new Error("unsupported_event"))},s);f={messageChannel:o,onMessage(w){const A=w;if(A.data.eventId===y)switch(A.data.status){case"ack":clearTimeout(E),u=setTimeout(()=>{p(new Error("timeout"))},3e3);break;case"done":clearTimeout(u),m(A.data.response);break;default:clearTimeout(E),clearTimeout(u),p(new Error("invalid_response"));break}}},this.handlers.add(f),o.port1.addEventListener("message",f.onMessage),this.target.postMessage({eventType:e,eventId:y,data:n},[o.port2])}).finally(()=>{f&&this.removeMessageHandler(f)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yr(){return window}function QR(i){yr().location.href=i}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tT(){return typeof yr().WorkerGlobalScope<"u"&&typeof yr().importScripts=="function"}async function YR(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function $R(){var i;return((i=navigator==null?void 0:navigator.serviceWorker)===null||i===void 0?void 0:i.controller)||null}function XR(){return tT()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nT="firebaseLocalStorageDb",WR=1,ph="firebaseLocalStorage",rT="fbase_key";class lu{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Vh(i,e){return i.transaction([ph],e?"readwrite":"readonly").objectStore(ph)}function ZR(){const i=indexedDB.deleteDatabase(nT);return new lu(i).toPromise()}function Nm(){const i=indexedDB.open(nT,WR);return new Promise((e,n)=>{i.addEventListener("error",()=>{n(i.error)}),i.addEventListener("upgradeneeded",()=>{const s=i.result;try{s.createObjectStore(ph,{keyPath:rT})}catch(o){n(o)}}),i.addEventListener("success",async()=>{const s=i.result;s.objectStoreNames.contains(ph)?e(s):(s.close(),await ZR(),e(await Nm()))})})}async function q0(i,e,n){const s=Vh(i,!0).put({[rT]:e,value:n});return new lu(s).toPromise()}async function JR(i,e){const n=Vh(i,!1).get(e),s=await new lu(n).toPromise();return s===void 0?null:s.value}function F0(i,e){const n=Vh(i,!0).delete(e);return new lu(n).toPromise()}const e2=800,t2=3;class iT{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Nm(),this.db)}async _withRetries(e){let n=0;for(;;)try{const s=await this._openDb();return await e(s)}catch(s){if(n++>t2)throw s;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return tT()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Mh._getInstance(XR()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await YR(),!this.activeServiceWorker)return;this.sender=new KR(this.activeServiceWorker);const s=await this.sender._send("ping",{},800);s&&!((e=s[0])===null||e===void 0)&&e.fulfilled&&!((n=s[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||$R()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Nm();return await q0(e,mh,"1"),await F0(e,mh),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(s=>q0(s,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(s=>JR(s,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>F0(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(o=>{const u=Vh(o,!1).getAll();return new lu(u).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],s=new Set;if(e.length!==0)for(const{fbase_key:o,value:u}of e)s.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(u)&&(this.notifyListeners(o,u),n.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!s.has(o)&&(this.notifyListeners(o,null),n.push(o));return n}notifyListeners(e,n){this.localCache[e]=n;const s=this.listeners[e];if(s)for(const o of Array.from(s))o(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),e2)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}iT.type="LOCAL";const n2=iT;new su(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function r2(i,e){return e?$r(e):(be(i._popupRedirectResolver,i,"argument-error"),i._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pp extends fp{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return to(e,this._buildIdpRequest())}_linkToIdToken(e,n){return to(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return to(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function i2(i){return $E(i.auth,new pp(i),i.bypassAuthState)}function s2(i){const{auth:e,user:n}=i;return be(n,e,"internal-error"),OR(n,new pp(i),i.bypassAuthState)}async function a2(i){const{auth:e,user:n}=i;return be(n,e,"internal-error"),DR(n,new pp(i),i.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sT{constructor(e,n,s,o,u=!1){this.auth=e,this.resolver=s,this.user=o,this.bypassAuthState=u,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(s){this.reject(s)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:s,postBody:o,tenantId:u,error:f,type:m}=e;if(f){this.reject(f);return}const p={auth:this.auth,requestUri:n,sessionId:s,tenantId:u||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(m)(p))}catch(y){this.reject(y)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return i2;case"linkViaPopup":case"linkViaRedirect":return a2;case"reauthViaPopup":case"reauthViaRedirect":return s2;default:Kn(this.auth,"internal-error")}}resolve(e){ti(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){ti(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const o2=new su(2e3,1e4);class Za extends sT{constructor(e,n,s,o,u){super(e,n,o,u),this.provider=s,this.authWindow=null,this.pollId=null,Za.currentPopupAction&&Za.currentPopupAction.cancel(),Za.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return be(e,this.auth,"internal-error"),e}async onExecution(){ti(this.filter.length===1,"Popup operations only handle one event");const e=mp();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(gr(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(gr(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Za.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,s;if(!((s=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||s===void 0)&&s.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(gr(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,o2.get())};e()}}Za.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const l2="pendingRedirect",Jc=new Map;class u2 extends sT{constructor(e,n,s=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,s),this.eventId=null}async execute(){let e=Jc.get(this.auth._key());if(!e){try{const s=await c2(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(s)}catch(n){e=()=>Promise.reject(n)}Jc.set(this.auth._key(),e)}return this.bypassAuthState||Jc.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function c2(i,e){const n=d2(e),s=f2(i);if(!await s._isAvailable())return!1;const o=await s._get(n)==="true";return await s._remove(n),o}function h2(i,e){Jc.set(i._key(),e)}function f2(i){return $r(i._redirectPersistence)}function d2(i){return Zc(l2,i.config.apiKey,i.name)}async function m2(i,e,n=!1){if(Vn(i.app))return Promise.reject(Wr(i));const s=Zs(i),o=r2(s,e),f=await new u2(s,o,n).execute();return f&&!n&&(delete f.user._redirectEventId,await s._persistUserIfCurrent(f.user),await s._setRedirectUser(null,e)),f}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const p2=10*60*1e3;class g2{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(s=>{this.isEventForConsumer(e,s)&&(n=!0,this.sendToConsumer(e,s),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!y2(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var s;if(e.error&&!aT(e)){const o=((s=e.error.code)===null||s===void 0?void 0:s.split("auth/")[1])||"internal-error";n.onError(gr(this.auth,o))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const s=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&s}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=p2&&this.cachedEventUids.clear(),this.cachedEventUids.has(G0(e))}saveEventToCache(e){this.cachedEventUids.add(G0(e)),this.lastProcessedEventTime=Date.now()}}function G0(i){return[i.type,i.eventId,i.sessionId,i.tenantId].filter(e=>e).join("-")}function aT({type:i,error:e}){return i==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function y2(i){switch(i.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return aT(i);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function v2(i,e={}){return si(i,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _2=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,E2=/^https?/;async function T2(i){if(i.config.emulator)return;const{authorizedDomains:e}=await v2(i);for(const n of e)try{if(b2(n))return}catch{}Kn(i,"unauthorized-domain")}function b2(i){const e=Rm(),{protocol:n,hostname:s}=new URL(e);if(i.startsWith("chrome-extension://")){const f=new URL(i);return f.hostname===""&&s===""?n==="chrome-extension:"&&i.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&f.hostname===s}if(!E2.test(n))return!1;if(_2.test(i))return s===i;const o=i.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(s)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const S2=new su(3e4,6e4);function K0(){const i=yr().___jsl;if(i!=null&&i.H){for(const e of Object.keys(i.H))if(i.H[e].r=i.H[e].r||[],i.H[e].L=i.H[e].L||[],i.H[e].r=[...i.H[e].L],i.CP)for(let n=0;n<i.CP.length;n++)i.CP[n]=null}}function w2(i){return new Promise((e,n)=>{var s,o,u;function f(){K0(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{K0(),n(gr(i,"network-request-failed"))},timeout:S2.get()})}if(!((o=(s=yr().gapi)===null||s===void 0?void 0:s.iframes)===null||o===void 0)&&o.Iframe)e(gapi.iframes.getContext());else if(!((u=yr().gapi)===null||u===void 0)&&u.load)f();else{const m=dR("iframefcb");return yr()[m]=()=>{gapi.load?f():n(gr(i,"network-request-failed"))},FE(`${fR()}?onload=${m}`).catch(p=>n(p))}}).catch(e=>{throw eh=null,e})}let eh=null;function A2(i){return eh=eh||w2(i),eh}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const x2=new su(5e3,15e3),R2="__/auth/iframe",I2="emulator/auth/iframe",C2={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},N2=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function D2(i){const e=i.config;be(e.authDomain,i,"auth-domain-config-required");const n=e.emulator?up(e,I2):`https://${i.config.authDomain}/${R2}`,s={apiKey:e.apiKey,appName:i.name,v:po},o=N2.get(i.config.apiHost);o&&(s.eid=o);const u=i._getFrameworks();return u.length&&(s.fw=u.join(",")),`${n}?${iu(s).slice(1)}`}async function O2(i){const e=await A2(i),n=yr().gapi;return be(n,i,"internal-error"),e.open({where:document.body,url:D2(i),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:C2,dontclear:!0},s=>new Promise(async(o,u)=>{await s.restyle({setHideOnLeave:!1});const f=gr(i,"network-request-failed"),m=yr().setTimeout(()=>{u(f)},x2.get());function p(){yr().clearTimeout(m),o(s)}s.ping(p).then(p,()=>{u(f)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const k2={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},M2=500,V2=600,P2="_blank",L2="http://localhost";class Q0{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function U2(i,e,n,s=M2,o=V2){const u=Math.max((window.screen.availHeight-o)/2,0).toString(),f=Math.max((window.screen.availWidth-s)/2,0).toString();let m="";const p=Object.assign(Object.assign({},k2),{width:s.toString(),height:o.toString(),top:u,left:f}),y=Jt().toLowerCase();n&&(m=LE(y)?P2:n),VE(y)&&(e=e||L2,p.scrollbars="yes");const E=Object.entries(p).reduce((A,[k,N])=>`${A}${k}=${N},`,"");if(rR(y)&&m!=="_self")return j2(e||"",m),new Q0(null);const w=window.open(e||"",m,E);be(w,i,"popup-blocked");try{w.focus()}catch{}return new Q0(w)}function j2(i,e){const n=document.createElement("a");n.href=i,n.target=e;const s=document.createEvent("MouseEvent");s.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(s)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const z2="__/auth/handler",B2="emulator/auth/handler",H2=encodeURIComponent("fac");async function Y0(i,e,n,s,o,u){be(i.config.authDomain,i,"auth-domain-config-required"),be(i.config.apiKey,i,"invalid-api-key");const f={apiKey:i.config.apiKey,appName:i.name,authType:n,redirectUrl:s,v:po,eventId:o};if(e instanceof QE){e.setDefaultLanguage(i.languageCode),f.providerId=e.providerId||"",A1(e.getCustomParameters())||(f.customParameters=JSON.stringify(e.getCustomParameters()));for(const[E,w]of Object.entries({}))f[E]=w}if(e instanceof ou){const E=e.getScopes().filter(w=>w!=="");E.length>0&&(f.scopes=E.join(","))}i.tenantId&&(f.tid=i.tenantId);const m=f;for(const E of Object.keys(m))m[E]===void 0&&delete m[E];const p=await i._getAppCheckToken(),y=p?`#${H2}=${encodeURIComponent(p)}`:"";return`${q2(i)}?${iu(m).slice(1)}${y}`}function q2({config:i}){return i.emulator?up(i,B2):`https://${i.authDomain}/${z2}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pm="webStorageSupport";class F2{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=eT,this._completeRedirectFn=m2,this._overrideRedirectResult=h2}async _openPopup(e,n,s,o){var u;ti((u=this.eventManagers[e._key()])===null||u===void 0?void 0:u.manager,"_initialize() not called before _openPopup()");const f=await Y0(e,n,s,Rm(),o);return U2(e,f,mp())}async _openRedirect(e,n,s,o){await this._originValidation(e);const u=await Y0(e,n,s,Rm(),o);return QR(u),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:o,promise:u}=this.eventManagers[n];return o?Promise.resolve(o):(ti(u,"If manager is not set, promise should be"),u)}const s=this.initAndGetManager(e);return this.eventManagers[n]={promise:s},s.catch(()=>{delete this.eventManagers[n]}),s}async initAndGetManager(e){const n=await O2(e),s=new g2(e);return n.register("authEvent",o=>(be(o==null?void 0:o.authEvent,e,"invalid-auth-event"),{status:s.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:s},this.iframes[e._key()]=n,s}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(pm,{type:pm},o=>{var u;const f=(u=o==null?void 0:o[0])===null||u===void 0?void 0:u[pm];f!==void 0&&n(!!f),Kn(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=T2(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return HE()||PE()||hp()}}const G2=F2;var $0="@firebase/auth",X0="1.10.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K2{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(s=>{e((s==null?void 0:s.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){be(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Q2(i){switch(i){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function Y2(i){ro(new Ks("auth",(e,{options:n})=>{const s=e.getProvider("app").getImmediate(),o=e.getProvider("heartbeat"),u=e.getProvider("app-check-internal"),{apiKey:f,authDomain:m}=s.options;be(f&&!f.includes(":"),"invalid-api-key",{appName:s.name});const p={apiKey:f,authDomain:m,clientPlatform:i,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:qE(i)},y=new uR(s,o,u,p);return _R(y,n),y},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,s)=>{e.getProvider("auth-internal").initialize()})),ro(new Ks("auth-internal",e=>{const n=Zs(e.getProvider("auth").getImmediate());return(s=>new K2(s))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Gi($0,X0,Q2(i)),Gi($0,X0,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $2=5*60,X2=EE("authIdTokenMaxAge")||$2;let W0=null;const W2=i=>async e=>{const n=e&&await e.getIdTokenResult(),s=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(s&&s>X2)return;const o=n==null?void 0:n.token;W0!==o&&(W0=o,await fetch(i,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function Z2(i=wE()){const e=ap(i,"auth");if(e.isInitialized())return e.getImmediate();const n=vR(i,{popupRedirectResolver:G2,persistence:[n2,FR,eT]}),s=EE("authTokenSyncURL");if(s&&typeof isSecureContext=="boolean"&&isSecureContext){const u=new URL(s,location.origin);if(location.origin===u.origin){const f=W2(u.toString());jR(n,f,()=>f(n.currentUser)),UR(n,m=>f(m))}}const o=vE("auth");return o&&ER(n,`http://${o}`),n}function J2(){var i,e;return(e=(i=document.getElementsByTagName("head"))===null||i===void 0?void 0:i[0])!==null&&e!==void 0?e:document}cR({loadJS(i){return new Promise((e,n)=>{const s=document.createElement("script");s.setAttribute("src",i),s.onload=e,s.onerror=o=>{const u=gr("internal-error");u.customData=o,n(u)},s.type="text/javascript",s.charset="UTF-8",J2().appendChild(s)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});Y2("Browser");var eI="firebase",tI="11.6.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Gi(eI,tI,"app");var Z0=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Ki,oT;(function(){var i;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(V,x){function I(){}I.prototype=x.prototype,V.D=x.prototype,V.prototype=new I,V.prototype.constructor=V,V.C=function(O,U,z){for(var C=Array(arguments.length-2),at=2;at<arguments.length;at++)C[at-2]=arguments[at];return x.prototype[U].apply(O,C)}}function n(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(s,n),s.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(V,x,I){I||(I=0);var O=Array(16);if(typeof x=="string")for(var U=0;16>U;++U)O[U]=x.charCodeAt(I++)|x.charCodeAt(I++)<<8|x.charCodeAt(I++)<<16|x.charCodeAt(I++)<<24;else for(U=0;16>U;++U)O[U]=x[I++]|x[I++]<<8|x[I++]<<16|x[I++]<<24;x=V.g[0],I=V.g[1],U=V.g[2];var z=V.g[3],C=x+(z^I&(U^z))+O[0]+3614090360&4294967295;x=I+(C<<7&4294967295|C>>>25),C=z+(U^x&(I^U))+O[1]+3905402710&4294967295,z=x+(C<<12&4294967295|C>>>20),C=U+(I^z&(x^I))+O[2]+606105819&4294967295,U=z+(C<<17&4294967295|C>>>15),C=I+(x^U&(z^x))+O[3]+3250441966&4294967295,I=U+(C<<22&4294967295|C>>>10),C=x+(z^I&(U^z))+O[4]+4118548399&4294967295,x=I+(C<<7&4294967295|C>>>25),C=z+(U^x&(I^U))+O[5]+1200080426&4294967295,z=x+(C<<12&4294967295|C>>>20),C=U+(I^z&(x^I))+O[6]+2821735955&4294967295,U=z+(C<<17&4294967295|C>>>15),C=I+(x^U&(z^x))+O[7]+4249261313&4294967295,I=U+(C<<22&4294967295|C>>>10),C=x+(z^I&(U^z))+O[8]+1770035416&4294967295,x=I+(C<<7&4294967295|C>>>25),C=z+(U^x&(I^U))+O[9]+2336552879&4294967295,z=x+(C<<12&4294967295|C>>>20),C=U+(I^z&(x^I))+O[10]+4294925233&4294967295,U=z+(C<<17&4294967295|C>>>15),C=I+(x^U&(z^x))+O[11]+2304563134&4294967295,I=U+(C<<22&4294967295|C>>>10),C=x+(z^I&(U^z))+O[12]+1804603682&4294967295,x=I+(C<<7&4294967295|C>>>25),C=z+(U^x&(I^U))+O[13]+4254626195&4294967295,z=x+(C<<12&4294967295|C>>>20),C=U+(I^z&(x^I))+O[14]+2792965006&4294967295,U=z+(C<<17&4294967295|C>>>15),C=I+(x^U&(z^x))+O[15]+1236535329&4294967295,I=U+(C<<22&4294967295|C>>>10),C=x+(U^z&(I^U))+O[1]+4129170786&4294967295,x=I+(C<<5&4294967295|C>>>27),C=z+(I^U&(x^I))+O[6]+3225465664&4294967295,z=x+(C<<9&4294967295|C>>>23),C=U+(x^I&(z^x))+O[11]+643717713&4294967295,U=z+(C<<14&4294967295|C>>>18),C=I+(z^x&(U^z))+O[0]+3921069994&4294967295,I=U+(C<<20&4294967295|C>>>12),C=x+(U^z&(I^U))+O[5]+3593408605&4294967295,x=I+(C<<5&4294967295|C>>>27),C=z+(I^U&(x^I))+O[10]+38016083&4294967295,z=x+(C<<9&4294967295|C>>>23),C=U+(x^I&(z^x))+O[15]+3634488961&4294967295,U=z+(C<<14&4294967295|C>>>18),C=I+(z^x&(U^z))+O[4]+3889429448&4294967295,I=U+(C<<20&4294967295|C>>>12),C=x+(U^z&(I^U))+O[9]+568446438&4294967295,x=I+(C<<5&4294967295|C>>>27),C=z+(I^U&(x^I))+O[14]+3275163606&4294967295,z=x+(C<<9&4294967295|C>>>23),C=U+(x^I&(z^x))+O[3]+4107603335&4294967295,U=z+(C<<14&4294967295|C>>>18),C=I+(z^x&(U^z))+O[8]+1163531501&4294967295,I=U+(C<<20&4294967295|C>>>12),C=x+(U^z&(I^U))+O[13]+2850285829&4294967295,x=I+(C<<5&4294967295|C>>>27),C=z+(I^U&(x^I))+O[2]+4243563512&4294967295,z=x+(C<<9&4294967295|C>>>23),C=U+(x^I&(z^x))+O[7]+1735328473&4294967295,U=z+(C<<14&4294967295|C>>>18),C=I+(z^x&(U^z))+O[12]+2368359562&4294967295,I=U+(C<<20&4294967295|C>>>12),C=x+(I^U^z)+O[5]+4294588738&4294967295,x=I+(C<<4&4294967295|C>>>28),C=z+(x^I^U)+O[8]+2272392833&4294967295,z=x+(C<<11&4294967295|C>>>21),C=U+(z^x^I)+O[11]+1839030562&4294967295,U=z+(C<<16&4294967295|C>>>16),C=I+(U^z^x)+O[14]+4259657740&4294967295,I=U+(C<<23&4294967295|C>>>9),C=x+(I^U^z)+O[1]+2763975236&4294967295,x=I+(C<<4&4294967295|C>>>28),C=z+(x^I^U)+O[4]+1272893353&4294967295,z=x+(C<<11&4294967295|C>>>21),C=U+(z^x^I)+O[7]+4139469664&4294967295,U=z+(C<<16&4294967295|C>>>16),C=I+(U^z^x)+O[10]+3200236656&4294967295,I=U+(C<<23&4294967295|C>>>9),C=x+(I^U^z)+O[13]+681279174&4294967295,x=I+(C<<4&4294967295|C>>>28),C=z+(x^I^U)+O[0]+3936430074&4294967295,z=x+(C<<11&4294967295|C>>>21),C=U+(z^x^I)+O[3]+3572445317&4294967295,U=z+(C<<16&4294967295|C>>>16),C=I+(U^z^x)+O[6]+76029189&4294967295,I=U+(C<<23&4294967295|C>>>9),C=x+(I^U^z)+O[9]+3654602809&4294967295,x=I+(C<<4&4294967295|C>>>28),C=z+(x^I^U)+O[12]+3873151461&4294967295,z=x+(C<<11&4294967295|C>>>21),C=U+(z^x^I)+O[15]+530742520&4294967295,U=z+(C<<16&4294967295|C>>>16),C=I+(U^z^x)+O[2]+3299628645&4294967295,I=U+(C<<23&4294967295|C>>>9),C=x+(U^(I|~z))+O[0]+4096336452&4294967295,x=I+(C<<6&4294967295|C>>>26),C=z+(I^(x|~U))+O[7]+1126891415&4294967295,z=x+(C<<10&4294967295|C>>>22),C=U+(x^(z|~I))+O[14]+2878612391&4294967295,U=z+(C<<15&4294967295|C>>>17),C=I+(z^(U|~x))+O[5]+4237533241&4294967295,I=U+(C<<21&4294967295|C>>>11),C=x+(U^(I|~z))+O[12]+1700485571&4294967295,x=I+(C<<6&4294967295|C>>>26),C=z+(I^(x|~U))+O[3]+2399980690&4294967295,z=x+(C<<10&4294967295|C>>>22),C=U+(x^(z|~I))+O[10]+4293915773&4294967295,U=z+(C<<15&4294967295|C>>>17),C=I+(z^(U|~x))+O[1]+2240044497&4294967295,I=U+(C<<21&4294967295|C>>>11),C=x+(U^(I|~z))+O[8]+1873313359&4294967295,x=I+(C<<6&4294967295|C>>>26),C=z+(I^(x|~U))+O[15]+4264355552&4294967295,z=x+(C<<10&4294967295|C>>>22),C=U+(x^(z|~I))+O[6]+2734768916&4294967295,U=z+(C<<15&4294967295|C>>>17),C=I+(z^(U|~x))+O[13]+1309151649&4294967295,I=U+(C<<21&4294967295|C>>>11),C=x+(U^(I|~z))+O[4]+4149444226&4294967295,x=I+(C<<6&4294967295|C>>>26),C=z+(I^(x|~U))+O[11]+3174756917&4294967295,z=x+(C<<10&4294967295|C>>>22),C=U+(x^(z|~I))+O[2]+718787259&4294967295,U=z+(C<<15&4294967295|C>>>17),C=I+(z^(U|~x))+O[9]+3951481745&4294967295,V.g[0]=V.g[0]+x&4294967295,V.g[1]=V.g[1]+(U+(C<<21&4294967295|C>>>11))&4294967295,V.g[2]=V.g[2]+U&4294967295,V.g[3]=V.g[3]+z&4294967295}s.prototype.u=function(V,x){x===void 0&&(x=V.length);for(var I=x-this.blockSize,O=this.B,U=this.h,z=0;z<x;){if(U==0)for(;z<=I;)o(this,V,z),z+=this.blockSize;if(typeof V=="string"){for(;z<x;)if(O[U++]=V.charCodeAt(z++),U==this.blockSize){o(this,O),U=0;break}}else for(;z<x;)if(O[U++]=V[z++],U==this.blockSize){o(this,O),U=0;break}}this.h=U,this.o+=x},s.prototype.v=function(){var V=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);V[0]=128;for(var x=1;x<V.length-8;++x)V[x]=0;var I=8*this.o;for(x=V.length-8;x<V.length;++x)V[x]=I&255,I/=256;for(this.u(V),V=Array(16),x=I=0;4>x;++x)for(var O=0;32>O;O+=8)V[I++]=this.g[x]>>>O&255;return V};function u(V,x){var I=m;return Object.prototype.hasOwnProperty.call(I,V)?I[V]:I[V]=x(V)}function f(V,x){this.h=x;for(var I=[],O=!0,U=V.length-1;0<=U;U--){var z=V[U]|0;O&&z==x||(I[U]=z,O=!1)}this.g=I}var m={};function p(V){return-128<=V&&128>V?u(V,function(x){return new f([x|0],0>x?-1:0)}):new f([V|0],0>V?-1:0)}function y(V){if(isNaN(V)||!isFinite(V))return w;if(0>V)return P(y(-V));for(var x=[],I=1,O=0;V>=I;O++)x[O]=V/I|0,I*=4294967296;return new f(x,0)}function E(V,x){if(V.length==0)throw Error("number format error: empty string");if(x=x||10,2>x||36<x)throw Error("radix out of range: "+x);if(V.charAt(0)=="-")return P(E(V.substring(1),x));if(0<=V.indexOf("-"))throw Error('number format error: interior "-" character');for(var I=y(Math.pow(x,8)),O=w,U=0;U<V.length;U+=8){var z=Math.min(8,V.length-U),C=parseInt(V.substring(U,U+z),x);8>z?(z=y(Math.pow(x,z)),O=O.j(z).add(y(C))):(O=O.j(I),O=O.add(y(C)))}return O}var w=p(0),A=p(1),k=p(16777216);i=f.prototype,i.m=function(){if(M(this))return-P(this).m();for(var V=0,x=1,I=0;I<this.g.length;I++){var O=this.i(I);V+=(0<=O?O:4294967296+O)*x,x*=4294967296}return V},i.toString=function(V){if(V=V||10,2>V||36<V)throw Error("radix out of range: "+V);if(N(this))return"0";if(M(this))return"-"+P(this).toString(V);for(var x=y(Math.pow(V,6)),I=this,O="";;){var U=he(I,x).g;I=K(I,U.j(x));var z=((0<I.g.length?I.g[0]:I.h)>>>0).toString(V);if(I=U,N(I))return z+O;for(;6>z.length;)z="0"+z;O=z+O}},i.i=function(V){return 0>V?0:V<this.g.length?this.g[V]:this.h};function N(V){if(V.h!=0)return!1;for(var x=0;x<V.g.length;x++)if(V.g[x]!=0)return!1;return!0}function M(V){return V.h==-1}i.l=function(V){return V=K(this,V),M(V)?-1:N(V)?0:1};function P(V){for(var x=V.g.length,I=[],O=0;O<x;O++)I[O]=~V.g[O];return new f(I,~V.h).add(A)}i.abs=function(){return M(this)?P(this):this},i.add=function(V){for(var x=Math.max(this.g.length,V.g.length),I=[],O=0,U=0;U<=x;U++){var z=O+(this.i(U)&65535)+(V.i(U)&65535),C=(z>>>16)+(this.i(U)>>>16)+(V.i(U)>>>16);O=C>>>16,z&=65535,C&=65535,I[U]=C<<16|z}return new f(I,I[I.length-1]&-2147483648?-1:0)};function K(V,x){return V.add(P(x))}i.j=function(V){if(N(this)||N(V))return w;if(M(this))return M(V)?P(this).j(P(V)):P(P(this).j(V));if(M(V))return P(this.j(P(V)));if(0>this.l(k)&&0>V.l(k))return y(this.m()*V.m());for(var x=this.g.length+V.g.length,I=[],O=0;O<2*x;O++)I[O]=0;for(O=0;O<this.g.length;O++)for(var U=0;U<V.g.length;U++){var z=this.i(O)>>>16,C=this.i(O)&65535,at=V.i(U)>>>16,We=V.i(U)&65535;I[2*O+2*U]+=C*We,se(I,2*O+2*U),I[2*O+2*U+1]+=z*We,se(I,2*O+2*U+1),I[2*O+2*U+1]+=C*at,se(I,2*O+2*U+1),I[2*O+2*U+2]+=z*at,se(I,2*O+2*U+2)}for(O=0;O<x;O++)I[O]=I[2*O+1]<<16|I[2*O];for(O=x;O<2*x;O++)I[O]=0;return new f(I,0)};function se(V,x){for(;(V[x]&65535)!=V[x];)V[x+1]+=V[x]>>>16,V[x]&=65535,x++}function X(V,x){this.g=V,this.h=x}function he(V,x){if(N(x))throw Error("division by zero");if(N(V))return new X(w,w);if(M(V))return x=he(P(V),x),new X(P(x.g),P(x.h));if(M(x))return x=he(V,P(x)),new X(P(x.g),x.h);if(30<V.g.length){if(M(V)||M(x))throw Error("slowDivide_ only works with positive integers.");for(var I=A,O=x;0>=O.l(V);)I=le(I),O=le(O);var U=me(I,1),z=me(O,1);for(O=me(O,2),I=me(I,2);!N(O);){var C=z.add(O);0>=C.l(V)&&(U=U.add(I),z=C),O=me(O,1),I=me(I,1)}return x=K(V,U.j(x)),new X(U,x)}for(U=w;0<=V.l(x);){for(I=Math.max(1,Math.floor(V.m()/x.m())),O=Math.ceil(Math.log(I)/Math.LN2),O=48>=O?1:Math.pow(2,O-48),z=y(I),C=z.j(x);M(C)||0<C.l(V);)I-=O,z=y(I),C=z.j(x);N(z)&&(z=A),U=U.add(z),V=K(V,C)}return new X(U,V)}i.A=function(V){return he(this,V).h},i.and=function(V){for(var x=Math.max(this.g.length,V.g.length),I=[],O=0;O<x;O++)I[O]=this.i(O)&V.i(O);return new f(I,this.h&V.h)},i.or=function(V){for(var x=Math.max(this.g.length,V.g.length),I=[],O=0;O<x;O++)I[O]=this.i(O)|V.i(O);return new f(I,this.h|V.h)},i.xor=function(V){for(var x=Math.max(this.g.length,V.g.length),I=[],O=0;O<x;O++)I[O]=this.i(O)^V.i(O);return new f(I,this.h^V.h)};function le(V){for(var x=V.g.length+1,I=[],O=0;O<x;O++)I[O]=V.i(O)<<1|V.i(O-1)>>>31;return new f(I,V.h)}function me(V,x){var I=x>>5;x%=32;for(var O=V.g.length-I,U=[],z=0;z<O;z++)U[z]=0<x?V.i(z+I)>>>x|V.i(z+I+1)<<32-x:V.i(z+I);return new f(U,V.h)}s.prototype.digest=s.prototype.v,s.prototype.reset=s.prototype.s,s.prototype.update=s.prototype.u,oT=s,f.prototype.add=f.prototype.add,f.prototype.multiply=f.prototype.j,f.prototype.modulo=f.prototype.A,f.prototype.compare=f.prototype.l,f.prototype.toNumber=f.prototype.m,f.prototype.toString=f.prototype.toString,f.prototype.getBits=f.prototype.i,f.fromNumber=y,f.fromString=E,Ki=f}).apply(typeof Z0<"u"?Z0:typeof self<"u"?self:typeof window<"u"?window:{});var qc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var lT,Ll,uT,th,Dm,cT,hT,fT;(function(){var i,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(c,g,v){return c==Array.prototype||c==Object.prototype||(c[g]=v.value),c};function n(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof qc=="object"&&qc];for(var g=0;g<c.length;++g){var v=c[g];if(v&&v.Math==Math)return v}throw Error("Cannot find global object")}var s=n(this);function o(c,g){if(g)e:{var v=s;c=c.split(".");for(var S=0;S<c.length-1;S++){var H=c[S];if(!(H in v))break e;v=v[H]}c=c[c.length-1],S=v[c],g=g(S),g!=S&&g!=null&&e(v,c,{configurable:!0,writable:!0,value:g})}}function u(c,g){c instanceof String&&(c+="");var v=0,S=!1,H={next:function(){if(!S&&v<c.length){var $=v++;return{value:g($,c[$]),done:!1}}return S=!0,{done:!0,value:void 0}}};return H[Symbol.iterator]=function(){return H},H}o("Array.prototype.values",function(c){return c||function(){return u(this,function(g,v){return v})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var f=f||{},m=this||self;function p(c){var g=typeof c;return g=g!="object"?g:c?Array.isArray(c)?"array":g:"null",g=="array"||g=="object"&&typeof c.length=="number"}function y(c){var g=typeof c;return g=="object"&&c!=null||g=="function"}function E(c,g,v){return c.call.apply(c.bind,arguments)}function w(c,g,v){if(!c)throw Error();if(2<arguments.length){var S=Array.prototype.slice.call(arguments,2);return function(){var H=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(H,S),c.apply(g,H)}}return function(){return c.apply(g,arguments)}}function A(c,g,v){return A=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?E:w,A.apply(null,arguments)}function k(c,g){var v=Array.prototype.slice.call(arguments,1);return function(){var S=v.slice();return S.push.apply(S,arguments),c.apply(this,S)}}function N(c,g){function v(){}v.prototype=g.prototype,c.aa=g.prototype,c.prototype=new v,c.prototype.constructor=c,c.Qb=function(S,H,$){for(var ce=Array(arguments.length-2),je=2;je<arguments.length;je++)ce[je-2]=arguments[je];return g.prototype[H].apply(S,ce)}}function M(c){const g=c.length;if(0<g){const v=Array(g);for(let S=0;S<g;S++)v[S]=c[S];return v}return[]}function P(c,g){for(let v=1;v<arguments.length;v++){const S=arguments[v];if(p(S)){const H=c.length||0,$=S.length||0;c.length=H+$;for(let ce=0;ce<$;ce++)c[H+ce]=S[ce]}else c.push(S)}}class K{constructor(g,v){this.i=g,this.j=v,this.h=0,this.g=null}get(){let g;return 0<this.h?(this.h--,g=this.g,this.g=g.next,g.next=null):g=this.i(),g}}function se(c){return/^[\s\xa0]*$/.test(c)}function X(){var c=m.navigator;return c&&(c=c.userAgent)?c:""}function he(c){return he[" "](c),c}he[" "]=function(){};var le=X().indexOf("Gecko")!=-1&&!(X().toLowerCase().indexOf("webkit")!=-1&&X().indexOf("Edge")==-1)&&!(X().indexOf("Trident")!=-1||X().indexOf("MSIE")!=-1)&&X().indexOf("Edge")==-1;function me(c,g,v){for(const S in c)g.call(v,c[S],S,c)}function V(c,g){for(const v in c)g.call(void 0,c[v],v,c)}function x(c){const g={};for(const v in c)g[v]=c[v];return g}const I="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function O(c,g){let v,S;for(let H=1;H<arguments.length;H++){S=arguments[H];for(v in S)c[v]=S[v];for(let $=0;$<I.length;$++)v=I[$],Object.prototype.hasOwnProperty.call(S,v)&&(c[v]=S[v])}}function U(c){var g=1;c=c.split(":");const v=[];for(;0<g&&c.length;)v.push(c.shift()),g--;return c.length&&v.push(c.join(":")),v}function z(c){m.setTimeout(()=>{throw c},0)}function C(){var c=te;let g=null;return c.g&&(g=c.g,c.g=c.g.next,c.g||(c.h=null),g.next=null),g}class at{constructor(){this.h=this.g=null}add(g,v){const S=We.get();S.set(g,v),this.h?this.h.next=S:this.g=S,this.h=S}}var We=new K(()=>new Z,c=>c.reset());class Z{constructor(){this.next=this.g=this.h=null}set(g,v){this.h=g,this.g=v,this.next=null}reset(){this.next=this.g=this.h=null}}let ue,re=!1,te=new at,R=()=>{const c=m.Promise.resolve(void 0);ue=()=>{c.then(Y)}};var Y=()=>{for(var c;c=C();){try{c.h.call(c.g)}catch(v){z(v)}var g=We;g.j(c),100>g.h&&(g.h++,c.next=g.g,g.g=c)}re=!1};function J(){this.s=this.s,this.C=this.C}J.prototype.s=!1,J.prototype.ma=function(){this.s||(this.s=!0,this.N())},J.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function W(c,g){this.type=c,this.g=this.target=g,this.defaultPrevented=!1}W.prototype.h=function(){this.defaultPrevented=!0};var fe=function(){if(!m.addEventListener||!Object.defineProperty)return!1;var c=!1,g=Object.defineProperty({},"passive",{get:function(){c=!0}});try{const v=()=>{};m.addEventListener("test",v,g),m.removeEventListener("test",v,g)}catch{}return c}();function Re(c,g){if(W.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c){var v=this.type=c.type,S=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;if(this.target=c.target||c.srcElement,this.g=g,g=c.relatedTarget){if(le){e:{try{he(g.nodeName);var H=!0;break e}catch{}H=!1}H||(g=null)}}else v=="mouseover"?g=c.fromElement:v=="mouseout"&&(g=c.toElement);this.relatedTarget=g,S?(this.clientX=S.clientX!==void 0?S.clientX:S.pageX,this.clientY=S.clientY!==void 0?S.clientY:S.pageY,this.screenX=S.screenX||0,this.screenY=S.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=typeof c.pointerType=="string"?c.pointerType:ye[c.pointerType]||"",this.state=c.state,this.i=c,c.defaultPrevented&&Re.aa.h.call(this)}}N(Re,W);var ye={2:"touch",3:"pen",4:"mouse"};Re.prototype.h=function(){Re.aa.h.call(this);var c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var Ae="closure_listenable_"+(1e6*Math.random()|0),ke=0;function Xn(c,g,v,S,H){this.listener=c,this.proxy=null,this.src=g,this.type=v,this.capture=!!S,this.ha=H,this.key=++ke,this.da=this.fa=!1}function ai(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function br(c){this.src=c,this.g={},this.h=0}br.prototype.add=function(c,g,v,S,H){var $=c.toString();c=this.g[$],c||(c=this.g[$]=[],this.h++);var ce=as(c,g,S,H);return-1<ce?(g=c[ce],v||(g.fa=!1)):(g=new Xn(g,this.src,$,!!S,H),g.fa=v,c.push(g)),g};function ss(c,g){var v=g.type;if(v in c.g){var S=c.g[v],H=Array.prototype.indexOf.call(S,g,void 0),$;($=0<=H)&&Array.prototype.splice.call(S,H,1),$&&(ai(g),c.g[v].length==0&&(delete c.g[v],c.h--))}}function as(c,g,v,S){for(var H=0;H<c.length;++H){var $=c[H];if(!$.da&&$.listener==g&&$.capture==!!v&&$.ha==S)return H}return-1}var os="closure_lm_"+(1e6*Math.random()|0),bo={};function yu(c,g,v,S,H){if(Array.isArray(g)){for(var $=0;$<g.length;$++)yu(c,g[$],v,S,H);return null}return v=vu(v),c&&c[Ae]?c.K(g,v,y(S)?!!S.capture:!1,H):bn(c,g,v,!1,S,H)}function bn(c,g,v,S,H,$){if(!g)throw Error("Invalid event type");var ce=y(H)?!!H.capture:!!H,je=ra(c);if(je||(c[os]=je=new br(c)),v=je.add(g,v,S,ce,$),v.proxy)return v;if(S=ef(),v.proxy=S,S.src=c,S.listener=v,c.addEventListener)fe||(H=ce),H===void 0&&(H=!1),c.addEventListener(g.toString(),S,H);else if(c.attachEvent)c.attachEvent(ls(g.toString()),S);else if(c.addListener&&c.removeListener)c.addListener(S);else throw Error("addEventListener and attachEvent are unavailable.");return v}function ef(){function c(v){return g.call(c.src,c.listener,v)}const g=tf;return c}function So(c,g,v,S,H){if(Array.isArray(g))for(var $=0;$<g.length;$++)So(c,g[$],v,S,H);else S=y(S)?!!S.capture:!!S,v=vu(v),c&&c[Ae]?(c=c.i,g=String(g).toString(),g in c.g&&($=c.g[g],v=as($,v,S,H),-1<v&&(ai($[v]),Array.prototype.splice.call($,v,1),$.length==0&&(delete c.g[g],c.h--)))):c&&(c=ra(c))&&(g=c.g[g.toString()],c=-1,g&&(c=as(g,v,S,H)),(v=-1<c?g[c]:null)&&na(v))}function na(c){if(typeof c!="number"&&c&&!c.da){var g=c.src;if(g&&g[Ae])ss(g.i,c);else{var v=c.type,S=c.proxy;g.removeEventListener?g.removeEventListener(v,S,c.capture):g.detachEvent?g.detachEvent(ls(v),S):g.addListener&&g.removeListener&&g.removeListener(S),(v=ra(g))?(ss(v,c),v.h==0&&(v.src=null,g[os]=null)):ai(c)}}}function ls(c){return c in bo?bo[c]:bo[c]="on"+c}function tf(c,g){if(c.da)c=!0;else{g=new Re(g,this);var v=c.listener,S=c.ha||c.src;c.fa&&na(c),c=v.call(S,g)}return c}function ra(c){return c=c[os],c instanceof br?c:null}var wo="__closure_events_fn_"+(1e9*Math.random()>>>0);function vu(c){return typeof c=="function"?c:(c[wo]||(c[wo]=function(g){return c.handleEvent(g)}),c[wo])}function ft(){J.call(this),this.i=new br(this),this.M=this,this.F=null}N(ft,J),ft.prototype[Ae]=!0,ft.prototype.removeEventListener=function(c,g,v,S){So(this,c,g,v,S)};function Ye(c,g){var v,S=c.F;if(S)for(v=[];S;S=S.F)v.push(S);if(c=c.M,S=g.type||g,typeof g=="string")g=new W(g,c);else if(g instanceof W)g.target=g.target||c;else{var H=g;g=new W(S,c),O(g,H)}if(H=!0,v)for(var $=v.length-1;0<=$;$--){var ce=g.g=v[$];H=fn(ce,S,!0,g)&&H}if(ce=g.g=c,H=fn(ce,S,!0,g)&&H,H=fn(ce,S,!1,g)&&H,v)for($=0;$<v.length;$++)ce=g.g=v[$],H=fn(ce,S,!1,g)&&H}ft.prototype.N=function(){if(ft.aa.N.call(this),this.i){var c=this.i,g;for(g in c.g){for(var v=c.g[g],S=0;S<v.length;S++)ai(v[S]);delete c.g[g],c.h--}}this.F=null},ft.prototype.K=function(c,g,v,S){return this.i.add(String(c),g,!1,v,S)},ft.prototype.L=function(c,g,v,S){return this.i.add(String(c),g,!0,v,S)};function fn(c,g,v,S){if(g=c.i.g[String(g)],!g)return!0;g=g.concat();for(var H=!0,$=0;$<g.length;++$){var ce=g[$];if(ce&&!ce.da&&ce.capture==v){var je=ce.listener,xt=ce.ha||ce.src;ce.fa&&ss(c.i,ce),H=je.call(xt,S)!==!1&&H}}return H&&!S.defaultPrevented}function Qt(c,g,v){if(typeof c=="function")v&&(c=A(c,v));else if(c&&typeof c.handleEvent=="function")c=A(c.handleEvent,c);else throw Error("Invalid listener argument");return 2147483647<Number(g)?-1:m.setTimeout(c,g||0)}function _u(c){c.g=Qt(()=>{c.g=null,c.i&&(c.i=!1,_u(c))},c.l);const g=c.h;c.h=null,c.m.apply(null,g)}class nf extends J{constructor(g,v){super(),this.m=g,this.l=v,this.h=null,this.i=!1,this.g=null}j(g){this.h=arguments,this.g?this.i=!0:_u(this)}N(){super.N(),this.g&&(m.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function us(c){J.call(this),this.h=c,this.g={}}N(us,J);var cs=[];function hs(c){me(c.g,function(g,v){this.g.hasOwnProperty(v)&&na(g)},c),c.g={}}us.prototype.N=function(){us.aa.N.call(this),hs(this)},us.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var jn=m.JSON.stringify,ia=m.JSON.parse,fs=class{stringify(c){return m.JSON.stringify(c,void 0)}parse(c){return m.JSON.parse(c,void 0)}};function Ao(){}Ao.prototype.h=null;function xo(c){return c.h||(c.h=c.i())}function Ro(){}var Sr={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function wr(){W.call(this,"d")}N(wr,W);function Io(){W.call(this,"c")}N(Io,W);var Wn={},Co=null;function oi(){return Co=Co||new ft}Wn.La="serverreachability";function sa(c){W.call(this,Wn.La,c)}N(sa,W);function li(c){const g=oi();Ye(g,new sa(g))}Wn.STAT_EVENT="statevent";function Eu(c,g){W.call(this,Wn.STAT_EVENT,c),this.stat=g}N(Eu,W);function ot(c){const g=oi();Ye(g,new Eu(g,c))}Wn.Ma="timingevent";function At(c,g){W.call(this,Wn.Ma,c),this.size=g}N(At,W);function _t(c,g){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return m.setTimeout(function(){c()},g)}function Sn(){this.g=!0}Sn.prototype.xa=function(){this.g=!1};function No(c,g,v,S,H,$){c.info(function(){if(c.g)if($)for(var ce="",je=$.split("&"),xt=0;xt<je.length;xt++){var ze=je[xt].split("=");if(1<ze.length){var Mt=ze[0];ze=ze[1];var Rt=Mt.split("_");ce=2<=Rt.length&&Rt[1]=="type"?ce+(Mt+"="+ze+"&"):ce+(Mt+"=redacted&")}}else ce=null;else ce=$;return"XMLHTTP REQ ("+S+") [attempt "+H+"]: "+g+`
`+v+`
`+ce})}function rf(c,g,v,S,H,$,ce){c.info(function(){return"XMLHTTP RESP ("+S+") [ attempt "+H+"]: "+g+`
`+v+`
`+$+" "+ce})}function ui(c,g,v,S){c.info(function(){return"XMLHTTP TEXT ("+g+"): "+ds(c,v)+(S?" "+S:"")})}function Tu(c,g){c.info(function(){return"TIMEOUT: "+g})}Sn.prototype.info=function(){};function ds(c,g){if(!c.g)return g;if(!g)return null;try{var v=JSON.parse(g);if(v){for(c=0;c<v.length;c++)if(Array.isArray(v[c])){var S=v[c];if(!(2>S.length)){var H=S[1];if(Array.isArray(H)&&!(1>H.length)){var $=H[0];if($!="noop"&&$!="stop"&&$!="close")for(var ce=1;ce<H.length;ce++)H[ce]=""}}}}return jn(v)}catch{return g}}var ci={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Ar={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Zn;function Jn(){}N(Jn,Ao),Jn.prototype.g=function(){return new XMLHttpRequest},Jn.prototype.i=function(){return{}},Zn=new Jn;function en(c,g,v,S){this.j=c,this.i=g,this.l=v,this.R=S||1,this.U=new us(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new pt}function pt(){this.i=null,this.g="",this.h=!1}var Do={},aa={};function zn(c,g,v){c.L=1,c.v=vs(dn(g)),c.m=v,c.P=!0,xr(c,null)}function xr(c,g){c.F=Date.now(),ms(c),c.A=dn(c.v);var v=c.A,S=c.R;Array.isArray(S)||(S=[String(S)]),Lo(v.i,"t",S),c.C=0,v=c.j.J,c.h=new pt,c.g=Lu(c.j,v?g:null,!c.m),0<c.O&&(c.M=new nf(A(c.Y,c,c.g),c.O)),g=c.U,v=c.g,S=c.ca;var H="readystatechange";Array.isArray(H)||(H&&(cs[0]=H.toString()),H=cs);for(var $=0;$<H.length;$++){var ce=yu(v,H[$],S||g.handleEvent,!1,g.h||g);if(!ce)break;g.g[ce.key]=ce}g=c.H?x(c.H):{},c.m?(c.u||(c.u="POST"),g["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.A,c.u,c.m,g)):(c.u="GET",c.g.ea(c.A,c.u,null,g)),li(),No(c.i,c.u,c.A,c.l,c.R,c.m)}en.prototype.ca=function(c){c=c.target;const g=this.M;g&&Rn(c)==3?g.j():this.Y(c)},en.prototype.Y=function(c){try{if(c==this.g)e:{const Rt=Rn(this.g);var g=this.g.Ba();const Mr=this.g.Z();if(!(3>Rt)&&(Rt!=3||this.g&&(this.h.h||this.g.oa()||Cu(this.g)))){this.J||Rt!=4||g==7||(g==8||0>=Mr?li(3):li(2)),hi(this);var v=this.g.Z();this.X=v;t:if(bu(this)){var S=Cu(this.g);c="";var H=S.length,$=Rn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){jt(this),er(this);var ce="";break t}this.h.i=new m.TextDecoder}for(g=0;g<H;g++)this.h.h=!0,c+=this.h.i.decode(S[g],{stream:!($&&g==H-1)});S.length=0,this.h.g+=c,this.C=0,ce=this.h.g}else ce=this.g.oa();if(this.o=v==200,rf(this.i,this.u,this.A,this.l,this.R,Rt,v),this.o){if(this.T&&!this.K){t:{if(this.g){var je,xt=this.g;if((je=xt.g?xt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!se(je)){var ze=je;break t}}ze=null}if(v=ze)ui(this.i,this.l,v,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,ps(this,v);else{this.o=!1,this.s=3,ot(12),jt(this),er(this);break e}}if(this.P){v=!0;let zt;for(;!this.J&&this.C<ce.length;)if(zt=Su(this,ce),zt==aa){Rt==4&&(this.s=4,ot(14),v=!1),ui(this.i,this.l,null,"[Incomplete Response]");break}else if(zt==Do){this.s=4,ot(15),ui(this.i,this.l,ce,"[Invalid Chunk]"),v=!1;break}else ui(this.i,this.l,zt,null),ps(this,zt);if(bu(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Rt!=4||ce.length!=0||this.h.h||(this.s=1,ot(16),v=!1),this.o=this.o&&v,!v)ui(this.i,this.l,ce,"[Invalid Chunked Response]"),jt(this),er(this);else if(0<ce.length&&!this.W){this.W=!0;var Mt=this.j;Mt.g==this&&Mt.ba&&!Mt.M&&(Mt.j.info("Great, no buffering proxy detected. Bytes received: "+ce.length),xs(Mt),Mt.M=!0,ot(11))}}else ui(this.i,this.l,ce,null),ps(this,ce);Rt==4&&jt(this),this.o&&!this.J&&(Rt==4?Mu(this.j,this):(this.o=!1,ms(this)))}else uf(this.g),v==400&&0<ce.indexOf("Unknown SID")?(this.s=3,ot(12)):(this.s=0,ot(13)),jt(this),er(this)}}}catch{}finally{}};function bu(c){return c.g?c.u=="GET"&&c.L!=2&&c.j.Ca:!1}function Su(c,g){var v=c.C,S=g.indexOf(`
`,v);return S==-1?aa:(v=Number(g.substring(v,S)),isNaN(v)?Do:(S+=1,S+v>g.length?aa:(g=g.slice(S,S+v),c.C=S+v,g)))}en.prototype.cancel=function(){this.J=!0,jt(this)};function ms(c){c.S=Date.now()+c.I,wu(c,c.I)}function wu(c,g){if(c.B!=null)throw Error("WatchDog timer not null");c.B=_t(A(c.ba,c),g)}function hi(c){c.B&&(m.clearTimeout(c.B),c.B=null)}en.prototype.ba=function(){this.B=null;const c=Date.now();0<=c-this.S?(Tu(this.i,this.A),this.L!=2&&(li(),ot(17)),jt(this),this.s=2,er(this)):wu(this,this.S-c)};function er(c){c.j.G==0||c.J||Mu(c.j,c)}function jt(c){hi(c);var g=c.M;g&&typeof g.ma=="function"&&g.ma(),c.M=null,hs(c.U),c.g&&(g=c.g,c.g=null,g.abort(),g.ma())}function ps(c,g){try{var v=c.j;if(v.G!=0&&(v.g==c||Oo(v.h,c))){if(!c.K&&Oo(v.h,c)&&v.G==3){try{var S=v.Da.g.parse(g)}catch{S=null}if(Array.isArray(S)&&S.length==3){var H=S;if(H[0]==0){e:if(!v.u){if(v.g)if(v.g.F+3e3<c.F)va(v),ga(v);else break e;Ho(v),ot(18)}}else v.za=H[1],0<v.za-v.T&&37500>H[2]&&v.F&&v.v==0&&!v.C&&(v.C=_t(A(v.Za,v),6e3));if(1>=la(v.h)&&v.ca){try{v.ca()}catch{}v.ca=void 0}}else kr(v,11)}else if((c.K||v.g==c)&&va(v),!se(g))for(H=v.Da.g.parse(g),g=0;g<H.length;g++){let ze=H[g];if(v.T=ze[0],ze=ze[1],v.G==2)if(ze[0]=="c"){v.K=ze[1],v.ia=ze[2];const Mt=ze[3];Mt!=null&&(v.la=Mt,v.j.info("VER="+v.la));const Rt=ze[4];Rt!=null&&(v.Aa=Rt,v.j.info("SVER="+v.Aa));const Mr=ze[5];Mr!=null&&typeof Mr=="number"&&0<Mr&&(S=1.5*Mr,v.L=S,v.j.info("backChannelRequestTimeoutMs_="+S)),S=v;const zt=c.g;if(zt){const or=zt.g?zt.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(or){var $=S.h;$.g||or.indexOf("spdy")==-1&&or.indexOf("quic")==-1&&or.indexOf("h2")==-1||($.j=$.l,$.g=new Set,$.h&&(ua($,$.h),$.h=null))}if(S.D){const Fo=zt.g?zt.g.getResponseHeader("X-HTTP-Session-Id"):null;Fo&&(S.ya=Fo,Ze(S.I,S.D,Fo))}}v.G=3,v.l&&v.l.ua(),v.ba&&(v.R=Date.now()-c.F,v.j.info("Handshake RTT: "+v.R+"ms")),S=v;var ce=c;if(S.qa=Pu(S,S.J?S.ia:null,S.W),ce.K){tn(S.h,ce);var je=ce,xt=S.L;xt&&(je.I=xt),je.B&&(hi(je),ms(je)),S.g=ce}else Ou(S);0<v.i.length&&ya(v)}else ze[0]!="stop"&&ze[0]!="close"||kr(v,7);else v.G==3&&(ze[0]=="stop"||ze[0]=="close"?ze[0]=="stop"?kr(v,7):zo(v):ze[0]!="noop"&&v.l&&v.l.ta(ze),v.v=0)}}li(4)}catch{}}var Au=class{constructor(c,g){this.g=c,this.map=g}};function Rr(c){this.l=c||10,m.PerformanceNavigationTiming?(c=m.performance.getEntriesByType("navigation"),c=0<c.length&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(m.chrome&&m.chrome.loadTimes&&m.chrome.loadTimes()&&m.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function oa(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function la(c){return c.h?1:c.g?c.g.size:0}function Oo(c,g){return c.h?c.h==g:c.g?c.g.has(g):!1}function ua(c,g){c.g?c.g.add(g):c.h=g}function tn(c,g){c.h&&c.h==g?c.h=null:c.g&&c.g.has(g)&&c.g.delete(g)}Rr.prototype.cancel=function(){if(this.i=ko(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const c of this.g.values())c.cancel();this.g.clear()}};function ko(c){if(c.h!=null)return c.i.concat(c.h.D);if(c.g!=null&&c.g.size!==0){let g=c.i;for(const v of c.g.values())g=g.concat(v.D);return g}return M(c.i)}function sf(c){if(c.V&&typeof c.V=="function")return c.V();if(typeof Map<"u"&&c instanceof Map||typeof Set<"u"&&c instanceof Set)return Array.from(c.values());if(typeof c=="string")return c.split("");if(p(c)){for(var g=[],v=c.length,S=0;S<v;S++)g.push(c[S]);return g}g=[],v=0;for(S in c)g[v++]=c[S];return g}function ca(c){if(c.na&&typeof c.na=="function")return c.na();if(!c.V||typeof c.V!="function"){if(typeof Map<"u"&&c instanceof Map)return Array.from(c.keys());if(!(typeof Set<"u"&&c instanceof Set)){if(p(c)||typeof c=="string"){var g=[];c=c.length;for(var v=0;v<c;v++)g.push(v);return g}g=[],v=0;for(const S in c)g[v++]=S;return g}}}function Mo(c,g){if(c.forEach&&typeof c.forEach=="function")c.forEach(g,void 0);else if(p(c)||typeof c=="string")Array.prototype.forEach.call(c,g,void 0);else for(var v=ca(c),S=sf(c),H=S.length,$=0;$<H;$++)g.call(void 0,S[$],v&&v[$],c)}var gs=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function af(c,g){if(c){c=c.split("&");for(var v=0;v<c.length;v++){var S=c[v].indexOf("="),H=null;if(0<=S){var $=c[v].substring(0,S);H=c[v].substring(S+1)}else $=c[v];g($,H?decodeURIComponent(H.replace(/\+/g," ")):"")}}}function Et(c){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,c instanceof Et){this.h=c.h,ys(this,c.j),this.o=c.o,this.g=c.g,fi(this,c.s),this.l=c.l;var g=c.i,v=new Cr;v.i=g.i,g.g&&(v.g=new Map(g.g),v.h=g.h),Ir(this,v),this.m=c.m}else c&&(g=String(c).match(gs))?(this.h=!1,ys(this,g[1]||"",!0),this.o=wn(g[2]||""),this.g=wn(g[3]||"",!0),fi(this,g[4]),this.l=wn(g[5]||"",!0),Ir(this,g[6]||"",!0),this.m=wn(g[7]||"")):(this.h=!1,this.i=new Cr(null,this.h))}Et.prototype.toString=function(){var c=[],g=this.j;g&&c.push(_s(g,Vo,!0),":");var v=this.g;return(v||g=="file")&&(c.push("//"),(g=this.o)&&c.push(_s(g,Vo,!0),"@"),c.push(encodeURIComponent(String(v)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),v=this.s,v!=null&&c.push(":",String(v))),(v=this.l)&&(this.g&&v.charAt(0)!="/"&&c.push("/"),c.push(_s(v,v.charAt(0)=="/"?of:Po,!0))),(v=this.i.toString())&&c.push("?",v),(v=this.m)&&c.push("#",_s(v,ha)),c.join("")};function dn(c){return new Et(c)}function ys(c,g,v){c.j=v?wn(g,!0):g,c.j&&(c.j=c.j.replace(/:$/,""))}function fi(c,g){if(g){if(g=Number(g),isNaN(g)||0>g)throw Error("Bad port number "+g);c.s=g}else c.s=null}function Ir(c,g,v){g instanceof Cr?(c.i=g,Ru(c.i,c.h)):(v||(g=_s(g,lf)),c.i=new Cr(g,c.h))}function Ze(c,g,v){c.i.set(g,v)}function vs(c){return Ze(c,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),c}function wn(c,g){return c?g?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function _s(c,g,v){return typeof c=="string"?(c=encodeURI(c).replace(g,xu),v&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function xu(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var Vo=/[#\/\?@]/g,Po=/[#\?:]/g,of=/[#\?]/g,lf=/[#\?@]/g,ha=/#/g;function Cr(c,g){this.h=this.g=null,this.i=c||null,this.j=!!g}function An(c){c.g||(c.g=new Map,c.h=0,c.i&&af(c.i,function(g,v){c.add(decodeURIComponent(g.replace(/\+/g," ")),v)}))}i=Cr.prototype,i.add=function(c,g){An(this),this.i=null,c=tr(this,c);var v=this.g.get(c);return v||this.g.set(c,v=[]),v.push(g),this.h+=1,this};function Nr(c,g){An(c),g=tr(c,g),c.g.has(g)&&(c.i=null,c.h-=c.g.get(g).length,c.g.delete(g))}function Dr(c,g){return An(c),g=tr(c,g),c.g.has(g)}i.forEach=function(c,g){An(this),this.g.forEach(function(v,S){v.forEach(function(H){c.call(g,H,S,this)},this)},this)},i.na=function(){An(this);const c=Array.from(this.g.values()),g=Array.from(this.g.keys()),v=[];for(let S=0;S<g.length;S++){const H=c[S];for(let $=0;$<H.length;$++)v.push(g[S])}return v},i.V=function(c){An(this);let g=[];if(typeof c=="string")Dr(this,c)&&(g=g.concat(this.g.get(tr(this,c))));else{c=Array.from(this.g.values());for(let v=0;v<c.length;v++)g=g.concat(c[v])}return g},i.set=function(c,g){return An(this),this.i=null,c=tr(this,c),Dr(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[g]),this.h+=1,this},i.get=function(c,g){return c?(c=this.V(c),0<c.length?String(c[0]):g):g};function Lo(c,g,v){Nr(c,g),0<v.length&&(c.i=null,c.g.set(tr(c,g),M(v)),c.h+=v.length)}i.toString=function(){if(this.i)return this.i;if(!this.g)return"";const c=[],g=Array.from(this.g.keys());for(var v=0;v<g.length;v++){var S=g[v];const $=encodeURIComponent(String(S)),ce=this.V(S);for(S=0;S<ce.length;S++){var H=$;ce[S]!==""&&(H+="="+encodeURIComponent(String(ce[S]))),c.push(H)}}return this.i=c.join("&")};function tr(c,g){return g=String(g),c.j&&(g=g.toLowerCase()),g}function Ru(c,g){g&&!c.j&&(An(c),c.i=null,c.g.forEach(function(v,S){var H=S.toLowerCase();S!=H&&(Nr(this,S),Lo(this,H,v))},c)),c.j=g}function Es(c,g){const v=new Sn;if(m.Image){const S=new Image;S.onload=k(xn,v,"TestLoadImage: loaded",!0,g,S),S.onerror=k(xn,v,"TestLoadImage: error",!1,g,S),S.onabort=k(xn,v,"TestLoadImage: abort",!1,g,S),S.ontimeout=k(xn,v,"TestLoadImage: timeout",!1,g,S),m.setTimeout(function(){S.ontimeout&&S.ontimeout()},1e4),S.src=c}else g(!1)}function Bn(c,g){const v=new Sn,S=new AbortController,H=setTimeout(()=>{S.abort(),xn(v,"TestPingServer: timeout",!1,g)},1e4);fetch(c,{signal:S.signal}).then($=>{clearTimeout(H),$.ok?xn(v,"TestPingServer: ok",!0,g):xn(v,"TestPingServer: server error",!1,g)}).catch(()=>{clearTimeout(H),xn(v,"TestPingServer: error",!1,g)})}function xn(c,g,v,S,H){try{H&&(H.onload=null,H.onerror=null,H.onabort=null,H.ontimeout=null),S(v)}catch{}}function Ts(){this.g=new fs}function nr(c,g,v){const S=v||"";try{Mo(c,function(H,$){let ce=H;y(H)&&(ce=jn(H)),g.push(S+$+"="+encodeURIComponent(ce))})}catch(H){throw g.push(S+"type="+encodeURIComponent("_badmap")),H}}function di(c){this.l=c.Ub||null,this.j=c.eb||!1}N(di,Ao),di.prototype.g=function(){return new Or(this.l,this.j)},di.prototype.i=function(c){return function(){return c}}({});function Or(c,g){ft.call(this),this.D=c,this.o=g,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}N(Or,ft),i=Or.prototype,i.open=function(c,g){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=c,this.A=g,this.readyState=1,ir(this)},i.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const g={headers:this.u,method:this.B,credentials:this.m,cache:void 0};c&&(g.body=c),(this.D||m).fetch(new Request(this.A,g)).then(this.Sa.bind(this),this.ga.bind(this))},i.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,rr(this)),this.readyState=0},i.Sa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,ir(this)),this.g&&(this.readyState=3,ir(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof m.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Uo(this)}else c.text().then(this.Ra.bind(this),this.ga.bind(this))};function Uo(c){c.j.read().then(c.Pa.bind(c)).catch(c.ga.bind(c))}i.Pa=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var g=c.value?c.value:new Uint8Array(0);(g=this.v.decode(g,{stream:!c.done}))&&(this.response=this.responseText+=g)}c.done?rr(this):ir(this),this.readyState==3&&Uo(this)}},i.Ra=function(c){this.g&&(this.response=this.responseText=c,rr(this))},i.Qa=function(c){this.g&&(this.response=c,rr(this))},i.ga=function(){this.g&&rr(this)};function rr(c){c.readyState=4,c.l=null,c.j=null,c.v=null,ir(c)}i.setRequestHeader=function(c,g){this.u.append(c,g)},i.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},i.getAllResponseHeaders=function(){if(!this.h)return"";const c=[],g=this.h.entries();for(var v=g.next();!v.done;)v=v.value,c.push(v[0]+": "+v[1]),v=g.next();return c.join(`\r
`)};function ir(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(Or.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function jo(c){let g="";return me(c,function(v,S){g+=S,g+=":",g+=v,g+=`\r
`}),g}function kt(c,g,v){e:{for(S in v){var S=!1;break e}S=!0}S||(v=jo(v),typeof c=="string"?v!=null&&encodeURIComponent(String(v)):Ze(c,g,v))}function Ke(c){ft.call(this),this.headers=new Map,this.o=c||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}N(Ke,ft);var fa=/^https?$/i,bs=["POST","PUT"];i=Ke.prototype,i.Ha=function(c){this.J=c},i.ea=function(c,g,v,S){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);g=g?g.toUpperCase():"GET",this.D=c,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Zn.g(),this.v=this.o?xo(this.o):xo(Zn),this.g.onreadystatechange=A(this.Ea,this);try{this.B=!0,this.g.open(g,String(c),!0),this.B=!1}catch($){Iu(this,$);return}if(c=v||"",v=new Map(this.headers),S)if(Object.getPrototypeOf(S)===Object.prototype)for(var H in S)v.set(H,S[H]);else if(typeof S.keys=="function"&&typeof S.get=="function")for(const $ of S.keys())v.set($,S.get($));else throw Error("Unknown input type for opt_headers: "+String(S));S=Array.from(v.keys()).find($=>$.toLowerCase()=="content-type"),H=m.FormData&&c instanceof m.FormData,!(0<=Array.prototype.indexOf.call(bs,g,void 0))||S||H||v.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[$,ce]of v)this.g.setRequestHeader($,ce);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Ss(this),this.u=!0,this.g.send(c),this.u=!1}catch($){Iu(this,$)}};function Iu(c,g){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=g,c.m=5,da(c),sr(c)}function da(c){c.A||(c.A=!0,Ye(c,"complete"),Ye(c,"error"))}i.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=c||7,Ye(this,"complete"),Ye(this,"abort"),sr(this))},i.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),sr(this,!0)),Ke.aa.N.call(this)},i.Ea=function(){this.s||(this.B||this.u||this.j?ma(this):this.bb())},i.bb=function(){ma(this)};function ma(c){if(c.h&&typeof f<"u"&&(!c.v[1]||Rn(c)!=4||c.Z()!=2)){if(c.u&&Rn(c)==4)Qt(c.Ea,0,c);else if(Ye(c,"readystatechange"),Rn(c)==4){c.h=!1;try{const ce=c.Z();e:switch(ce){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var g=!0;break e;default:g=!1}var v;if(!(v=g)){var S;if(S=ce===0){var H=String(c.D).match(gs)[1]||null;!H&&m.self&&m.self.location&&(H=m.self.location.protocol.slice(0,-1)),S=!fa.test(H?H.toLowerCase():"")}v=S}if(v)Ye(c,"complete"),Ye(c,"success");else{c.m=6;try{var $=2<Rn(c)?c.g.statusText:""}catch{$=""}c.l=$+" ["+c.Z()+"]",da(c)}}finally{sr(c)}}}}function sr(c,g){if(c.g){Ss(c);const v=c.g,S=c.v[0]?()=>{}:null;c.g=null,c.v=null,g||Ye(c,"ready");try{v.onreadystatechange=S}catch{}}}function Ss(c){c.I&&(m.clearTimeout(c.I),c.I=null)}i.isActive=function(){return!!this.g};function Rn(c){return c.g?c.g.readyState:0}i.Z=function(){try{return 2<Rn(this)?this.g.status:-1}catch{return-1}},i.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},i.Oa=function(c){if(this.g){var g=this.g.responseText;return c&&g.indexOf(c)==0&&(g=g.substring(c.length)),ia(g)}};function Cu(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.H){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function uf(c){const g={};c=(c.g&&2<=Rn(c)&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let S=0;S<c.length;S++){if(se(c[S]))continue;var v=U(c[S]);const H=v[0];if(v=v[1],typeof v!="string")continue;v=v.trim();const $=g[H]||[];g[H]=$,$.push(v)}V(g,function(S){return S.join(", ")})}i.Ba=function(){return this.m},i.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function ws(c,g,v){return v&&v.internalChannelParams&&v.internalChannelParams[c]||g}function pa(c){this.Aa=0,this.i=[],this.j=new Sn,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=ws("failFast",!1,c),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=ws("baseRetryDelayMs",5e3,c),this.cb=ws("retryDelaySeedMs",1e4,c),this.Wa=ws("forwardChannelMaxRetries",2,c),this.wa=ws("forwardChannelRequestTimeoutMs",2e4,c),this.pa=c&&c.xmlHttpFactory||void 0,this.Xa=c&&c.Tb||void 0,this.Ca=c&&c.useFetchStreams||!1,this.L=void 0,this.J=c&&c.supportsCrossDomainXhr||!1,this.K="",this.h=new Rr(c&&c.concurrentRequestLimit),this.Da=new Ts,this.P=c&&c.fastHandshake||!1,this.O=c&&c.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=c&&c.Rb||!1,c&&c.xa&&this.j.xa(),c&&c.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&c&&c.detectBufferingProxy||!1,this.ja=void 0,c&&c.longPollingTimeout&&0<c.longPollingTimeout&&(this.ja=c.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}i=pa.prototype,i.la=8,i.G=1,i.connect=function(c,g,v,S){ot(0),this.W=c,this.H=g||{},v&&S!==void 0&&(this.H.OSID=v,this.H.OAID=S),this.F=this.X,this.I=Pu(this,null,this.W),ya(this)};function zo(c){if(Nu(c),c.G==3){var g=c.U++,v=dn(c.I);if(Ze(v,"SID",c.K),Ze(v,"RID",g),Ze(v,"TYPE","terminate"),As(c,v),g=new en(c,c.j,g),g.L=2,g.v=vs(dn(v)),v=!1,m.navigator&&m.navigator.sendBeacon)try{v=m.navigator.sendBeacon(g.v.toString(),"")}catch{}!v&&m.Image&&(new Image().src=g.v,v=!0),v||(g.g=Lu(g.j,null),g.g.ea(g.v)),g.F=Date.now(),ms(g)}Vu(c)}function ga(c){c.g&&(xs(c),c.g.cancel(),c.g=null)}function Nu(c){ga(c),c.u&&(m.clearTimeout(c.u),c.u=null),va(c),c.h.cancel(),c.s&&(typeof c.s=="number"&&m.clearTimeout(c.s),c.s=null)}function ya(c){if(!oa(c.h)&&!c.s){c.s=!0;var g=c.Ga;ue||R(),re||(ue(),re=!0),te.add(g,c),c.B=0}}function cf(c,g){return la(c.h)>=c.h.j-(c.s?1:0)?!1:c.s?(c.i=g.D.concat(c.i),!0):c.G==1||c.G==2||c.B>=(c.Va?0:c.Wa)?!1:(c.s=_t(A(c.Ga,c,g),qo(c,c.B)),c.B++,!0)}i.Ga=function(c){if(this.s)if(this.s=null,this.G==1){if(!c){this.U=Math.floor(1e5*Math.random()),c=this.U++;const H=new en(this,this.j,c);let $=this.o;if(this.S&&($?($=x($),O($,this.S)):$=this.S),this.m!==null||this.O||(H.H=$,$=null),this.P)e:{for(var g=0,v=0;v<this.i.length;v++){t:{var S=this.i[v];if("__data__"in S.map&&(S=S.map.__data__,typeof S=="string")){S=S.length;break t}S=void 0}if(S===void 0)break;if(g+=S,4096<g){g=v;break e}if(g===4096||v===this.i.length-1){g=v+1;break e}}g=1e3}else g=1e3;g=Du(this,H,g),v=dn(this.I),Ze(v,"RID",c),Ze(v,"CVER",22),this.D&&Ze(v,"X-HTTP-Session-Id",this.D),As(this,v),$&&(this.O?g="headers="+encodeURIComponent(String(jo($)))+"&"+g:this.m&&kt(v,this.m,$)),ua(this.h,H),this.Ua&&Ze(v,"TYPE","init"),this.P?(Ze(v,"$req",g),Ze(v,"SID","null"),H.T=!0,zn(H,v,null)):zn(H,v,g),this.G=2}}else this.G==3&&(c?Bo(this,c):this.i.length==0||oa(this.h)||Bo(this))};function Bo(c,g){var v;g?v=g.l:v=c.U++;const S=dn(c.I);Ze(S,"SID",c.K),Ze(S,"RID",v),Ze(S,"AID",c.T),As(c,S),c.m&&c.o&&kt(S,c.m,c.o),v=new en(c,c.j,v,c.B+1),c.m===null&&(v.H=c.o),g&&(c.i=g.D.concat(c.i)),g=Du(c,v,1e3),v.I=Math.round(.5*c.wa)+Math.round(.5*c.wa*Math.random()),ua(c.h,v),zn(v,S,g)}function As(c,g){c.H&&me(c.H,function(v,S){Ze(g,S,v)}),c.l&&Mo({},function(v,S){Ze(g,S,v)})}function Du(c,g,v){v=Math.min(c.i.length,v);var S=c.l?A(c.l.Na,c.l,c):null;e:{var H=c.i;let $=-1;for(;;){const ce=["count="+v];$==-1?0<v?($=H[0].g,ce.push("ofs="+$)):$=0:ce.push("ofs="+$);let je=!0;for(let xt=0;xt<v;xt++){let ze=H[xt].g;const Mt=H[xt].map;if(ze-=$,0>ze)$=Math.max(0,H[xt].g-100),je=!1;else try{nr(Mt,ce,"req"+ze+"_")}catch{S&&S(Mt)}}if(je){S=ce.join("&");break e}}}return c=c.i.splice(0,v),g.D=c,S}function Ou(c){if(!c.g&&!c.u){c.Y=1;var g=c.Fa;ue||R(),re||(ue(),re=!0),te.add(g,c),c.v=0}}function Ho(c){return c.g||c.u||3<=c.v?!1:(c.Y++,c.u=_t(A(c.Fa,c),qo(c,c.v)),c.v++,!0)}i.Fa=function(){if(this.u=null,ku(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var c=2*this.R;this.j.info("BP detection timer enabled: "+c),this.A=_t(A(this.ab,this),c)}},i.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,ot(10),ga(this),ku(this))};function xs(c){c.A!=null&&(m.clearTimeout(c.A),c.A=null)}function ku(c){c.g=new en(c,c.j,"rpc",c.Y),c.m===null&&(c.g.H=c.o),c.g.O=0;var g=dn(c.qa);Ze(g,"RID","rpc"),Ze(g,"SID",c.K),Ze(g,"AID",c.T),Ze(g,"CI",c.F?"0":"1"),!c.F&&c.ja&&Ze(g,"TO",c.ja),Ze(g,"TYPE","xmlhttp"),As(c,g),c.m&&c.o&&kt(g,c.m,c.o),c.L&&(c.g.I=c.L);var v=c.g;c=c.ia,v.L=1,v.v=vs(dn(g)),v.m=null,v.P=!0,xr(v,c)}i.Za=function(){this.C!=null&&(this.C=null,ga(this),Ho(this),ot(19))};function va(c){c.C!=null&&(m.clearTimeout(c.C),c.C=null)}function Mu(c,g){var v=null;if(c.g==g){va(c),xs(c),c.g=null;var S=2}else if(Oo(c.h,g))v=g.D,tn(c.h,g),S=1;else return;if(c.G!=0){if(g.o)if(S==1){v=g.m?g.m.length:0,g=Date.now()-g.F;var H=c.B;S=oi(),Ye(S,new At(S,v)),ya(c)}else Ou(c);else if(H=g.s,H==3||H==0&&0<g.X||!(S==1&&cf(c,g)||S==2&&Ho(c)))switch(v&&0<v.length&&(g=c.h,g.i=g.i.concat(v)),H){case 1:kr(c,5);break;case 4:kr(c,10);break;case 3:kr(c,6);break;default:kr(c,2)}}}function qo(c,g){let v=c.Ta+Math.floor(Math.random()*c.cb);return c.isActive()||(v*=2),v*g}function kr(c,g){if(c.j.info("Error code "+g),g==2){var v=A(c.fb,c),S=c.Xa;const H=!S;S=new Et(S||"//www.google.com/images/cleardot.gif"),m.location&&m.location.protocol=="http"||ys(S,"https"),vs(S),H?Es(S.toString(),v):Bn(S.toString(),v)}else ot(2);c.G=0,c.l&&c.l.sa(g),Vu(c),Nu(c)}i.fb=function(c){c?(this.j.info("Successfully pinged google.com"),ot(2)):(this.j.info("Failed to ping google.com"),ot(1))};function Vu(c){if(c.G=0,c.ka=[],c.l){const g=ko(c.h);(g.length!=0||c.i.length!=0)&&(P(c.ka,g),P(c.ka,c.i),c.h.i.length=0,M(c.i),c.i.length=0),c.l.ra()}}function Pu(c,g,v){var S=v instanceof Et?dn(v):new Et(v);if(S.g!="")g&&(S.g=g+"."+S.g),fi(S,S.s);else{var H=m.location;S=H.protocol,g=g?g+"."+H.hostname:H.hostname,H=+H.port;var $=new Et(null);S&&ys($,S),g&&($.g=g),H&&fi($,H),v&&($.l=v),S=$}return v=c.D,g=c.ya,v&&g&&Ze(S,v,g),Ze(S,"VER",c.la),As(c,S),S}function Lu(c,g,v){if(g&&!c.J)throw Error("Can't create secondary domain capable XhrIo object.");return g=c.Ca&&!c.pa?new Ke(new di({eb:v})):new Ke(c.pa),g.Ha(c.J),g}i.isActive=function(){return!!this.l&&this.l.isActive(this)};function Uu(){}i=Uu.prototype,i.ua=function(){},i.ta=function(){},i.sa=function(){},i.ra=function(){},i.isActive=function(){return!0},i.Na=function(){};function _a(){}_a.prototype.g=function(c,g){return new nn(c,g)};function nn(c,g){ft.call(this),this.g=new pa(g),this.l=c,this.h=g&&g.messageUrlParams||null,c=g&&g.messageHeaders||null,g&&g.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=g&&g.initMessageHeaders||null,g&&g.messageContentType&&(c?c["X-WebChannel-Content-Type"]=g.messageContentType:c={"X-WebChannel-Content-Type":g.messageContentType}),g&&g.va&&(c?c["X-WebChannel-Client-Profile"]=g.va:c={"X-WebChannel-Client-Profile":g.va}),this.g.S=c,(c=g&&g.Sb)&&!se(c)&&(this.g.m=c),this.v=g&&g.supportsCrossDomainXhr||!1,this.u=g&&g.sendRawJson||!1,(g=g&&g.httpSessionIdParam)&&!se(g)&&(this.g.D=g,c=this.h,c!==null&&g in c&&(c=this.h,g in c&&delete c[g])),this.j=new ar(this)}N(nn,ft),nn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},nn.prototype.close=function(){zo(this.g)},nn.prototype.o=function(c){var g=this.g;if(typeof c=="string"){var v={};v.__data__=c,c=v}else this.u&&(v={},v.__data__=jn(c),c=v);g.i.push(new Au(g.Ya++,c)),g.G==3&&ya(g)},nn.prototype.N=function(){this.g.l=null,delete this.j,zo(this.g),delete this.g,nn.aa.N.call(this)};function ju(c){wr.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var g=c.__sm__;if(g){e:{for(const v in g){c=v;break e}c=void 0}(this.i=c)&&(c=this.i,g=g!==null&&c in g?g[c]:void 0),this.data=g}else this.data=c}N(ju,wr);function zu(){Io.call(this),this.status=1}N(zu,Io);function ar(c){this.g=c}N(ar,Uu),ar.prototype.ua=function(){Ye(this.g,"a")},ar.prototype.ta=function(c){Ye(this.g,new ju(c))},ar.prototype.sa=function(c){Ye(this.g,new zu)},ar.prototype.ra=function(){Ye(this.g,"b")},_a.prototype.createWebChannel=_a.prototype.g,nn.prototype.send=nn.prototype.o,nn.prototype.open=nn.prototype.m,nn.prototype.close=nn.prototype.close,fT=function(){return new _a},hT=function(){return oi()},cT=Wn,Dm={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},ci.NO_ERROR=0,ci.TIMEOUT=8,ci.HTTP_ERROR=6,th=ci,Ar.COMPLETE="complete",uT=Ar,Ro.EventType=Sr,Sr.OPEN="a",Sr.CLOSE="b",Sr.ERROR="c",Sr.MESSAGE="d",ft.prototype.listen=ft.prototype.K,Ll=Ro,Ke.prototype.listenOnce=Ke.prototype.L,Ke.prototype.getLastError=Ke.prototype.Ka,Ke.prototype.getLastErrorCode=Ke.prototype.Ba,Ke.prototype.getStatus=Ke.prototype.Z,Ke.prototype.getResponseJson=Ke.prototype.Oa,Ke.prototype.getResponseText=Ke.prototype.oa,Ke.prototype.send=Ke.prototype.ea,Ke.prototype.setWithCredentials=Ke.prototype.Ha,lT=Ke}).apply(typeof qc<"u"?qc:typeof self<"u"?self:typeof window<"u"?window:{});const J0="@firebase/firestore",e_="4.7.10";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wt{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Wt.UNAUTHENTICATED=new Wt(null),Wt.GOOGLE_CREDENTIALS=new Wt("google-credentials-uid"),Wt.FIRST_PARTY=new Wt("first-party-uid"),Wt.MOCK_USER=new Wt("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let yo="11.5.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $s=new ip("@firebase/firestore");function Ya(){return $s.logLevel}function de(i,...e){if($s.logLevel<=Le.DEBUG){const n=e.map(gp);$s.debug(`Firestore (${yo}): ${i}`,...n)}}function ni(i,...e){if($s.logLevel<=Le.ERROR){const n=e.map(gp);$s.error(`Firestore (${yo}): ${i}`,...n)}}function so(i,...e){if($s.logLevel<=Le.WARN){const n=e.map(gp);$s.warn(`Firestore (${yo}): ${i}`,...n)}}function gp(i){if(typeof i=="string")return i;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(i)}catch{return i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function we(i="Unexpected state"){const e=`FIRESTORE (${yo}) INTERNAL ASSERTION FAILED: `+i;throw ni(e),new Error(e)}function Qe(i,e){i||we()}function Ie(i,e){return i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oe={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class pe extends ii{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zr{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dT{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class nI{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Wt.UNAUTHENTICATED))}shutdown(){}}class rI{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class iI{constructor(e){this.t=e,this.currentUser=Wt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){Qe(this.o===void 0);let s=this.i;const o=p=>this.i!==s?(s=this.i,n(p)):Promise.resolve();let u=new Zr;this.o=()=>{this.i++,this.currentUser=this.u(),u.resolve(),u=new Zr,e.enqueueRetryable(()=>o(this.currentUser))};const f=()=>{const p=u;e.enqueueRetryable(async()=>{await p.promise,await o(this.currentUser)})},m=p=>{de("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=p,this.o&&(this.auth.addAuthTokenListener(this.o),f())};this.t.onInit(p=>m(p)),setTimeout(()=>{if(!this.auth){const p=this.t.getImmediate({optional:!0});p?m(p):(de("FirebaseAuthCredentialsProvider","Auth not yet detected"),u.resolve(),u=new Zr)}},0),f()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(s=>this.i!==e?(de("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(Qe(typeof s.accessToken=="string"),new dT(s.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Qe(e===null||typeof e=="string"),new Wt(e)}}class sI{constructor(e,n,s){this.l=e,this.h=n,this.P=s,this.type="FirstParty",this.user=Wt.FIRST_PARTY,this.T=new Map}I(){return this.P?this.P():null}get headers(){this.T.set("X-Goog-AuthUser",this.l);const e=this.I();return e&&this.T.set("Authorization",e),this.h&&this.T.set("X-Goog-Iam-Authorization-Token",this.h),this.T}}class aI{constructor(e,n,s){this.l=e,this.h=n,this.P=s}getToken(){return Promise.resolve(new sI(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(Wt.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class t_{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class oI{constructor(e,n){this.A=n,this.forceRefresh=!1,this.appCheck=null,this.R=null,this.V=null,Vn(e)&&e.settings.appCheckToken&&(this.V=e.settings.appCheckToken)}start(e,n){Qe(this.o===void 0);const s=u=>{u.error!=null&&de("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${u.error.message}`);const f=u.token!==this.R;return this.R=u.token,de("FirebaseAppCheckTokenProvider",`Received ${f?"new":"existing"} token.`),f?n(u.token):Promise.resolve()};this.o=u=>{e.enqueueRetryable(()=>s(u))};const o=u=>{de("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=u,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(u=>o(u)),setTimeout(()=>{if(!this.appCheck){const u=this.A.getImmediate({optional:!0});u?o(u):de("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.V)return Promise.resolve(new t_(this.V));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(Qe(typeof n.token=="string"),this.R=n.token,new t_(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lI(i){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(i);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let s=0;s<i;s++)n[s]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mT(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pT{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const o=lI(40);for(let u=0;u<o.length;++u)s.length<20&&o[u]<n&&(s+=e.charAt(o[u]%62))}return s}}function Oe(i,e){return i<e?-1:i>e?1:0}function Om(i,e){let n=0;for(;n<i.length&&n<e.length;){const s=i.codePointAt(n),o=e.codePointAt(n);if(s!==o){if(s<128&&o<128)return Oe(s,o);{const u=mT(),f=uI(u.encode(n_(i,n)),u.encode(n_(e,n)));return f!==0?f:Oe(s,o)}}n+=s>65535?2:1}return Oe(i.length,e.length)}function n_(i,e){return i.codePointAt(e)>65535?i.substring(e,e+2):i.substring(e,e+1)}function uI(i,e){for(let n=0;n<i.length&&n<e.length;++n)if(i[n]!==e[n])return Oe(i[n],e[n]);return Oe(i.length,e.length)}function ao(i,e,n){return i.length===e.length&&i.every((s,o)=>n(s,e[o]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const r_=-62135596800,i_=1e6;class Nt{static now(){return Nt.fromMillis(Date.now())}static fromDate(e){return Nt.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),s=Math.floor((e-1e3*n)*i_);return new Nt(n,s)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new pe(oe.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new pe(oe.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<r_)throw new pe(oe.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new pe(oe.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/i_}_compareTo(e){return this.seconds===e.seconds?Oe(this.nanoseconds,e.nanoseconds):Oe(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds-r_;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xe{static fromTimestamp(e){return new xe(e)}static min(){return new xe(new Nt(0,0))}static max(){return new xe(new Nt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const s_="__name__";class mr{constructor(e,n,s){n===void 0?n=0:n>e.length&&we(),s===void 0?s=e.length-n:s>e.length-n&&we(),this.segments=e,this.offset=n,this.len=s}get length(){return this.len}isEqual(e){return mr.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof mr?e.forEach(s=>{n.push(s)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,s=this.limit();n<s;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const s=Math.min(e.length,n.length);for(let o=0;o<s;o++){const u=mr.compareSegments(e.get(o),n.get(o));if(u!==0)return u}return Oe(e.length,n.length)}static compareSegments(e,n){const s=mr.isNumericId(e),o=mr.isNumericId(n);return s&&!o?-1:!s&&o?1:s&&o?mr.extractNumericId(e).compare(mr.extractNumericId(n)):Om(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Ki.fromString(e.substring(4,e.length-2))}}class st extends mr{construct(e,n,s){return new st(e,n,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const s of e){if(s.indexOf("//")>=0)throw new pe(oe.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);n.push(...s.split("/").filter(o=>o.length>0))}return new st(n)}static emptyPath(){return new st([])}}const cI=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Gt extends mr{construct(e,n,s){return new Gt(e,n,s)}static isValidIdentifier(e){return cI.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Gt.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===s_}static keyField(){return new Gt([s_])}static fromServerFormat(e){const n=[];let s="",o=0;const u=()=>{if(s.length===0)throw new pe(oe.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(s),s=""};let f=!1;for(;o<e.length;){const m=e[o];if(m==="\\"){if(o+1===e.length)throw new pe(oe.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const p=e[o+1];if(p!=="\\"&&p!=="."&&p!=="`")throw new pe(oe.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=p,o+=2}else m==="`"?(f=!f,o++):m!=="."||f?(s+=m,o++):(u(),o++)}if(u(),f)throw new pe(oe.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Gt(n)}static emptyPath(){return new Gt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _e{constructor(e){this.path=e}static fromPath(e){return new _e(st.fromString(e))}static fromName(e){return new _e(st.fromString(e).popFirst(5))}static empty(){return new _e(st.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&st.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return st.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new _e(new st(e.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $l=-1;function hI(i,e){const n=i.toTimestamp().seconds,s=i.toTimestamp().nanoseconds+1,o=xe.fromTimestamp(s===1e9?new Nt(n+1,0):new Nt(n,s));return new Yi(o,_e.empty(),e)}function fI(i){return new Yi(i.readTime,i.key,$l)}class Yi{constructor(e,n,s){this.readTime=e,this.documentKey=n,this.largestBatchId=s}static min(){return new Yi(xe.min(),_e.empty(),$l)}static max(){return new Yi(xe.max(),_e.empty(),$l)}}function dI(i,e){let n=i.readTime.compareTo(e.readTime);return n!==0?n:(n=_e.comparator(i.documentKey,e.documentKey),n!==0?n:Oe(i.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mI="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class pI{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function vo(i){if(i.code!==oe.FAILED_PRECONDITION||i.message!==mI)throw i;de("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ae{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&we(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new ae((s,o)=>{this.nextCallback=u=>{this.wrapSuccess(e,u).next(s,o)},this.catchCallback=u=>{this.wrapFailure(n,u).next(s,o)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof ae?n:ae.resolve(n)}catch(n){return ae.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):ae.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):ae.reject(n)}static resolve(e){return new ae((n,s)=>{n(e)})}static reject(e){return new ae((n,s)=>{s(e)})}static waitFor(e){return new ae((n,s)=>{let o=0,u=0,f=!1;e.forEach(m=>{++o,m.next(()=>{++u,f&&u===o&&n()},p=>s(p))}),f=!0,u===o&&n()})}static or(e){let n=ae.resolve(!1);for(const s of e)n=n.next(o=>o?ae.resolve(o):s());return n}static forEach(e,n){const s=[];return e.forEach((o,u)=>{s.push(n.call(this,o,u))}),this.waitFor(s)}static mapArray(e,n){return new ae((s,o)=>{const u=e.length,f=new Array(u);let m=0;for(let p=0;p<u;p++){const y=p;n(e[y]).next(E=>{f[y]=E,++m,m===u&&s(f)},E=>o(E))}})}static doWhile(e,n){return new ae((s,o)=>{const u=()=>{e()===!0?n().next(()=>{u()},o):s()};u()})}}function gI(i){const e=i.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function _o(i){return i.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ph{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=s=>this.oe(s),this._e=s=>n.writeSequenceNumber(s))}oe(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this._e&&this._e(e),e}}Ph.ae=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yp=-1;function Lh(i){return i==null}function gh(i){return i===0&&1/i==-1/0}function yI(i){return typeof i=="number"&&Number.isInteger(i)&&!gh(i)&&i<=Number.MAX_SAFE_INTEGER&&i>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gT="";function vI(i){let e="";for(let n=0;n<i.length;n++)e.length>0&&(e=a_(e)),e=_I(i.get(n),e);return a_(e)}function _I(i,e){let n=e;const s=i.length;for(let o=0;o<s;o++){const u=i.charAt(o);switch(u){case"\0":n+="";break;case gT:n+="";break;default:n+=u}}return n}function a_(i){return i+gT+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function o_(i){let e=0;for(const n in i)Object.prototype.hasOwnProperty.call(i,n)&&e++;return e}function rs(i,e){for(const n in i)Object.prototype.hasOwnProperty.call(i,n)&&e(n,i[n])}function yT(i){for(const e in i)if(Object.prototype.hasOwnProperty.call(i,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ht{constructor(e,n){this.comparator=e,this.root=n||Ft.EMPTY}insert(e,n){return new ht(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Ft.BLACK,null,null))}remove(e){return new ht(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Ft.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const s=this.comparator(e,n.key);if(s===0)return n.value;s<0?n=n.left:s>0&&(n=n.right)}return null}indexOf(e){let n=0,s=this.root;for(;!s.isEmpty();){const o=this.comparator(e,s.key);if(o===0)return n+s.left.size;o<0?s=s.left:(n+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,s)=>(e(n,s),!1))}toString(){const e=[];return this.inorderTraversal((n,s)=>(e.push(`${n}:${s}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Fc(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Fc(this.root,e,this.comparator,!1)}getReverseIterator(){return new Fc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Fc(this.root,e,this.comparator,!0)}}class Fc{constructor(e,n,s,o){this.isReverse=o,this.nodeStack=[];let u=1;for(;!e.isEmpty();)if(u=n?s(e.key,n):1,n&&o&&(u*=-1),u<0)e=this.isReverse?e.left:e.right;else{if(u===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Ft{constructor(e,n,s,o,u){this.key=e,this.value=n,this.color=s??Ft.RED,this.left=o??Ft.EMPTY,this.right=u??Ft.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,s,o,u){return new Ft(e??this.key,n??this.value,s??this.color,o??this.left,u??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,s){let o=this;const u=s(e,o.key);return o=u<0?o.copy(null,null,null,o.left.insert(e,n,s),null):u===0?o.copy(null,n,null,null,null):o.copy(null,null,null,null,o.right.insert(e,n,s)),o.fixUp()}removeMin(){if(this.left.isEmpty())return Ft.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let s,o=this;if(n(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,n),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),n(e,o.key)===0){if(o.right.isEmpty())return Ft.EMPTY;s=o.right.min(),o=o.copy(s.key,s.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,n))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Ft.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Ft.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw we();const e=this.left.check();if(e!==this.right.check())throw we();return e+(this.isRed()?0:1)}}Ft.EMPTY=null,Ft.RED=!0,Ft.BLACK=!1;Ft.EMPTY=new class{constructor(){this.size=0}get key(){throw we()}get value(){throw we()}get color(){throw we()}get left(){throw we()}get right(){throw we()}copy(e,n,s,o,u){return this}insert(e,n,s){return new Ft(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dt{constructor(e){this.comparator=e,this.data=new ht(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,s)=>(e(n),!1))}forEachInRange(e,n){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const o=s.getNext();if(this.comparator(o.key,e[1])>=0)return;n(o.key)}}forEachWhile(e,n){let s;for(s=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new l_(this.data.getIterator())}getIteratorFrom(e){return new l_(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(s=>{n=n.add(s)}),n}isEqual(e){if(!(e instanceof Dt)||this.size!==e.size)return!1;const n=this.data.getIterator(),s=e.data.getIterator();for(;n.hasNext();){const o=n.getNext().key,u=s.getNext().key;if(this.comparator(o,u)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new Dt(this.comparator);return n.data=e,n}}class l_{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tn{constructor(e){this.fields=e,e.sort(Gt.comparator)}static empty(){return new Tn([])}unionWith(e){let n=new Dt(Gt.comparator);for(const s of this.fields)n=n.add(s);for(const s of e)n=n.add(s);return new Tn(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return ao(this.fields,e.fields,(n,s)=>n.isEqual(s))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vT extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kt{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(o){try{return atob(o)}catch(u){throw typeof DOMException<"u"&&u instanceof DOMException?new vT("Invalid base64 string: "+u):u}}(e);return new Kt(n)}static fromUint8Array(e){const n=function(o){let u="";for(let f=0;f<o.length;++f)u+=String.fromCharCode(o[f]);return u}(e);return new Kt(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const s=new Uint8Array(n.length);for(let o=0;o<n.length;o++)s[o]=n.charCodeAt(o);return s}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Oe(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Kt.EMPTY_BYTE_STRING=new Kt("");const EI=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function $i(i){if(Qe(!!i),typeof i=="string"){let e=0;const n=EI.exec(i);if(Qe(!!n),n[1]){let o=n[1];o=(o+"000000000").substr(0,9),e=Number(o)}const s=new Date(i);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:vt(i.seconds),nanos:vt(i.nanos)}}function vt(i){return typeof i=="number"?i:typeof i=="string"?Number(i):0}function Xi(i){return typeof i=="string"?Kt.fromBase64String(i):Kt.fromUint8Array(i)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _T="server_timestamp",ET="__type__",TT="__previous_value__",bT="__local_write_time__";function vp(i){var e,n;return((n=(((e=i==null?void 0:i.mapValue)===null||e===void 0?void 0:e.fields)||{})[ET])===null||n===void 0?void 0:n.stringValue)===_T}function Uh(i){const e=i.mapValue.fields[TT];return vp(e)?Uh(e):e}function Xl(i){const e=$i(i.mapValue.fields[bT].timestampValue);return new Nt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TI{constructor(e,n,s,o,u,f,m,p,y){this.databaseId=e,this.appId=n,this.persistenceKey=s,this.host=o,this.ssl=u,this.forceLongPolling=f,this.autoDetectLongPolling=m,this.longPollingOptions=p,this.useFetchStreams=y}}const yh="(default)";class Wl{constructor(e,n){this.projectId=e,this.database=n||yh}static empty(){return new Wl("","")}get isDefaultDatabase(){return this.database===yh}isEqual(e){return e instanceof Wl&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ST="__type__",bI="__max__",Gc={mapValue:{}},wT="__vector__",vh="value";function Wi(i){return"nullValue"in i?0:"booleanValue"in i?1:"integerValue"in i||"doubleValue"in i?2:"timestampValue"in i?3:"stringValue"in i?5:"bytesValue"in i?6:"referenceValue"in i?7:"geoPointValue"in i?8:"arrayValue"in i?9:"mapValue"in i?vp(i)?4:wI(i)?9007199254740991:SI(i)?10:11:we()}function Er(i,e){if(i===e)return!0;const n=Wi(i);if(n!==Wi(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return i.booleanValue===e.booleanValue;case 4:return Xl(i).isEqual(Xl(e));case 3:return function(o,u){if(typeof o.timestampValue=="string"&&typeof u.timestampValue=="string"&&o.timestampValue.length===u.timestampValue.length)return o.timestampValue===u.timestampValue;const f=$i(o.timestampValue),m=$i(u.timestampValue);return f.seconds===m.seconds&&f.nanos===m.nanos}(i,e);case 5:return i.stringValue===e.stringValue;case 6:return function(o,u){return Xi(o.bytesValue).isEqual(Xi(u.bytesValue))}(i,e);case 7:return i.referenceValue===e.referenceValue;case 8:return function(o,u){return vt(o.geoPointValue.latitude)===vt(u.geoPointValue.latitude)&&vt(o.geoPointValue.longitude)===vt(u.geoPointValue.longitude)}(i,e);case 2:return function(o,u){if("integerValue"in o&&"integerValue"in u)return vt(o.integerValue)===vt(u.integerValue);if("doubleValue"in o&&"doubleValue"in u){const f=vt(o.doubleValue),m=vt(u.doubleValue);return f===m?gh(f)===gh(m):isNaN(f)&&isNaN(m)}return!1}(i,e);case 9:return ao(i.arrayValue.values||[],e.arrayValue.values||[],Er);case 10:case 11:return function(o,u){const f=o.mapValue.fields||{},m=u.mapValue.fields||{};if(o_(f)!==o_(m))return!1;for(const p in f)if(f.hasOwnProperty(p)&&(m[p]===void 0||!Er(f[p],m[p])))return!1;return!0}(i,e);default:return we()}}function Zl(i,e){return(i.values||[]).find(n=>Er(n,e))!==void 0}function oo(i,e){if(i===e)return 0;const n=Wi(i),s=Wi(e);if(n!==s)return Oe(n,s);switch(n){case 0:case 9007199254740991:return 0;case 1:return Oe(i.booleanValue,e.booleanValue);case 2:return function(u,f){const m=vt(u.integerValue||u.doubleValue),p=vt(f.integerValue||f.doubleValue);return m<p?-1:m>p?1:m===p?0:isNaN(m)?isNaN(p)?0:-1:1}(i,e);case 3:return u_(i.timestampValue,e.timestampValue);case 4:return u_(Xl(i),Xl(e));case 5:return Om(i.stringValue,e.stringValue);case 6:return function(u,f){const m=Xi(u),p=Xi(f);return m.compareTo(p)}(i.bytesValue,e.bytesValue);case 7:return function(u,f){const m=u.split("/"),p=f.split("/");for(let y=0;y<m.length&&y<p.length;y++){const E=Oe(m[y],p[y]);if(E!==0)return E}return Oe(m.length,p.length)}(i.referenceValue,e.referenceValue);case 8:return function(u,f){const m=Oe(vt(u.latitude),vt(f.latitude));return m!==0?m:Oe(vt(u.longitude),vt(f.longitude))}(i.geoPointValue,e.geoPointValue);case 9:return c_(i.arrayValue,e.arrayValue);case 10:return function(u,f){var m,p,y,E;const w=u.fields||{},A=f.fields||{},k=(m=w[vh])===null||m===void 0?void 0:m.arrayValue,N=(p=A[vh])===null||p===void 0?void 0:p.arrayValue,M=Oe(((y=k==null?void 0:k.values)===null||y===void 0?void 0:y.length)||0,((E=N==null?void 0:N.values)===null||E===void 0?void 0:E.length)||0);return M!==0?M:c_(k,N)}(i.mapValue,e.mapValue);case 11:return function(u,f){if(u===Gc.mapValue&&f===Gc.mapValue)return 0;if(u===Gc.mapValue)return 1;if(f===Gc.mapValue)return-1;const m=u.fields||{},p=Object.keys(m),y=f.fields||{},E=Object.keys(y);p.sort(),E.sort();for(let w=0;w<p.length&&w<E.length;++w){const A=Om(p[w],E[w]);if(A!==0)return A;const k=oo(m[p[w]],y[E[w]]);if(k!==0)return k}return Oe(p.length,E.length)}(i.mapValue,e.mapValue);default:throw we()}}function u_(i,e){if(typeof i=="string"&&typeof e=="string"&&i.length===e.length)return Oe(i,e);const n=$i(i),s=$i(e),o=Oe(n.seconds,s.seconds);return o!==0?o:Oe(n.nanos,s.nanos)}function c_(i,e){const n=i.values||[],s=e.values||[];for(let o=0;o<n.length&&o<s.length;++o){const u=oo(n[o],s[o]);if(u)return u}return Oe(n.length,s.length)}function lo(i){return km(i)}function km(i){return"nullValue"in i?"null":"booleanValue"in i?""+i.booleanValue:"integerValue"in i?""+i.integerValue:"doubleValue"in i?""+i.doubleValue:"timestampValue"in i?function(n){const s=$i(n);return`time(${s.seconds},${s.nanos})`}(i.timestampValue):"stringValue"in i?i.stringValue:"bytesValue"in i?function(n){return Xi(n).toBase64()}(i.bytesValue):"referenceValue"in i?function(n){return _e.fromName(n).toString()}(i.referenceValue):"geoPointValue"in i?function(n){return`geo(${n.latitude},${n.longitude})`}(i.geoPointValue):"arrayValue"in i?function(n){let s="[",o=!0;for(const u of n.values||[])o?o=!1:s+=",",s+=km(u);return s+"]"}(i.arrayValue):"mapValue"in i?function(n){const s=Object.keys(n.fields||{}).sort();let o="{",u=!0;for(const f of s)u?u=!1:o+=",",o+=`${f}:${km(n.fields[f])}`;return o+"}"}(i.mapValue):we()}function nh(i){switch(Wi(i)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Uh(i);return e?16+nh(e):16;case 5:return 2*i.stringValue.length;case 6:return Xi(i.bytesValue).approximateByteSize();case 7:return i.referenceValue.length;case 9:return function(s){return(s.values||[]).reduce((o,u)=>o+nh(u),0)}(i.arrayValue);case 10:case 11:return function(s){let o=0;return rs(s.fields,(u,f)=>{o+=u.length+nh(f)}),o}(i.mapValue);default:throw we()}}function h_(i,e){return{referenceValue:`projects/${i.projectId}/databases/${i.database}/documents/${e.path.canonicalString()}`}}function Mm(i){return!!i&&"integerValue"in i}function _p(i){return!!i&&"arrayValue"in i}function f_(i){return!!i&&"nullValue"in i}function d_(i){return!!i&&"doubleValue"in i&&isNaN(Number(i.doubleValue))}function rh(i){return!!i&&"mapValue"in i}function SI(i){var e,n;return((n=(((e=i==null?void 0:i.mapValue)===null||e===void 0?void 0:e.fields)||{})[ST])===null||n===void 0?void 0:n.stringValue)===wT}function Hl(i){if(i.geoPointValue)return{geoPointValue:Object.assign({},i.geoPointValue)};if(i.timestampValue&&typeof i.timestampValue=="object")return{timestampValue:Object.assign({},i.timestampValue)};if(i.mapValue){const e={mapValue:{fields:{}}};return rs(i.mapValue.fields,(n,s)=>e.mapValue.fields[n]=Hl(s)),e}if(i.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(i.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Hl(i.arrayValue.values[n]);return e}return Object.assign({},i)}function wI(i){return(((i.mapValue||{}).fields||{}).__type__||{}).stringValue===bI}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hn{constructor(e){this.value=e}static empty(){return new hn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let s=0;s<e.length-1;++s)if(n=(n.mapValue.fields||{})[e.get(s)],!rh(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Hl(n)}setAll(e){let n=Gt.emptyPath(),s={},o=[];e.forEach((f,m)=>{if(!n.isImmediateParentOf(m)){const p=this.getFieldsMap(n);this.applyChanges(p,s,o),s={},o=[],n=m.popLast()}f?s[m.lastSegment()]=Hl(f):o.push(m.lastSegment())});const u=this.getFieldsMap(n);this.applyChanges(u,s,o)}delete(e){const n=this.field(e.popLast());rh(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Er(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let s=0;s<e.length;++s){let o=n.mapValue.fields[e.get(s)];rh(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},n.mapValue.fields[e.get(s)]=o),n=o}return n.mapValue.fields}applyChanges(e,n,s){rs(n,(o,u)=>e[o]=u);for(const o of s)delete e[o]}clone(){return new hn(Hl(this.value))}}function AT(i){const e=[];return rs(i.fields,(n,s)=>{const o=new Gt([n]);if(rh(s)){const u=AT(s.mapValue).fields;if(u.length===0)e.push(o);else for(const f of u)e.push(o.child(f))}else e.push(o)}),new Tn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zt{constructor(e,n,s,o,u,f,m){this.key=e,this.documentType=n,this.version=s,this.readTime=o,this.createTime=u,this.data=f,this.documentState=m}static newInvalidDocument(e){return new Zt(e,0,xe.min(),xe.min(),xe.min(),hn.empty(),0)}static newFoundDocument(e,n,s,o){return new Zt(e,1,n,xe.min(),s,o,0)}static newNoDocument(e,n){return new Zt(e,2,n,xe.min(),xe.min(),hn.empty(),0)}static newUnknownDocument(e,n){return new Zt(e,3,n,xe.min(),xe.min(),hn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(xe.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=hn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=hn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=xe.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Zt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Zt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _h{constructor(e,n){this.position=e,this.inclusive=n}}function m_(i,e,n){let s=0;for(let o=0;o<i.position.length;o++){const u=e[o],f=i.position[o];if(u.field.isKeyField()?s=_e.comparator(_e.fromName(f.referenceValue),n.key):s=oo(f,n.data.field(u.field)),u.dir==="desc"&&(s*=-1),s!==0)break}return s}function p_(i,e){if(i===null)return e===null;if(e===null||i.inclusive!==e.inclusive||i.position.length!==e.position.length)return!1;for(let n=0;n<i.position.length;n++)if(!Er(i.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eh{constructor(e,n="asc"){this.field=e,this.dir=n}}function AI(i,e){return i.dir===e.dir&&i.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xT{}class wt extends xT{constructor(e,n,s){super(),this.field=e,this.op=n,this.value=s}static create(e,n,s){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,s):new RI(e,n,s):n==="array-contains"?new NI(e,s):n==="in"?new DI(e,s):n==="not-in"?new OI(e,s):n==="array-contains-any"?new kI(e,s):new wt(e,n,s)}static createKeyFieldInFilter(e,n,s){return n==="in"?new II(e,s):new CI(e,s)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(oo(n,this.value)):n!==null&&Wi(this.value)===Wi(n)&&this.matchesComparison(oo(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return we()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Qn extends xT{constructor(e,n){super(),this.filters=e,this.op=n,this.ce=null}static create(e,n){return new Qn(e,n)}matches(e){return RT(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ce!==null||(this.ce=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ce}getFilters(){return Object.assign([],this.filters)}}function RT(i){return i.op==="and"}function IT(i){return xI(i)&&RT(i)}function xI(i){for(const e of i.filters)if(e instanceof Qn)return!1;return!0}function Vm(i){if(i instanceof wt)return i.field.canonicalString()+i.op.toString()+lo(i.value);if(IT(i))return i.filters.map(e=>Vm(e)).join(",");{const e=i.filters.map(n=>Vm(n)).join(",");return`${i.op}(${e})`}}function CT(i,e){return i instanceof wt?function(s,o){return o instanceof wt&&s.op===o.op&&s.field.isEqual(o.field)&&Er(s.value,o.value)}(i,e):i instanceof Qn?function(s,o){return o instanceof Qn&&s.op===o.op&&s.filters.length===o.filters.length?s.filters.reduce((u,f,m)=>u&&CT(f,o.filters[m]),!0):!1}(i,e):void we()}function NT(i){return i instanceof wt?function(n){return`${n.field.canonicalString()} ${n.op} ${lo(n.value)}`}(i):i instanceof Qn?function(n){return n.op.toString()+" {"+n.getFilters().map(NT).join(" ,")+"}"}(i):"Filter"}class RI extends wt{constructor(e,n,s){super(e,n,s),this.key=_e.fromName(s.referenceValue)}matches(e){const n=_e.comparator(e.key,this.key);return this.matchesComparison(n)}}class II extends wt{constructor(e,n){super(e,"in",n),this.keys=DT("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class CI extends wt{constructor(e,n){super(e,"not-in",n),this.keys=DT("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function DT(i,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(s=>_e.fromName(s.referenceValue))}class NI extends wt{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return _p(n)&&Zl(n.arrayValue,this.value)}}class DI extends wt{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Zl(this.value.arrayValue,n)}}class OI extends wt{constructor(e,n){super(e,"not-in",n)}matches(e){if(Zl(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!Zl(this.value.arrayValue,n)}}class kI extends wt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!_p(n)||!n.arrayValue.values)&&n.arrayValue.values.some(s=>Zl(this.value.arrayValue,s))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MI{constructor(e,n=null,s=[],o=[],u=null,f=null,m=null){this.path=e,this.collectionGroup=n,this.orderBy=s,this.filters=o,this.limit=u,this.startAt=f,this.endAt=m,this.le=null}}function g_(i,e=null,n=[],s=[],o=null,u=null,f=null){return new MI(i,e,n,s,o,u,f)}function Ep(i){const e=Ie(i);if(e.le===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(s=>Vm(s)).join(","),n+="|ob:",n+=e.orderBy.map(s=>function(u){return u.field.canonicalString()+u.dir}(s)).join(","),Lh(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(s=>lo(s)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(s=>lo(s)).join(",")),e.le=n}return e.le}function Tp(i,e){if(i.limit!==e.limit||i.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<i.orderBy.length;n++)if(!AI(i.orderBy[n],e.orderBy[n]))return!1;if(i.filters.length!==e.filters.length)return!1;for(let n=0;n<i.filters.length;n++)if(!CT(i.filters[n],e.filters[n]))return!1;return i.collectionGroup===e.collectionGroup&&!!i.path.isEqual(e.path)&&!!p_(i.startAt,e.startAt)&&p_(i.endAt,e.endAt)}function Pm(i){return _e.isDocumentKey(i.path)&&i.collectionGroup===null&&i.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uu{constructor(e,n=null,s=[],o=[],u=null,f="F",m=null,p=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=s,this.filters=o,this.limit=u,this.limitType=f,this.startAt=m,this.endAt=p,this.he=null,this.Pe=null,this.Te=null,this.startAt,this.endAt}}function VI(i,e,n,s,o,u,f,m){return new uu(i,e,n,s,o,u,f,m)}function bp(i){return new uu(i)}function y_(i){return i.filters.length===0&&i.limit===null&&i.startAt==null&&i.endAt==null&&(i.explicitOrderBy.length===0||i.explicitOrderBy.length===1&&i.explicitOrderBy[0].field.isKeyField())}function OT(i){return i.collectionGroup!==null}function ql(i){const e=Ie(i);if(e.he===null){e.he=[];const n=new Set;for(const u of e.explicitOrderBy)e.he.push(u),n.add(u.field.canonicalString());const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(f){let m=new Dt(Gt.comparator);return f.filters.forEach(p=>{p.getFlattenedFilters().forEach(y=>{y.isInequality()&&(m=m.add(y.field))})}),m})(e).forEach(u=>{n.has(u.canonicalString())||u.isKeyField()||e.he.push(new Eh(u,s))}),n.has(Gt.keyField().canonicalString())||e.he.push(new Eh(Gt.keyField(),s))}return e.he}function vr(i){const e=Ie(i);return e.Pe||(e.Pe=PI(e,ql(i))),e.Pe}function PI(i,e){if(i.limitType==="F")return g_(i.path,i.collectionGroup,e,i.filters,i.limit,i.startAt,i.endAt);{e=e.map(o=>{const u=o.dir==="desc"?"asc":"desc";return new Eh(o.field,u)});const n=i.endAt?new _h(i.endAt.position,i.endAt.inclusive):null,s=i.startAt?new _h(i.startAt.position,i.startAt.inclusive):null;return g_(i.path,i.collectionGroup,e,i.filters,i.limit,n,s)}}function Lm(i,e){const n=i.filters.concat([e]);return new uu(i.path,i.collectionGroup,i.explicitOrderBy.slice(),n,i.limit,i.limitType,i.startAt,i.endAt)}function Um(i,e,n){return new uu(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),e,n,i.startAt,i.endAt)}function jh(i,e){return Tp(vr(i),vr(e))&&i.limitType===e.limitType}function kT(i){return`${Ep(vr(i))}|lt:${i.limitType}`}function $a(i){return`Query(target=${function(n){let s=n.path.canonicalString();return n.collectionGroup!==null&&(s+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(s+=`, filters: [${n.filters.map(o=>NT(o)).join(", ")}]`),Lh(n.limit)||(s+=", limit: "+n.limit),n.orderBy.length>0&&(s+=`, orderBy: [${n.orderBy.map(o=>function(f){return`${f.field.canonicalString()} (${f.dir})`}(o)).join(", ")}]`),n.startAt&&(s+=", startAt: ",s+=n.startAt.inclusive?"b:":"a:",s+=n.startAt.position.map(o=>lo(o)).join(",")),n.endAt&&(s+=", endAt: ",s+=n.endAt.inclusive?"a:":"b:",s+=n.endAt.position.map(o=>lo(o)).join(",")),`Target(${s})`}(vr(i))}; limitType=${i.limitType})`}function zh(i,e){return e.isFoundDocument()&&function(s,o){const u=o.key.path;return s.collectionGroup!==null?o.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(u):_e.isDocumentKey(s.path)?s.path.isEqual(u):s.path.isImmediateParentOf(u)}(i,e)&&function(s,o){for(const u of ql(s))if(!u.field.isKeyField()&&o.data.field(u.field)===null)return!1;return!0}(i,e)&&function(s,o){for(const u of s.filters)if(!u.matches(o))return!1;return!0}(i,e)&&function(s,o){return!(s.startAt&&!function(f,m,p){const y=m_(f,m,p);return f.inclusive?y<=0:y<0}(s.startAt,ql(s),o)||s.endAt&&!function(f,m,p){const y=m_(f,m,p);return f.inclusive?y>=0:y>0}(s.endAt,ql(s),o))}(i,e)}function LI(i){return i.collectionGroup||(i.path.length%2==1?i.path.lastSegment():i.path.get(i.path.length-2))}function MT(i){return(e,n)=>{let s=!1;for(const o of ql(i)){const u=UI(o,e,n);if(u!==0)return u;s=s||o.field.isKeyField()}return 0}}function UI(i,e,n){const s=i.field.isKeyField()?_e.comparator(e.key,n.key):function(u,f,m){const p=f.data.field(u),y=m.data.field(u);return p!==null&&y!==null?oo(p,y):we()}(i.field,e,n);switch(i.dir){case"asc":return s;case"desc":return-1*s;default:return we()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Js{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s!==void 0){for(const[o,u]of s)if(this.equalsFn(o,e))return u}}has(e){return this.get(e)!==void 0}set(e,n){const s=this.mapKeyFn(e),o=this.inner[s];if(o===void 0)return this.inner[s]=[[e,n]],void this.innerSize++;for(let u=0;u<o.length;u++)if(this.equalsFn(o[u][0],e))return void(o[u]=[e,n]);o.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s===void 0)return!1;for(let o=0;o<s.length;o++)if(this.equalsFn(s[o][0],e))return s.length===1?delete this.inner[n]:s.splice(o,1),this.innerSize--,!0;return!1}forEach(e){rs(this.inner,(n,s)=>{for(const[o,u]of s)e(o,u)})}isEmpty(){return yT(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jI=new ht(_e.comparator);function ri(){return jI}const VT=new ht(_e.comparator);function Ul(...i){let e=VT;for(const n of i)e=e.insert(n.key,n);return e}function PT(i){let e=VT;return i.forEach((n,s)=>e=e.insert(n,s.overlayedDocument)),e}function qs(){return Fl()}function LT(){return Fl()}function Fl(){return new Js(i=>i.toString(),(i,e)=>i.isEqual(e))}const zI=new ht(_e.comparator),BI=new Dt(_e.comparator);function Ue(...i){let e=BI;for(const n of i)e=e.add(n);return e}const HI=new Dt(Oe);function qI(){return HI}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sp(i,e){if(i.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:gh(e)?"-0":e}}function UT(i){return{integerValue:""+i}}function FI(i,e){return yI(e)?UT(e):Sp(i,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bh{constructor(){this._=void 0}}function GI(i,e,n){return i instanceof Th?function(o,u){const f={fields:{[ET]:{stringValue:_T},[bT]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return u&&vp(u)&&(u=Uh(u)),u&&(f.fields[TT]=u),{mapValue:f}}(n,e):i instanceof Jl?zT(i,e):i instanceof eu?BT(i,e):function(o,u){const f=jT(o,u),m=v_(f)+v_(o.Ie);return Mm(f)&&Mm(o.Ie)?UT(m):Sp(o.serializer,m)}(i,e)}function KI(i,e,n){return i instanceof Jl?zT(i,e):i instanceof eu?BT(i,e):n}function jT(i,e){return i instanceof bh?function(s){return Mm(s)||function(u){return!!u&&"doubleValue"in u}(s)}(e)?e:{integerValue:0}:null}class Th extends Bh{}class Jl extends Bh{constructor(e){super(),this.elements=e}}function zT(i,e){const n=HT(e);for(const s of i.elements)n.some(o=>Er(o,s))||n.push(s);return{arrayValue:{values:n}}}class eu extends Bh{constructor(e){super(),this.elements=e}}function BT(i,e){let n=HT(e);for(const s of i.elements)n=n.filter(o=>!Er(o,s));return{arrayValue:{values:n}}}class bh extends Bh{constructor(e,n){super(),this.serializer=e,this.Ie=n}}function v_(i){return vt(i.integerValue||i.doubleValue)}function HT(i){return _p(i)&&i.arrayValue.values?i.arrayValue.values.slice():[]}function QI(i,e){return i.field.isEqual(e.field)&&function(s,o){return s instanceof Jl&&o instanceof Jl||s instanceof eu&&o instanceof eu?ao(s.elements,o.elements,Er):s instanceof bh&&o instanceof bh?Er(s.Ie,o.Ie):s instanceof Th&&o instanceof Th}(i.transform,e.transform)}class YI{constructor(e,n){this.version=e,this.transformResults=n}}class Pn{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Pn}static exists(e){return new Pn(void 0,e)}static updateTime(e){return new Pn(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function ih(i,e){return i.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(i.updateTime):i.exists===void 0||i.exists===e.isFoundDocument()}class Hh{}function qT(i,e){if(!i.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return i.isNoDocument()?new wp(i.key,Pn.none()):new cu(i.key,i.data,Pn.none());{const n=i.data,s=hn.empty();let o=new Dt(Gt.comparator);for(let u of e.fields)if(!o.has(u)){let f=n.field(u);f===null&&u.length>1&&(u=u.popLast(),f=n.field(u)),f===null?s.delete(u):s.set(u,f),o=o.add(u)}return new is(i.key,s,new Tn(o.toArray()),Pn.none())}}function $I(i,e,n){i instanceof cu?function(o,u,f){const m=o.value.clone(),p=E_(o.fieldTransforms,u,f.transformResults);m.setAll(p),u.convertToFoundDocument(f.version,m).setHasCommittedMutations()}(i,e,n):i instanceof is?function(o,u,f){if(!ih(o.precondition,u))return void u.convertToUnknownDocument(f.version);const m=E_(o.fieldTransforms,u,f.transformResults),p=u.data;p.setAll(FT(o)),p.setAll(m),u.convertToFoundDocument(f.version,p).setHasCommittedMutations()}(i,e,n):function(o,u,f){u.convertToNoDocument(f.version).setHasCommittedMutations()}(0,e,n)}function Gl(i,e,n,s){return i instanceof cu?function(u,f,m,p){if(!ih(u.precondition,f))return m;const y=u.value.clone(),E=T_(u.fieldTransforms,p,f);return y.setAll(E),f.convertToFoundDocument(f.version,y).setHasLocalMutations(),null}(i,e,n,s):i instanceof is?function(u,f,m,p){if(!ih(u.precondition,f))return m;const y=T_(u.fieldTransforms,p,f),E=f.data;return E.setAll(FT(u)),E.setAll(y),f.convertToFoundDocument(f.version,E).setHasLocalMutations(),m===null?null:m.unionWith(u.fieldMask.fields).unionWith(u.fieldTransforms.map(w=>w.field))}(i,e,n,s):function(u,f,m){return ih(u.precondition,f)?(f.convertToNoDocument(f.version).setHasLocalMutations(),null):m}(i,e,n)}function XI(i,e){let n=null;for(const s of i.fieldTransforms){const o=e.data.field(s.field),u=jT(s.transform,o||null);u!=null&&(n===null&&(n=hn.empty()),n.set(s.field,u))}return n||null}function __(i,e){return i.type===e.type&&!!i.key.isEqual(e.key)&&!!i.precondition.isEqual(e.precondition)&&!!function(s,o){return s===void 0&&o===void 0||!(!s||!o)&&ao(s,o,(u,f)=>QI(u,f))}(i.fieldTransforms,e.fieldTransforms)&&(i.type===0?i.value.isEqual(e.value):i.type!==1||i.data.isEqual(e.data)&&i.fieldMask.isEqual(e.fieldMask))}class cu extends Hh{constructor(e,n,s,o=[]){super(),this.key=e,this.value=n,this.precondition=s,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class is extends Hh{constructor(e,n,s,o,u=[]){super(),this.key=e,this.data=n,this.fieldMask=s,this.precondition=o,this.fieldTransforms=u,this.type=1}getFieldMask(){return this.fieldMask}}function FT(i){const e=new Map;return i.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const s=i.data.field(n);e.set(n,s)}}),e}function E_(i,e,n){const s=new Map;Qe(i.length===n.length);for(let o=0;o<n.length;o++){const u=i[o],f=u.transform,m=e.data.field(u.field);s.set(u.field,KI(f,m,n[o]))}return s}function T_(i,e,n){const s=new Map;for(const o of i){const u=o.transform,f=n.data.field(o.field);s.set(o.field,GI(u,f,e))}return s}class wp extends Hh{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class WI extends Hh{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZI{constructor(e,n,s,o){this.batchId=e,this.localWriteTime=n,this.baseMutations=s,this.mutations=o}applyToRemoteDocument(e,n){const s=n.mutationResults;for(let o=0;o<this.mutations.length;o++){const u=this.mutations[o];u.key.isEqual(e.key)&&$I(u,e,s[o])}}applyToLocalView(e,n){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(n=Gl(s,e,n,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(n=Gl(s,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const s=LT();return this.mutations.forEach(o=>{const u=e.get(o.key),f=u.overlayedDocument;let m=this.applyToLocalView(f,u.mutatedFields);m=n.has(o.key)?null:m;const p=qT(f,m);p!==null&&s.set(o.key,p),f.isValidDocument()||f.convertToNoDocument(xe.min())}),s}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),Ue())}isEqual(e){return this.batchId===e.batchId&&ao(this.mutations,e.mutations,(n,s)=>__(n,s))&&ao(this.baseMutations,e.baseMutations,(n,s)=>__(n,s))}}class Ap{constructor(e,n,s,o){this.batch=e,this.commitVersion=n,this.mutationResults=s,this.docVersions=o}static from(e,n,s){Qe(e.mutations.length===s.length);let o=function(){return zI}();const u=e.mutations;for(let f=0;f<u.length;f++)o=o.insert(u[f].key,s[f].version);return new Ap(e,n,s,o)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JI{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eC{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var St,He;function tC(i){switch(i){case oe.OK:return we();case oe.CANCELLED:case oe.UNKNOWN:case oe.DEADLINE_EXCEEDED:case oe.RESOURCE_EXHAUSTED:case oe.INTERNAL:case oe.UNAVAILABLE:case oe.UNAUTHENTICATED:return!1;case oe.INVALID_ARGUMENT:case oe.NOT_FOUND:case oe.ALREADY_EXISTS:case oe.PERMISSION_DENIED:case oe.FAILED_PRECONDITION:case oe.ABORTED:case oe.OUT_OF_RANGE:case oe.UNIMPLEMENTED:case oe.DATA_LOSS:return!0;default:return we()}}function GT(i){if(i===void 0)return ni("GRPC error has no .code"),oe.UNKNOWN;switch(i){case St.OK:return oe.OK;case St.CANCELLED:return oe.CANCELLED;case St.UNKNOWN:return oe.UNKNOWN;case St.DEADLINE_EXCEEDED:return oe.DEADLINE_EXCEEDED;case St.RESOURCE_EXHAUSTED:return oe.RESOURCE_EXHAUSTED;case St.INTERNAL:return oe.INTERNAL;case St.UNAVAILABLE:return oe.UNAVAILABLE;case St.UNAUTHENTICATED:return oe.UNAUTHENTICATED;case St.INVALID_ARGUMENT:return oe.INVALID_ARGUMENT;case St.NOT_FOUND:return oe.NOT_FOUND;case St.ALREADY_EXISTS:return oe.ALREADY_EXISTS;case St.PERMISSION_DENIED:return oe.PERMISSION_DENIED;case St.FAILED_PRECONDITION:return oe.FAILED_PRECONDITION;case St.ABORTED:return oe.ABORTED;case St.OUT_OF_RANGE:return oe.OUT_OF_RANGE;case St.UNIMPLEMENTED:return oe.UNIMPLEMENTED;case St.DATA_LOSS:return oe.DATA_LOSS;default:return we()}}(He=St||(St={}))[He.OK=0]="OK",He[He.CANCELLED=1]="CANCELLED",He[He.UNKNOWN=2]="UNKNOWN",He[He.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",He[He.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",He[He.NOT_FOUND=5]="NOT_FOUND",He[He.ALREADY_EXISTS=6]="ALREADY_EXISTS",He[He.PERMISSION_DENIED=7]="PERMISSION_DENIED",He[He.UNAUTHENTICATED=16]="UNAUTHENTICATED",He[He.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",He[He.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",He[He.ABORTED=10]="ABORTED",He[He.OUT_OF_RANGE=11]="OUT_OF_RANGE",He[He.UNIMPLEMENTED=12]="UNIMPLEMENTED",He[He.INTERNAL=13]="INTERNAL",He[He.UNAVAILABLE=14]="UNAVAILABLE",He[He.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nC=new Ki([4294967295,4294967295],0);function b_(i){const e=mT().encode(i),n=new oT;return n.update(e),new Uint8Array(n.digest())}function S_(i){const e=new DataView(i.buffer),n=e.getUint32(0,!0),s=e.getUint32(4,!0),o=e.getUint32(8,!0),u=e.getUint32(12,!0);return[new Ki([n,s],0),new Ki([o,u],0)]}class xp{constructor(e,n,s){if(this.bitmap=e,this.padding=n,this.hashCount=s,n<0||n>=8)throw new jl(`Invalid padding: ${n}`);if(s<0)throw new jl(`Invalid hash count: ${s}`);if(e.length>0&&this.hashCount===0)throw new jl(`Invalid hash count: ${s}`);if(e.length===0&&n!==0)throw new jl(`Invalid padding when bitmap length is 0: ${n}`);this.Ee=8*e.length-n,this.de=Ki.fromNumber(this.Ee)}Ae(e,n,s){let o=e.add(n.multiply(Ki.fromNumber(s)));return o.compare(nC)===1&&(o=new Ki([o.getBits(0),o.getBits(1)],0)),o.modulo(this.de).toNumber()}Re(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.Ee===0)return!1;const n=b_(e),[s,o]=S_(n);for(let u=0;u<this.hashCount;u++){const f=this.Ae(s,o,u);if(!this.Re(f))return!1}return!0}static create(e,n,s){const o=e%8==0?0:8-e%8,u=new Uint8Array(Math.ceil(e/8)),f=new xp(u,o,n);return s.forEach(m=>f.insert(m)),f}insert(e){if(this.Ee===0)return;const n=b_(e),[s,o]=S_(n);for(let u=0;u<this.hashCount;u++){const f=this.Ae(s,o,u);this.Ve(f)}}Ve(e){const n=Math.floor(e/8),s=e%8;this.bitmap[n]|=1<<s}}class jl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qh{constructor(e,n,s,o,u){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=s,this.documentUpdates=o,this.resolvedLimboDocuments=u}static createSynthesizedRemoteEventForCurrentChange(e,n,s){const o=new Map;return o.set(e,hu.createSynthesizedTargetChangeForCurrentChange(e,n,s)),new qh(xe.min(),o,new ht(Oe),ri(),Ue())}}class hu{constructor(e,n,s,o,u){this.resumeToken=e,this.current=n,this.addedDocuments=s,this.modifiedDocuments=o,this.removedDocuments=u}static createSynthesizedTargetChangeForCurrentChange(e,n,s){return new hu(s,n,Ue(),Ue(),Ue())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sh{constructor(e,n,s,o){this.me=e,this.removedTargetIds=n,this.key=s,this.fe=o}}class KT{constructor(e,n){this.targetId=e,this.ge=n}}class QT{constructor(e,n,s=Kt.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=n,this.resumeToken=s,this.cause=o}}class w_{constructor(){this.pe=0,this.ye=A_(),this.we=Kt.EMPTY_BYTE_STRING,this.Se=!1,this.be=!0}get current(){return this.Se}get resumeToken(){return this.we}get De(){return this.pe!==0}get ve(){return this.be}Ce(e){e.approximateByteSize()>0&&(this.be=!0,this.we=e)}Fe(){let e=Ue(),n=Ue(),s=Ue();return this.ye.forEach((o,u)=>{switch(u){case 0:e=e.add(o);break;case 2:n=n.add(o);break;case 1:s=s.add(o);break;default:we()}}),new hu(this.we,this.Se,e,n,s)}Me(){this.be=!1,this.ye=A_()}xe(e,n){this.be=!0,this.ye=this.ye.insert(e,n)}Oe(e){this.be=!0,this.ye=this.ye.remove(e)}Ne(){this.pe+=1}Be(){this.pe-=1,Qe(this.pe>=0)}Le(){this.be=!0,this.Se=!0}}class rC{constructor(e){this.ke=e,this.qe=new Map,this.Qe=ri(),this.$e=Kc(),this.Ue=Kc(),this.Ke=new ht(Oe)}We(e){for(const n of e.me)e.fe&&e.fe.isFoundDocument()?this.Ge(n,e.fe):this.ze(n,e.key,e.fe);for(const n of e.removedTargetIds)this.ze(n,e.key,e.fe)}je(e){this.forEachTarget(e,n=>{const s=this.He(n);switch(e.state){case 0:this.Je(n)&&s.Ce(e.resumeToken);break;case 1:s.Be(),s.De||s.Me(),s.Ce(e.resumeToken);break;case 2:s.Be(),s.De||this.removeTarget(n);break;case 3:this.Je(n)&&(s.Le(),s.Ce(e.resumeToken));break;case 4:this.Je(n)&&(this.Ye(n),s.Ce(e.resumeToken));break;default:we()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.qe.forEach((s,o)=>{this.Je(o)&&n(o)})}Ze(e){const n=e.targetId,s=e.ge.count,o=this.Xe(n);if(o){const u=o.target;if(Pm(u))if(s===0){const f=new _e(u.path);this.ze(n,f,Zt.newNoDocument(f,xe.min()))}else Qe(s===1);else{const f=this.et(n);if(f!==s){const m=this.tt(e),p=m?this.nt(m,e,f):1;if(p!==0){this.Ye(n);const y=p===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ke=this.Ke.insert(n,y)}}}}}tt(e){const n=e.ge.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:s="",padding:o=0},hashCount:u=0}=n;let f,m;try{f=Xi(s).toUint8Array()}catch(p){if(p instanceof vT)return so("Decoding the base64 bloom filter in existence filter failed ("+p.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw p}try{m=new xp(f,o,u)}catch(p){return so(p instanceof jl?"BloomFilter error: ":"Applying bloom filter failed: ",p),null}return m.Ee===0?null:m}nt(e,n,s){return n.ge.count===s-this.st(e,n.targetId)?0:2}st(e,n){const s=this.ke.getRemoteKeysForTarget(n);let o=0;return s.forEach(u=>{const f=this.ke.it(),m=`projects/${f.projectId}/databases/${f.database}/documents/${u.path.canonicalString()}`;e.mightContain(m)||(this.ze(n,u,null),o++)}),o}ot(e){const n=new Map;this.qe.forEach((u,f)=>{const m=this.Xe(f);if(m){if(u.current&&Pm(m.target)){const p=new _e(m.target.path);this._t(p).has(f)||this.ut(f,p)||this.ze(f,p,Zt.newNoDocument(p,e))}u.ve&&(n.set(f,u.Fe()),u.Me())}});let s=Ue();this.Ue.forEach((u,f)=>{let m=!0;f.forEachWhile(p=>{const y=this.Xe(p);return!y||y.purpose==="TargetPurposeLimboResolution"||(m=!1,!1)}),m&&(s=s.add(u))}),this.Qe.forEach((u,f)=>f.setReadTime(e));const o=new qh(e,n,this.Ke,this.Qe,s);return this.Qe=ri(),this.$e=Kc(),this.Ue=Kc(),this.Ke=new ht(Oe),o}Ge(e,n){if(!this.Je(e))return;const s=this.ut(e,n.key)?2:0;this.He(e).xe(n.key,s),this.Qe=this.Qe.insert(n.key,n),this.$e=this.$e.insert(n.key,this._t(n.key).add(e)),this.Ue=this.Ue.insert(n.key,this.ct(n.key).add(e))}ze(e,n,s){if(!this.Je(e))return;const o=this.He(e);this.ut(e,n)?o.xe(n,1):o.Oe(n),this.Ue=this.Ue.insert(n,this.ct(n).delete(e)),this.Ue=this.Ue.insert(n,this.ct(n).add(e)),s&&(this.Qe=this.Qe.insert(n,s))}removeTarget(e){this.qe.delete(e)}et(e){const n=this.He(e).Fe();return this.ke.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ne(e){this.He(e).Ne()}He(e){let n=this.qe.get(e);return n||(n=new w_,this.qe.set(e,n)),n}ct(e){let n=this.Ue.get(e);return n||(n=new Dt(Oe),this.Ue=this.Ue.insert(e,n)),n}_t(e){let n=this.$e.get(e);return n||(n=new Dt(Oe),this.$e=this.$e.insert(e,n)),n}Je(e){const n=this.Xe(e)!==null;return n||de("WatchChangeAggregator","Detected inactive target",e),n}Xe(e){const n=this.qe.get(e);return n&&n.De?null:this.ke.lt(e)}Ye(e){this.qe.set(e,new w_),this.ke.getRemoteKeysForTarget(e).forEach(n=>{this.ze(e,n,null)})}ut(e,n){return this.ke.getRemoteKeysForTarget(e).has(n)}}function Kc(){return new ht(_e.comparator)}function A_(){return new ht(_e.comparator)}const iC={asc:"ASCENDING",desc:"DESCENDING"},sC={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},aC={and:"AND",or:"OR"};class oC{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function jm(i,e){return i.useProto3Json||Lh(e)?e:{value:e}}function Sh(i,e){return i.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function YT(i,e){return i.useProto3Json?e.toBase64():e.toUint8Array()}function lC(i,e){return Sh(i,e.toTimestamp())}function _r(i){return Qe(!!i),xe.fromTimestamp(function(n){const s=$i(n);return new Nt(s.seconds,s.nanos)}(i))}function Rp(i,e){return zm(i,e).canonicalString()}function zm(i,e){const n=function(o){return new st(["projects",o.projectId,"databases",o.database])}(i).child("documents");return e===void 0?n:n.child(e)}function $T(i){const e=st.fromString(i);return Qe(eb(e)),e}function Bm(i,e){return Rp(i.databaseId,e.path)}function gm(i,e){const n=$T(e);if(n.get(1)!==i.databaseId.projectId)throw new pe(oe.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+i.databaseId.projectId);if(n.get(3)!==i.databaseId.database)throw new pe(oe.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+i.databaseId.database);return new _e(WT(n))}function XT(i,e){return Rp(i.databaseId,e)}function uC(i){const e=$T(i);return e.length===4?st.emptyPath():WT(e)}function Hm(i){return new st(["projects",i.databaseId.projectId,"databases",i.databaseId.database]).canonicalString()}function WT(i){return Qe(i.length>4&&i.get(4)==="documents"),i.popFirst(5)}function x_(i,e,n){return{name:Bm(i,e),fields:n.value.mapValue.fields}}function cC(i,e){let n;if("targetChange"in e){e.targetChange;const s=function(y){return y==="NO_CHANGE"?0:y==="ADD"?1:y==="REMOVE"?2:y==="CURRENT"?3:y==="RESET"?4:we()}(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],u=function(y,E){return y.useProto3Json?(Qe(E===void 0||typeof E=="string"),Kt.fromBase64String(E||"")):(Qe(E===void 0||E instanceof Buffer||E instanceof Uint8Array),Kt.fromUint8Array(E||new Uint8Array))}(i,e.targetChange.resumeToken),f=e.targetChange.cause,m=f&&function(y){const E=y.code===void 0?oe.UNKNOWN:GT(y.code);return new pe(E,y.message||"")}(f);n=new QT(s,o,u,m||null)}else if("documentChange"in e){e.documentChange;const s=e.documentChange;s.document,s.document.name,s.document.updateTime;const o=gm(i,s.document.name),u=_r(s.document.updateTime),f=s.document.createTime?_r(s.document.createTime):xe.min(),m=new hn({mapValue:{fields:s.document.fields}}),p=Zt.newFoundDocument(o,u,f,m),y=s.targetIds||[],E=s.removedTargetIds||[];n=new sh(y,E,p.key,p)}else if("documentDelete"in e){e.documentDelete;const s=e.documentDelete;s.document;const o=gm(i,s.document),u=s.readTime?_r(s.readTime):xe.min(),f=Zt.newNoDocument(o,u),m=s.removedTargetIds||[];n=new sh([],m,f.key,f)}else if("documentRemove"in e){e.documentRemove;const s=e.documentRemove;s.document;const o=gm(i,s.document),u=s.removedTargetIds||[];n=new sh([],u,o,null)}else{if(!("filter"in e))return we();{e.filter;const s=e.filter;s.targetId;const{count:o=0,unchangedNames:u}=s,f=new eC(o,u),m=s.targetId;n=new KT(m,f)}}return n}function hC(i,e){let n;if(e instanceof cu)n={update:x_(i,e.key,e.value)};else if(e instanceof wp)n={delete:Bm(i,e.key)};else if(e instanceof is)n={update:x_(i,e.key,e.data),updateMask:EC(e.fieldMask)};else{if(!(e instanceof WI))return we();n={verify:Bm(i,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(s=>function(u,f){const m=f.transform;if(m instanceof Th)return{fieldPath:f.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(m instanceof Jl)return{fieldPath:f.field.canonicalString(),appendMissingElements:{values:m.elements}};if(m instanceof eu)return{fieldPath:f.field.canonicalString(),removeAllFromArray:{values:m.elements}};if(m instanceof bh)return{fieldPath:f.field.canonicalString(),increment:m.Ie};throw we()}(0,s))),e.precondition.isNone||(n.currentDocument=function(o,u){return u.updateTime!==void 0?{updateTime:lC(o,u.updateTime)}:u.exists!==void 0?{exists:u.exists}:we()}(i,e.precondition)),n}function fC(i,e){return i&&i.length>0?(Qe(e!==void 0),i.map(n=>function(o,u){let f=o.updateTime?_r(o.updateTime):_r(u);return f.isEqual(xe.min())&&(f=_r(u)),new YI(f,o.transformResults||[])}(n,e))):[]}function dC(i,e){return{documents:[XT(i,e.path)]}}function mC(i,e){const n={structuredQuery:{}},s=e.path;let o;e.collectionGroup!==null?(o=s,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=s.popLast(),n.structuredQuery.from=[{collectionId:s.lastSegment()}]),n.parent=XT(i,o);const u=function(y){if(y.length!==0)return JT(Qn.create(y,"and"))}(e.filters);u&&(n.structuredQuery.where=u);const f=function(y){if(y.length!==0)return y.map(E=>function(A){return{field:Xa(A.field),direction:yC(A.dir)}}(E))}(e.orderBy);f&&(n.structuredQuery.orderBy=f);const m=jm(i,e.limit);return m!==null&&(n.structuredQuery.limit=m),e.startAt&&(n.structuredQuery.startAt=function(y){return{before:y.inclusive,values:y.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(y){return{before:!y.inclusive,values:y.position}}(e.endAt)),{ht:n,parent:o}}function pC(i){let e=uC(i.parent);const n=i.structuredQuery,s=n.from?n.from.length:0;let o=null;if(s>0){Qe(s===1);const E=n.from[0];E.allDescendants?o=E.collectionId:e=e.child(E.collectionId)}let u=[];n.where&&(u=function(w){const A=ZT(w);return A instanceof Qn&&IT(A)?A.getFilters():[A]}(n.where));let f=[];n.orderBy&&(f=function(w){return w.map(A=>function(N){return new Eh(Wa(N.field),function(P){switch(P){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(N.direction))}(A))}(n.orderBy));let m=null;n.limit&&(m=function(w){let A;return A=typeof w=="object"?w.value:w,Lh(A)?null:A}(n.limit));let p=null;n.startAt&&(p=function(w){const A=!!w.before,k=w.values||[];return new _h(k,A)}(n.startAt));let y=null;return n.endAt&&(y=function(w){const A=!w.before,k=w.values||[];return new _h(k,A)}(n.endAt)),VI(e,o,f,u,m,"F",p,y)}function gC(i,e){const n=function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return we()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function ZT(i){return i.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const s=Wa(n.unaryFilter.field);return wt.create(s,"==",{doubleValue:NaN});case"IS_NULL":const o=Wa(n.unaryFilter.field);return wt.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const u=Wa(n.unaryFilter.field);return wt.create(u,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const f=Wa(n.unaryFilter.field);return wt.create(f,"!=",{nullValue:"NULL_VALUE"});default:return we()}}(i):i.fieldFilter!==void 0?function(n){return wt.create(Wa(n.fieldFilter.field),function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return we()}}(n.fieldFilter.op),n.fieldFilter.value)}(i):i.compositeFilter!==void 0?function(n){return Qn.create(n.compositeFilter.filters.map(s=>ZT(s)),function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return we()}}(n.compositeFilter.op))}(i):we()}function yC(i){return iC[i]}function vC(i){return sC[i]}function _C(i){return aC[i]}function Xa(i){return{fieldPath:i.canonicalString()}}function Wa(i){return Gt.fromServerFormat(i.fieldPath)}function JT(i){return i instanceof wt?function(n){if(n.op==="=="){if(d_(n.value))return{unaryFilter:{field:Xa(n.field),op:"IS_NAN"}};if(f_(n.value))return{unaryFilter:{field:Xa(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(d_(n.value))return{unaryFilter:{field:Xa(n.field),op:"IS_NOT_NAN"}};if(f_(n.value))return{unaryFilter:{field:Xa(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Xa(n.field),op:vC(n.op),value:n.value}}}(i):i instanceof Qn?function(n){const s=n.getFilters().map(o=>JT(o));return s.length===1?s[0]:{compositeFilter:{op:_C(n.op),filters:s}}}(i):we()}function EC(i){const e=[];return i.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function eb(i){return i.length>=4&&i.get(0)==="projects"&&i.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bi{constructor(e,n,s,o,u=xe.min(),f=xe.min(),m=Kt.EMPTY_BYTE_STRING,p=null){this.target=e,this.targetId=n,this.purpose=s,this.sequenceNumber=o,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=f,this.resumeToken=m,this.expectedCount=p}withSequenceNumber(e){return new Bi(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Bi(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Bi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Bi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TC{constructor(e){this.Tt=e}}function bC(i){const e=pC({parent:i.parent,structuredQuery:i.structuredQuery});return i.limitType==="LAST"?Um(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SC{constructor(){this.Tn=new wC}addToCollectionParentIndex(e,n){return this.Tn.add(n),ae.resolve()}getCollectionParents(e,n){return ae.resolve(this.Tn.getEntries(n))}addFieldIndex(e,n){return ae.resolve()}deleteFieldIndex(e,n){return ae.resolve()}deleteAllFieldIndexes(e){return ae.resolve()}createTargetIndexes(e,n){return ae.resolve()}getDocumentsMatchingTarget(e,n){return ae.resolve(null)}getIndexType(e,n){return ae.resolve(0)}getFieldIndexes(e,n){return ae.resolve([])}getNextCollectionGroupToUpdate(e){return ae.resolve(null)}getMinOffset(e,n){return ae.resolve(Yi.min())}getMinOffsetFromCollectionGroup(e,n){return ae.resolve(Yi.min())}updateCollectionGroup(e,n,s){return ae.resolve()}updateIndexEntries(e,n){return ae.resolve()}}class wC{constructor(){this.index={}}add(e){const n=e.lastSegment(),s=e.popLast(),o=this.index[n]||new Dt(st.comparator),u=!o.has(s);return this.index[n]=o.add(s),u}has(e){const n=e.lastSegment(),s=e.popLast(),o=this.index[n];return o&&o.has(s)}getEntries(e){return(this.index[e]||new Dt(st.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const R_={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},tb=41943040;class cn{static withCacheSize(e){return new cn(e,cn.DEFAULT_COLLECTION_PERCENTILE,cn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,s){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */cn.DEFAULT_COLLECTION_PERCENTILE=10,cn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,cn.DEFAULT=new cn(tb,cn.DEFAULT_COLLECTION_PERCENTILE,cn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),cn.DISABLED=new cn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uo{constructor(e){this.$n=e}next(){return this.$n+=2,this.$n}static Un(){return new uo(0)}static Kn(){return new uo(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const I_="LruGarbageCollector",AC=1048576;function C_([i,e],[n,s]){const o=Oe(i,n);return o===0?Oe(e,s):o}class xC{constructor(e){this.Hn=e,this.buffer=new Dt(C_),this.Jn=0}Yn(){return++this.Jn}Zn(e){const n=[e,this.Yn()];if(this.buffer.size<this.Hn)this.buffer=this.buffer.add(n);else{const s=this.buffer.last();C_(n,s)<0&&(this.buffer=this.buffer.delete(s).add(n))}}get maxValue(){return this.buffer.last()[0]}}class RC{constructor(e,n,s){this.garbageCollector=e,this.asyncQueue=n,this.localStore=s,this.Xn=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.er(6e4)}stop(){this.Xn&&(this.Xn.cancel(),this.Xn=null)}get started(){return this.Xn!==null}er(e){de(I_,`Garbage collection scheduled in ${e}ms`),this.Xn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Xn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){_o(n)?de(I_,"Ignoring IndexedDB error during garbage collection: ",n):await vo(n)}await this.er(3e5)})}}class IC{constructor(e,n){this.tr=e,this.params=n}calculateTargetCount(e,n){return this.tr.nr(e).next(s=>Math.floor(n/100*s))}nthSequenceNumber(e,n){if(n===0)return ae.resolve(Ph.ae);const s=new xC(n);return this.tr.forEachTarget(e,o=>s.Zn(o.sequenceNumber)).next(()=>this.tr.rr(e,o=>s.Zn(o))).next(()=>s.maxValue)}removeTargets(e,n,s){return this.tr.removeTargets(e,n,s)}removeOrphanedDocuments(e,n){return this.tr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(de("LruGarbageCollector","Garbage collection skipped; disabled"),ae.resolve(R_)):this.getCacheSize(e).next(s=>s<this.params.cacheSizeCollectionThreshold?(de("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),R_):this.ir(e,n))}getCacheSize(e){return this.tr.getCacheSize(e)}ir(e,n){let s,o,u,f,m,p,y;const E=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(w=>(w>this.params.maximumSequenceNumbersToCollect?(de("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${w}`),o=this.params.maximumSequenceNumbersToCollect):o=w,f=Date.now(),this.nthSequenceNumber(e,o))).next(w=>(s=w,m=Date.now(),this.removeTargets(e,s,n))).next(w=>(u=w,p=Date.now(),this.removeOrphanedDocuments(e,s))).next(w=>(y=Date.now(),Ya()<=Le.DEBUG&&de("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${f-E}ms
	Determined least recently used ${o} in `+(m-f)+`ms
	Removed ${u} targets in `+(p-m)+`ms
	Removed ${w} documents in `+(y-p)+`ms
Total Duration: ${y-E}ms`),ae.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:u,documentsRemoved:w})))}}function CC(i,e){return new IC(i,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NC{constructor(){this.changes=new Js(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Zt.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const s=this.changes.get(n);return s!==void 0?ae.resolve(s):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DC{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OC{constructor(e,n,s,o){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=s,this.indexManager=o}getDocument(e,n){let s=null;return this.documentOverlayCache.getOverlay(e,n).next(o=>(s=o,this.remoteDocumentCache.getEntry(e,n))).next(o=>(s!==null&&Gl(s.mutation,o,Tn.empty(),Nt.now()),o))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(s=>this.getLocalViewOfDocuments(e,s,Ue()).next(()=>s))}getLocalViewOfDocuments(e,n,s=Ue()){const o=qs();return this.populateOverlays(e,o,n).next(()=>this.computeViews(e,n,o,s).next(u=>{let f=Ul();return u.forEach((m,p)=>{f=f.insert(m,p.overlayedDocument)}),f}))}getOverlayedDocuments(e,n){const s=qs();return this.populateOverlays(e,s,n).next(()=>this.computeViews(e,n,s,Ue()))}populateOverlays(e,n,s){const o=[];return s.forEach(u=>{n.has(u)||o.push(u)}),this.documentOverlayCache.getOverlays(e,o).next(u=>{u.forEach((f,m)=>{n.set(f,m)})})}computeViews(e,n,s,o){let u=ri();const f=Fl(),m=function(){return Fl()}();return n.forEach((p,y)=>{const E=s.get(y.key);o.has(y.key)&&(E===void 0||E.mutation instanceof is)?u=u.insert(y.key,y):E!==void 0?(f.set(y.key,E.mutation.getFieldMask()),Gl(E.mutation,y,E.mutation.getFieldMask(),Nt.now())):f.set(y.key,Tn.empty())}),this.recalculateAndSaveOverlays(e,u).next(p=>(p.forEach((y,E)=>f.set(y,E)),n.forEach((y,E)=>{var w;return m.set(y,new DC(E,(w=f.get(y))!==null&&w!==void 0?w:null))}),m))}recalculateAndSaveOverlays(e,n){const s=Fl();let o=new ht((f,m)=>f-m),u=Ue();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(f=>{for(const m of f)m.keys().forEach(p=>{const y=n.get(p);if(y===null)return;let E=s.get(p)||Tn.empty();E=m.applyToLocalView(y,E),s.set(p,E);const w=(o.get(m.batchId)||Ue()).add(p);o=o.insert(m.batchId,w)})}).next(()=>{const f=[],m=o.getReverseIterator();for(;m.hasNext();){const p=m.getNext(),y=p.key,E=p.value,w=LT();E.forEach(A=>{if(!u.has(A)){const k=qT(n.get(A),s.get(A));k!==null&&w.set(A,k),u=u.add(A)}}),f.push(this.documentOverlayCache.saveOverlays(e,y,w))}return ae.waitFor(f)}).next(()=>s)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(s=>this.recalculateAndSaveOverlays(e,s))}getDocumentsMatchingQuery(e,n,s,o){return function(f){return _e.isDocumentKey(f.path)&&f.collectionGroup===null&&f.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):OT(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,s,o):this.getDocumentsMatchingCollectionQuery(e,n,s,o)}getNextDocuments(e,n,s,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,s,o).next(u=>{const f=o-u.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,s.largestBatchId,o-u.size):ae.resolve(qs());let m=$l,p=u;return f.next(y=>ae.forEach(y,(E,w)=>(m<w.largestBatchId&&(m=w.largestBatchId),u.get(E)?ae.resolve():this.remoteDocumentCache.getEntry(e,E).next(A=>{p=p.insert(E,A)}))).next(()=>this.populateOverlays(e,y,u)).next(()=>this.computeViews(e,p,y,Ue())).next(E=>({batchId:m,changes:PT(E)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new _e(n)).next(s=>{let o=Ul();return s.isFoundDocument()&&(o=o.insert(s.key,s)),o})}getDocumentsMatchingCollectionGroupQuery(e,n,s,o){const u=n.collectionGroup;let f=Ul();return this.indexManager.getCollectionParents(e,u).next(m=>ae.forEach(m,p=>{const y=function(w,A){return new uu(A,null,w.explicitOrderBy.slice(),w.filters.slice(),w.limit,w.limitType,w.startAt,w.endAt)}(n,p.child(u));return this.getDocumentsMatchingCollectionQuery(e,y,s,o).next(E=>{E.forEach((w,A)=>{f=f.insert(w,A)})})}).next(()=>f))}getDocumentsMatchingCollectionQuery(e,n,s,o){let u;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,s.largestBatchId).next(f=>(u=f,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,s,u,o))).next(f=>{u.forEach((p,y)=>{const E=y.getKey();f.get(E)===null&&(f=f.insert(E,Zt.newInvalidDocument(E)))});let m=Ul();return f.forEach((p,y)=>{const E=u.get(p);E!==void 0&&Gl(E.mutation,y,Tn.empty(),Nt.now()),zh(n,y)&&(m=m.insert(p,y))}),m})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kC{constructor(e){this.serializer=e,this.dr=new Map,this.Ar=new Map}getBundleMetadata(e,n){return ae.resolve(this.dr.get(n))}saveBundleMetadata(e,n){return this.dr.set(n.id,function(o){return{id:o.id,version:o.version,createTime:_r(o.createTime)}}(n)),ae.resolve()}getNamedQuery(e,n){return ae.resolve(this.Ar.get(n))}saveNamedQuery(e,n){return this.Ar.set(n.name,function(o){return{name:o.name,query:bC(o.bundledQuery),readTime:_r(o.readTime)}}(n)),ae.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MC{constructor(){this.overlays=new ht(_e.comparator),this.Rr=new Map}getOverlay(e,n){return ae.resolve(this.overlays.get(n))}getOverlays(e,n){const s=qs();return ae.forEach(n,o=>this.getOverlay(e,o).next(u=>{u!==null&&s.set(o,u)})).next(()=>s)}saveOverlays(e,n,s){return s.forEach((o,u)=>{this.Et(e,n,u)}),ae.resolve()}removeOverlaysForBatchId(e,n,s){const o=this.Rr.get(s);return o!==void 0&&(o.forEach(u=>this.overlays=this.overlays.remove(u)),this.Rr.delete(s)),ae.resolve()}getOverlaysForCollection(e,n,s){const o=qs(),u=n.length+1,f=new _e(n.child("")),m=this.overlays.getIteratorFrom(f);for(;m.hasNext();){const p=m.getNext().value,y=p.getKey();if(!n.isPrefixOf(y.path))break;y.path.length===u&&p.largestBatchId>s&&o.set(p.getKey(),p)}return ae.resolve(o)}getOverlaysForCollectionGroup(e,n,s,o){let u=new ht((y,E)=>y-E);const f=this.overlays.getIterator();for(;f.hasNext();){const y=f.getNext().value;if(y.getKey().getCollectionGroup()===n&&y.largestBatchId>s){let E=u.get(y.largestBatchId);E===null&&(E=qs(),u=u.insert(y.largestBatchId,E)),E.set(y.getKey(),y)}}const m=qs(),p=u.getIterator();for(;p.hasNext()&&(p.getNext().value.forEach((y,E)=>m.set(y,E)),!(m.size()>=o)););return ae.resolve(m)}Et(e,n,s){const o=this.overlays.get(s.key);if(o!==null){const f=this.Rr.get(o.largestBatchId).delete(s.key);this.Rr.set(o.largestBatchId,f)}this.overlays=this.overlays.insert(s.key,new JI(n,s));let u=this.Rr.get(n);u===void 0&&(u=Ue(),this.Rr.set(n,u)),this.Rr.set(n,u.add(s.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VC{constructor(){this.sessionToken=Kt.EMPTY_BYTE_STRING}getSessionToken(e){return ae.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,ae.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ip{constructor(){this.Vr=new Dt(Ut.mr),this.gr=new Dt(Ut.pr)}isEmpty(){return this.Vr.isEmpty()}addReference(e,n){const s=new Ut(e,n);this.Vr=this.Vr.add(s),this.gr=this.gr.add(s)}yr(e,n){e.forEach(s=>this.addReference(s,n))}removeReference(e,n){this.wr(new Ut(e,n))}Sr(e,n){e.forEach(s=>this.removeReference(s,n))}br(e){const n=new _e(new st([])),s=new Ut(n,e),o=new Ut(n,e+1),u=[];return this.gr.forEachInRange([s,o],f=>{this.wr(f),u.push(f.key)}),u}Dr(){this.Vr.forEach(e=>this.wr(e))}wr(e){this.Vr=this.Vr.delete(e),this.gr=this.gr.delete(e)}vr(e){const n=new _e(new st([])),s=new Ut(n,e),o=new Ut(n,e+1);let u=Ue();return this.gr.forEachInRange([s,o],f=>{u=u.add(f.key)}),u}containsKey(e){const n=new Ut(e,0),s=this.Vr.firstAfterOrEqual(n);return s!==null&&e.isEqual(s.key)}}class Ut{constructor(e,n){this.key=e,this.Cr=n}static mr(e,n){return _e.comparator(e.key,n.key)||Oe(e.Cr,n.Cr)}static pr(e,n){return Oe(e.Cr,n.Cr)||_e.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PC{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Fr=1,this.Mr=new Dt(Ut.mr)}checkEmpty(e){return ae.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,s,o){const u=this.Fr;this.Fr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const f=new ZI(u,n,s,o);this.mutationQueue.push(f);for(const m of o)this.Mr=this.Mr.add(new Ut(m.key,u)),this.indexManager.addToCollectionParentIndex(e,m.key.path.popLast());return ae.resolve(f)}lookupMutationBatch(e,n){return ae.resolve(this.Or(n))}getNextMutationBatchAfterBatchId(e,n){const s=n+1,o=this.Nr(s),u=o<0?0:o;return ae.resolve(this.mutationQueue.length>u?this.mutationQueue[u]:null)}getHighestUnacknowledgedBatchId(){return ae.resolve(this.mutationQueue.length===0?yp:this.Fr-1)}getAllMutationBatches(e){return ae.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const s=new Ut(n,0),o=new Ut(n,Number.POSITIVE_INFINITY),u=[];return this.Mr.forEachInRange([s,o],f=>{const m=this.Or(f.Cr);u.push(m)}),ae.resolve(u)}getAllMutationBatchesAffectingDocumentKeys(e,n){let s=new Dt(Oe);return n.forEach(o=>{const u=new Ut(o,0),f=new Ut(o,Number.POSITIVE_INFINITY);this.Mr.forEachInRange([u,f],m=>{s=s.add(m.Cr)})}),ae.resolve(this.Br(s))}getAllMutationBatchesAffectingQuery(e,n){const s=n.path,o=s.length+1;let u=s;_e.isDocumentKey(u)||(u=u.child(""));const f=new Ut(new _e(u),0);let m=new Dt(Oe);return this.Mr.forEachWhile(p=>{const y=p.key.path;return!!s.isPrefixOf(y)&&(y.length===o&&(m=m.add(p.Cr)),!0)},f),ae.resolve(this.Br(m))}Br(e){const n=[];return e.forEach(s=>{const o=this.Or(s);o!==null&&n.push(o)}),n}removeMutationBatch(e,n){Qe(this.Lr(n.batchId,"removed")===0),this.mutationQueue.shift();let s=this.Mr;return ae.forEach(n.mutations,o=>{const u=new Ut(o.key,n.batchId);return s=s.delete(u),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)}).next(()=>{this.Mr=s})}qn(e){}containsKey(e,n){const s=new Ut(n,0),o=this.Mr.firstAfterOrEqual(s);return ae.resolve(n.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,ae.resolve()}Lr(e,n){return this.Nr(e)}Nr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Or(e){const n=this.Nr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LC{constructor(e){this.kr=e,this.docs=function(){return new ht(_e.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const s=n.key,o=this.docs.get(s),u=o?o.size:0,f=this.kr(n);return this.docs=this.docs.insert(s,{document:n.mutableCopy(),size:f}),this.size+=f-u,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const s=this.docs.get(n);return ae.resolve(s?s.document.mutableCopy():Zt.newInvalidDocument(n))}getEntries(e,n){let s=ri();return n.forEach(o=>{const u=this.docs.get(o);s=s.insert(o,u?u.document.mutableCopy():Zt.newInvalidDocument(o))}),ae.resolve(s)}getDocumentsMatchingQuery(e,n,s,o){let u=ri();const f=n.path,m=new _e(f.child("__id-9223372036854775808__")),p=this.docs.getIteratorFrom(m);for(;p.hasNext();){const{key:y,value:{document:E}}=p.getNext();if(!f.isPrefixOf(y.path))break;y.path.length>f.length+1||dI(fI(E),s)<=0||(o.has(E.key)||zh(n,E))&&(u=u.insert(E.key,E.mutableCopy()))}return ae.resolve(u)}getAllFromCollectionGroup(e,n,s,o){we()}qr(e,n){return ae.forEach(this.docs,s=>n(s))}newChangeBuffer(e){return new UC(this)}getSize(e){return ae.resolve(this.size)}}class UC extends NC{constructor(e){super(),this.Ir=e}applyChanges(e){const n=[];return this.changes.forEach((s,o)=>{o.isValidDocument()?n.push(this.Ir.addEntry(e,o)):this.Ir.removeEntry(s)}),ae.waitFor(n)}getFromCache(e,n){return this.Ir.getEntry(e,n)}getAllFromCache(e,n){return this.Ir.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jC{constructor(e){this.persistence=e,this.Qr=new Js(n=>Ep(n),Tp),this.lastRemoteSnapshotVersion=xe.min(),this.highestTargetId=0,this.$r=0,this.Ur=new Ip,this.targetCount=0,this.Kr=uo.Un()}forEachTarget(e,n){return this.Qr.forEach((s,o)=>n(o)),ae.resolve()}getLastRemoteSnapshotVersion(e){return ae.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ae.resolve(this.$r)}allocateTargetId(e){return this.highestTargetId=this.Kr.next(),ae.resolve(this.highestTargetId)}setTargetsMetadata(e,n,s){return s&&(this.lastRemoteSnapshotVersion=s),n>this.$r&&(this.$r=n),ae.resolve()}zn(e){this.Qr.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.Kr=new uo(n),this.highestTargetId=n),e.sequenceNumber>this.$r&&(this.$r=e.sequenceNumber)}addTargetData(e,n){return this.zn(n),this.targetCount+=1,ae.resolve()}updateTargetData(e,n){return this.zn(n),ae.resolve()}removeTargetData(e,n){return this.Qr.delete(n.target),this.Ur.br(n.targetId),this.targetCount-=1,ae.resolve()}removeTargets(e,n,s){let o=0;const u=[];return this.Qr.forEach((f,m)=>{m.sequenceNumber<=n&&s.get(m.targetId)===null&&(this.Qr.delete(f),u.push(this.removeMatchingKeysForTargetId(e,m.targetId)),o++)}),ae.waitFor(u).next(()=>o)}getTargetCount(e){return ae.resolve(this.targetCount)}getTargetData(e,n){const s=this.Qr.get(n)||null;return ae.resolve(s)}addMatchingKeys(e,n,s){return this.Ur.yr(n,s),ae.resolve()}removeMatchingKeys(e,n,s){this.Ur.Sr(n,s);const o=this.persistence.referenceDelegate,u=[];return o&&n.forEach(f=>{u.push(o.markPotentiallyOrphaned(e,f))}),ae.waitFor(u)}removeMatchingKeysForTargetId(e,n){return this.Ur.br(n),ae.resolve()}getMatchingKeysForTargetId(e,n){const s=this.Ur.vr(n);return ae.resolve(s)}containsKey(e,n){return ae.resolve(this.Ur.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nb{constructor(e,n){this.Wr={},this.overlays={},this.Gr=new Ph(0),this.zr=!1,this.zr=!0,this.jr=new VC,this.referenceDelegate=e(this),this.Hr=new jC(this),this.indexManager=new SC,this.remoteDocumentCache=function(o){return new LC(o)}(s=>this.referenceDelegate.Jr(s)),this.serializer=new TC(n),this.Yr=new kC(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.zr=!1,Promise.resolve()}get started(){return this.zr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new MC,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let s=this.Wr[e.toKey()];return s||(s=new PC(n,this.referenceDelegate),this.Wr[e.toKey()]=s),s}getGlobalsCache(){return this.jr}getTargetCache(){return this.Hr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Yr}runTransaction(e,n,s){de("MemoryPersistence","Starting transaction:",e);const o=new zC(this.Gr.next());return this.referenceDelegate.Zr(),s(o).next(u=>this.referenceDelegate.Xr(o).next(()=>u)).toPromise().then(u=>(o.raiseOnCommittedEvent(),u))}ei(e,n){return ae.or(Object.values(this.Wr).map(s=>()=>s.containsKey(e,n)))}}class zC extends pI{constructor(e){super(),this.currentSequenceNumber=e}}class Cp{constructor(e){this.persistence=e,this.ti=new Ip,this.ni=null}static ri(e){return new Cp(e)}get ii(){if(this.ni)return this.ni;throw we()}addReference(e,n,s){return this.ti.addReference(s,n),this.ii.delete(s.toString()),ae.resolve()}removeReference(e,n,s){return this.ti.removeReference(s,n),this.ii.add(s.toString()),ae.resolve()}markPotentiallyOrphaned(e,n){return this.ii.add(n.toString()),ae.resolve()}removeTarget(e,n){this.ti.br(n.targetId).forEach(o=>this.ii.add(o.toString()));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,n.targetId).next(o=>{o.forEach(u=>this.ii.add(u.toString()))}).next(()=>s.removeTargetData(e,n))}Zr(){this.ni=new Set}Xr(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ae.forEach(this.ii,s=>{const o=_e.fromPath(s);return this.si(e,o).next(u=>{u||n.removeEntry(o,xe.min())})}).next(()=>(this.ni=null,n.apply(e)))}updateLimboDocument(e,n){return this.si(e,n).next(s=>{s?this.ii.delete(n.toString()):this.ii.add(n.toString())})}Jr(e){return 0}si(e,n){return ae.or([()=>ae.resolve(this.ti.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.ei(e,n)])}}class wh{constructor(e,n){this.persistence=e,this.oi=new Js(s=>vI(s.path),(s,o)=>s.isEqual(o)),this.garbageCollector=CC(this,n)}static ri(e,n){return new wh(e,n)}Zr(){}Xr(e){return ae.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}nr(e){const n=this.sr(e);return this.persistence.getTargetCache().getTargetCount(e).next(s=>n.next(o=>s+o))}sr(e){let n=0;return this.rr(e,s=>{n++}).next(()=>n)}rr(e,n){return ae.forEach(this.oi,(s,o)=>this.ar(e,s,o).next(u=>u?ae.resolve():n(o)))}removeTargets(e,n,s){return this.persistence.getTargetCache().removeTargets(e,n,s)}removeOrphanedDocuments(e,n){let s=0;const o=this.persistence.getRemoteDocumentCache(),u=o.newChangeBuffer();return o.qr(e,f=>this.ar(e,f,n).next(m=>{m||(s++,u.removeEntry(f,xe.min()))})).next(()=>u.apply(e)).next(()=>s)}markPotentiallyOrphaned(e,n){return this.oi.set(n,e.currentSequenceNumber),ae.resolve()}removeTarget(e,n){const s=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,s)}addReference(e,n,s){return this.oi.set(s,e.currentSequenceNumber),ae.resolve()}removeReference(e,n,s){return this.oi.set(s,e.currentSequenceNumber),ae.resolve()}updateLimboDocument(e,n){return this.oi.set(n,e.currentSequenceNumber),ae.resolve()}Jr(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=nh(e.data.value)),n}ar(e,n,s){return ae.or([()=>this.persistence.ei(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const o=this.oi.get(n);return ae.resolve(o!==void 0&&o>s)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Np{constructor(e,n,s,o){this.targetId=e,this.fromCache=n,this.Hi=s,this.Ji=o}static Yi(e,n){let s=Ue(),o=Ue();for(const u of n.docChanges)switch(u.type){case 0:s=s.add(u.doc.key);break;case 1:o=o.add(u.doc.key)}return new Np(e,n.fromCache,s,o)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BC{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HC{constructor(){this.Zi=!1,this.Xi=!1,this.es=100,this.ts=function(){return _1()?8:gI(Jt())>0?6:4}()}initialize(e,n){this.ns=e,this.indexManager=n,this.Zi=!0}getDocumentsMatchingQuery(e,n,s,o){const u={result:null};return this.rs(e,n).next(f=>{u.result=f}).next(()=>{if(!u.result)return this.ss(e,n,o,s).next(f=>{u.result=f})}).next(()=>{if(u.result)return;const f=new BC;return this._s(e,n,f).next(m=>{if(u.result=m,this.Xi)return this.us(e,n,f,m.size)})}).next(()=>u.result)}us(e,n,s,o){return s.documentReadCount<this.es?(Ya()<=Le.DEBUG&&de("QueryEngine","SDK will not create cache indexes for query:",$a(n),"since it only creates cache indexes for collection contains","more than or equal to",this.es,"documents"),ae.resolve()):(Ya()<=Le.DEBUG&&de("QueryEngine","Query:",$a(n),"scans",s.documentReadCount,"local documents and returns",o,"documents as results."),s.documentReadCount>this.ts*o?(Ya()<=Le.DEBUG&&de("QueryEngine","The SDK decides to create cache indexes for query:",$a(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,vr(n))):ae.resolve())}rs(e,n){if(y_(n))return ae.resolve(null);let s=vr(n);return this.indexManager.getIndexType(e,s).next(o=>o===0?null:(n.limit!==null&&o===1&&(n=Um(n,null,"F"),s=vr(n)),this.indexManager.getDocumentsMatchingTarget(e,s).next(u=>{const f=Ue(...u);return this.ns.getDocuments(e,f).next(m=>this.indexManager.getMinOffset(e,s).next(p=>{const y=this.cs(n,m);return this.ls(n,y,f,p.readTime)?this.rs(e,Um(n,null,"F")):this.hs(e,y,n,p)}))})))}ss(e,n,s,o){return y_(n)||o.isEqual(xe.min())?ae.resolve(null):this.ns.getDocuments(e,s).next(u=>{const f=this.cs(n,u);return this.ls(n,f,s,o)?ae.resolve(null):(Ya()<=Le.DEBUG&&de("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),$a(n)),this.hs(e,f,n,hI(o,$l)).next(m=>m))})}cs(e,n){let s=new Dt(MT(e));return n.forEach((o,u)=>{zh(e,u)&&(s=s.add(u))}),s}ls(e,n,s,o){if(e.limit===null)return!1;if(s.size!==n.size)return!0;const u=e.limitType==="F"?n.last():n.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(o)>0)}_s(e,n,s){return Ya()<=Le.DEBUG&&de("QueryEngine","Using full collection scan to execute query:",$a(n)),this.ns.getDocumentsMatchingQuery(e,n,Yi.min(),s)}hs(e,n,s,o){return this.ns.getDocumentsMatchingQuery(e,s,o).next(u=>(n.forEach(f=>{u=u.insert(f.key,f)}),u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dp="LocalStore",qC=3e8;class FC{constructor(e,n,s,o){this.persistence=e,this.Ps=n,this.serializer=o,this.Ts=new ht(Oe),this.Is=new Js(u=>Ep(u),Tp),this.Es=new Map,this.ds=e.getRemoteDocumentCache(),this.Hr=e.getTargetCache(),this.Yr=e.getBundleCache(),this.As(s)}As(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new OC(this.ds,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.ds.setIndexManager(this.indexManager),this.Ps.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.Ts))}}function GC(i,e,n,s){return new FC(i,e,n,s)}async function rb(i,e){const n=Ie(i);return await n.persistence.runTransaction("Handle user change","readonly",s=>{let o;return n.mutationQueue.getAllMutationBatches(s).next(u=>(o=u,n.As(e),n.mutationQueue.getAllMutationBatches(s))).next(u=>{const f=[],m=[];let p=Ue();for(const y of o){f.push(y.batchId);for(const E of y.mutations)p=p.add(E.key)}for(const y of u){m.push(y.batchId);for(const E of y.mutations)p=p.add(E.key)}return n.localDocuments.getDocuments(s,p).next(y=>({Rs:y,removedBatchIds:f,addedBatchIds:m}))})})}function KC(i,e){const n=Ie(i);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",s=>{const o=e.batch.keys(),u=n.ds.newChangeBuffer({trackRemovals:!0});return function(m,p,y,E){const w=y.batch,A=w.keys();let k=ae.resolve();return A.forEach(N=>{k=k.next(()=>E.getEntry(p,N)).next(M=>{const P=y.docVersions.get(N);Qe(P!==null),M.version.compareTo(P)<0&&(w.applyToRemoteDocument(M,y),M.isValidDocument()&&(M.setReadTime(y.commitVersion),E.addEntry(M)))})}),k.next(()=>m.mutationQueue.removeMutationBatch(p,w))}(n,s,e,u).next(()=>u.apply(s)).next(()=>n.mutationQueue.performConsistencyCheck(s)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(s,o,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,function(m){let p=Ue();for(let y=0;y<m.mutationResults.length;++y)m.mutationResults[y].transformResults.length>0&&(p=p.add(m.batch.mutations[y].key));return p}(e))).next(()=>n.localDocuments.getDocuments(s,o))})}function ib(i){const e=Ie(i);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Hr.getLastRemoteSnapshotVersion(n))}function QC(i,e){const n=Ie(i),s=e.snapshotVersion;let o=n.Ts;return n.persistence.runTransaction("Apply remote event","readwrite-primary",u=>{const f=n.ds.newChangeBuffer({trackRemovals:!0});o=n.Ts;const m=[];e.targetChanges.forEach((E,w)=>{const A=o.get(w);if(!A)return;m.push(n.Hr.removeMatchingKeys(u,E.removedDocuments,w).next(()=>n.Hr.addMatchingKeys(u,E.addedDocuments,w)));let k=A.withSequenceNumber(u.currentSequenceNumber);e.targetMismatches.get(w)!==null?k=k.withResumeToken(Kt.EMPTY_BYTE_STRING,xe.min()).withLastLimboFreeSnapshotVersion(xe.min()):E.resumeToken.approximateByteSize()>0&&(k=k.withResumeToken(E.resumeToken,s)),o=o.insert(w,k),function(M,P,K){return M.resumeToken.approximateByteSize()===0||P.snapshotVersion.toMicroseconds()-M.snapshotVersion.toMicroseconds()>=qC?!0:K.addedDocuments.size+K.modifiedDocuments.size+K.removedDocuments.size>0}(A,k,E)&&m.push(n.Hr.updateTargetData(u,k))});let p=ri(),y=Ue();if(e.documentUpdates.forEach(E=>{e.resolvedLimboDocuments.has(E)&&m.push(n.persistence.referenceDelegate.updateLimboDocument(u,E))}),m.push(YC(u,f,e.documentUpdates).next(E=>{p=E.Vs,y=E.fs})),!s.isEqual(xe.min())){const E=n.Hr.getLastRemoteSnapshotVersion(u).next(w=>n.Hr.setTargetsMetadata(u,u.currentSequenceNumber,s));m.push(E)}return ae.waitFor(m).next(()=>f.apply(u)).next(()=>n.localDocuments.getLocalViewOfDocuments(u,p,y)).next(()=>p)}).then(u=>(n.Ts=o,u))}function YC(i,e,n){let s=Ue(),o=Ue();return n.forEach(u=>s=s.add(u)),e.getEntries(i,s).next(u=>{let f=ri();return n.forEach((m,p)=>{const y=u.get(m);p.isFoundDocument()!==y.isFoundDocument()&&(o=o.add(m)),p.isNoDocument()&&p.version.isEqual(xe.min())?(e.removeEntry(m,p.readTime),f=f.insert(m,p)):!y.isValidDocument()||p.version.compareTo(y.version)>0||p.version.compareTo(y.version)===0&&y.hasPendingWrites?(e.addEntry(p),f=f.insert(m,p)):de(Dp,"Ignoring outdated watch update for ",m,". Current version:",y.version," Watch version:",p.version)}),{Vs:f,fs:o}})}function $C(i,e){const n=Ie(i);return n.persistence.runTransaction("Get next mutation batch","readonly",s=>(e===void 0&&(e=yp),n.mutationQueue.getNextMutationBatchAfterBatchId(s,e)))}function XC(i,e){const n=Ie(i);return n.persistence.runTransaction("Allocate target","readwrite",s=>{let o;return n.Hr.getTargetData(s,e).next(u=>u?(o=u,ae.resolve(o)):n.Hr.allocateTargetId(s).next(f=>(o=new Bi(e,f,"TargetPurposeListen",s.currentSequenceNumber),n.Hr.addTargetData(s,o).next(()=>o))))}).then(s=>{const o=n.Ts.get(s.targetId);return(o===null||s.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(n.Ts=n.Ts.insert(s.targetId,s),n.Is.set(e,s.targetId)),s})}async function qm(i,e,n){const s=Ie(i),o=s.Ts.get(e),u=n?"readwrite":"readwrite-primary";try{n||await s.persistence.runTransaction("Release target",u,f=>s.persistence.referenceDelegate.removeTarget(f,o))}catch(f){if(!_o(f))throw f;de(Dp,`Failed to update sequence numbers for target ${e}: ${f}`)}s.Ts=s.Ts.remove(e),s.Is.delete(o.target)}function N_(i,e,n){const s=Ie(i);let o=xe.min(),u=Ue();return s.persistence.runTransaction("Execute query","readwrite",f=>function(p,y,E){const w=Ie(p),A=w.Is.get(E);return A!==void 0?ae.resolve(w.Ts.get(A)):w.Hr.getTargetData(y,E)}(s,f,vr(e)).next(m=>{if(m)return o=m.lastLimboFreeSnapshotVersion,s.Hr.getMatchingKeysForTargetId(f,m.targetId).next(p=>{u=p})}).next(()=>s.Ps.getDocumentsMatchingQuery(f,e,n?o:xe.min(),n?u:Ue())).next(m=>(WC(s,LI(e),m),{documents:m,gs:u})))}function WC(i,e,n){let s=i.Es.get(e)||xe.min();n.forEach((o,u)=>{u.readTime.compareTo(s)>0&&(s=u.readTime)}),i.Es.set(e,s)}class D_{constructor(){this.activeTargetIds=qI()}Ds(e){this.activeTargetIds=this.activeTargetIds.add(e)}vs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}bs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class ZC{constructor(){this.ho=new D_,this.Po={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,s){}addLocalQueryTarget(e,n=!0){return n&&this.ho.Ds(e),this.Po[e]||"not-current"}updateQueryState(e,n,s){this.Po[e]=n}removeLocalQueryTarget(e){this.ho.vs(e)}isLocalQueryTarget(e){return this.ho.activeTargetIds.has(e)}clearQueryState(e){delete this.Po[e]}getAllActiveQueryTargets(){return this.ho.activeTargetIds}isActiveQueryTarget(e){return this.ho.activeTargetIds.has(e)}start(){return this.ho=new D_,Promise.resolve()}handleUserChange(e,n,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JC{To(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const O_="ConnectivityMonitor";class k_{constructor(){this.Io=()=>this.Eo(),this.Ao=()=>this.Ro(),this.Vo=[],this.mo()}To(e){this.Vo.push(e)}shutdown(){window.removeEventListener("online",this.Io),window.removeEventListener("offline",this.Ao)}mo(){window.addEventListener("online",this.Io),window.addEventListener("offline",this.Ao)}Eo(){de(O_,"Network connectivity changed: AVAILABLE");for(const e of this.Vo)e(0)}Ro(){de(O_,"Network connectivity changed: UNAVAILABLE");for(const e of this.Vo)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Qc=null;function Fm(){return Qc===null?Qc=function(){return 268435456+Math.round(2147483648*Math.random())}():Qc++,"0x"+Qc.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ym="RestConnection",eN={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class tN{get fo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.po=n+"://"+e.host,this.yo=`projects/${s}/databases/${o}`,this.wo=this.databaseId.database===yh?`project_id=${s}`:`project_id=${s}&database_id=${o}`}So(e,n,s,o,u){const f=Fm(),m=this.bo(e,n.toUriEncodedString());de(ym,`Sending RPC '${e}' ${f}:`,m,s);const p={"google-cloud-resource-prefix":this.yo,"x-goog-request-params":this.wo};return this.Do(p,o,u),this.vo(e,m,p,s).then(y=>(de(ym,`Received RPC '${e}' ${f}: `,y),y),y=>{throw so(ym,`RPC '${e}' ${f} failed with error: `,y,"url: ",m,"request:",s),y})}Co(e,n,s,o,u,f){return this.So(e,n,s,o,u)}Do(e,n,s){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+yo}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((o,u)=>e[u]=o),s&&s.headers.forEach((o,u)=>e[u]=o)}bo(e,n){const s=eN[e];return`${this.po}/v1/${n}:${s}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nN{constructor(e){this.Fo=e.Fo,this.Mo=e.Mo}xo(e){this.Oo=e}No(e){this.Bo=e}Lo(e){this.ko=e}onMessage(e){this.qo=e}close(){this.Mo()}send(e){this.Fo(e)}Qo(){this.Oo()}$o(){this.Bo()}Uo(e){this.ko(e)}Ko(e){this.qo(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xt="WebChannelConnection";class rN extends tN{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}vo(e,n,s,o){const u=Fm();return new Promise((f,m)=>{const p=new lT;p.setWithCredentials(!0),p.listenOnce(uT.COMPLETE,()=>{try{switch(p.getLastErrorCode()){case th.NO_ERROR:const E=p.getResponseJson();de(Xt,`XHR for RPC '${e}' ${u} received:`,JSON.stringify(E)),f(E);break;case th.TIMEOUT:de(Xt,`RPC '${e}' ${u} timed out`),m(new pe(oe.DEADLINE_EXCEEDED,"Request time out"));break;case th.HTTP_ERROR:const w=p.getStatus();if(de(Xt,`RPC '${e}' ${u} failed with status:`,w,"response text:",p.getResponseText()),w>0){let A=p.getResponseJson();Array.isArray(A)&&(A=A[0]);const k=A==null?void 0:A.error;if(k&&k.status&&k.message){const N=function(P){const K=P.toLowerCase().replace(/_/g,"-");return Object.values(oe).indexOf(K)>=0?K:oe.UNKNOWN}(k.status);m(new pe(N,k.message))}else m(new pe(oe.UNKNOWN,"Server responded with status "+p.getStatus()))}else m(new pe(oe.UNAVAILABLE,"Connection failed."));break;default:we()}}finally{de(Xt,`RPC '${e}' ${u} completed.`)}});const y=JSON.stringify(o);de(Xt,`RPC '${e}' ${u} sending request:`,o),p.send(n,"POST",y,s,15)})}Wo(e,n,s){const o=Fm(),u=[this.po,"/","google.firestore.v1.Firestore","/",e,"/channel"],f=fT(),m=hT(),p={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},y=this.longPollingOptions.timeoutSeconds;y!==void 0&&(p.longPollingTimeout=Math.round(1e3*y)),this.useFetchStreams&&(p.useFetchStreams=!0),this.Do(p.initMessageHeaders,n,s),p.encodeInitMessageHeaders=!0;const E=u.join("");de(Xt,`Creating RPC '${e}' stream ${o}: ${E}`,p);const w=f.createWebChannel(E,p);let A=!1,k=!1;const N=new nN({Fo:P=>{k?de(Xt,`Not sending because RPC '${e}' stream ${o} is closed:`,P):(A||(de(Xt,`Opening RPC '${e}' stream ${o} transport.`),w.open(),A=!0),de(Xt,`RPC '${e}' stream ${o} sending:`,P),w.send(P))},Mo:()=>w.close()}),M=(P,K,se)=>{P.listen(K,X=>{try{se(X)}catch(he){setTimeout(()=>{throw he},0)}})};return M(w,Ll.EventType.OPEN,()=>{k||(de(Xt,`RPC '${e}' stream ${o} transport opened.`),N.Qo())}),M(w,Ll.EventType.CLOSE,()=>{k||(k=!0,de(Xt,`RPC '${e}' stream ${o} transport closed`),N.Uo())}),M(w,Ll.EventType.ERROR,P=>{k||(k=!0,so(Xt,`RPC '${e}' stream ${o} transport errored:`,P),N.Uo(new pe(oe.UNAVAILABLE,"The operation could not be completed")))}),M(w,Ll.EventType.MESSAGE,P=>{var K;if(!k){const se=P.data[0];Qe(!!se);const X=se,he=(X==null?void 0:X.error)||((K=X[0])===null||K===void 0?void 0:K.error);if(he){de(Xt,`RPC '${e}' stream ${o} received error:`,he);const le=he.status;let me=function(I){const O=St[I];if(O!==void 0)return GT(O)}(le),V=he.message;me===void 0&&(me=oe.INTERNAL,V="Unknown error status: "+le+" with message "+he.message),k=!0,N.Uo(new pe(me,V)),w.close()}else de(Xt,`RPC '${e}' stream ${o} received:`,se),N.Ko(se)}}),M(m,cT.STAT_EVENT,P=>{P.stat===Dm.PROXY?de(Xt,`RPC '${e}' stream ${o} detected buffering proxy`):P.stat===Dm.NOPROXY&&de(Xt,`RPC '${e}' stream ${o} detected no buffering proxy`)}),setTimeout(()=>{N.$o()},0),N}}function vm(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fh(i){return new oC(i,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sb{constructor(e,n,s=1e3,o=1.5,u=6e4){this.Ti=e,this.timerId=n,this.Go=s,this.zo=o,this.jo=u,this.Ho=0,this.Jo=null,this.Yo=Date.now(),this.reset()}reset(){this.Ho=0}Zo(){this.Ho=this.jo}Xo(e){this.cancel();const n=Math.floor(this.Ho+this.e_()),s=Math.max(0,Date.now()-this.Yo),o=Math.max(0,n-s);o>0&&de("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.Ho} ms, delay with jitter: ${n} ms, last attempt: ${s} ms ago)`),this.Jo=this.Ti.enqueueAfterDelay(this.timerId,o,()=>(this.Yo=Date.now(),e())),this.Ho*=this.zo,this.Ho<this.Go&&(this.Ho=this.Go),this.Ho>this.jo&&(this.Ho=this.jo)}t_(){this.Jo!==null&&(this.Jo.skipDelay(),this.Jo=null)}cancel(){this.Jo!==null&&(this.Jo.cancel(),this.Jo=null)}e_(){return(Math.random()-.5)*this.Ho}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const M_="PersistentStream";class ab{constructor(e,n,s,o,u,f,m,p){this.Ti=e,this.n_=s,this.r_=o,this.connection=u,this.authCredentialsProvider=f,this.appCheckCredentialsProvider=m,this.listener=p,this.state=0,this.i_=0,this.s_=null,this.o_=null,this.stream=null,this.__=0,this.a_=new sb(e,n)}u_(){return this.state===1||this.state===5||this.c_()}c_(){return this.state===2||this.state===3}start(){this.__=0,this.state!==4?this.auth():this.l_()}async stop(){this.u_()&&await this.close(0)}h_(){this.state=0,this.a_.reset()}P_(){this.c_()&&this.s_===null&&(this.s_=this.Ti.enqueueAfterDelay(this.n_,6e4,()=>this.T_()))}I_(e){this.E_(),this.stream.send(e)}async T_(){if(this.c_())return this.close(0)}E_(){this.s_&&(this.s_.cancel(),this.s_=null)}d_(){this.o_&&(this.o_.cancel(),this.o_=null)}async close(e,n){this.E_(),this.d_(),this.a_.cancel(),this.i_++,e!==4?this.a_.reset():n&&n.code===oe.RESOURCE_EXHAUSTED?(ni(n.toString()),ni("Using maximum backoff delay to prevent overloading the backend."),this.a_.Zo()):n&&n.code===oe.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.A_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.Lo(n)}A_(){}auth(){this.state=1;const e=this.R_(this.i_),n=this.i_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([s,o])=>{this.i_===n&&this.V_(s,o)},s=>{e(()=>{const o=new pe(oe.UNKNOWN,"Fetching auth token failed: "+s.message);return this.m_(o)})})}V_(e,n){const s=this.R_(this.i_);this.stream=this.f_(e,n),this.stream.xo(()=>{s(()=>this.listener.xo())}),this.stream.No(()=>{s(()=>(this.state=2,this.o_=this.Ti.enqueueAfterDelay(this.r_,1e4,()=>(this.c_()&&(this.state=3),Promise.resolve())),this.listener.No()))}),this.stream.Lo(o=>{s(()=>this.m_(o))}),this.stream.onMessage(o=>{s(()=>++this.__==1?this.g_(o):this.onNext(o))})}l_(){this.state=5,this.a_.Xo(async()=>{this.state=0,this.start()})}m_(e){return de(M_,`close with error: ${e}`),this.stream=null,this.close(4,e)}R_(e){return n=>{this.Ti.enqueueAndForget(()=>this.i_===e?n():(de(M_,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class iN extends ab{constructor(e,n,s,o,u,f){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,s,o,f),this.serializer=u}f_(e,n){return this.connection.Wo("Listen",e,n)}g_(e){return this.onNext(e)}onNext(e){this.a_.reset();const n=cC(this.serializer,e),s=function(u){if(!("targetChange"in u))return xe.min();const f=u.targetChange;return f.targetIds&&f.targetIds.length?xe.min():f.readTime?_r(f.readTime):xe.min()}(e);return this.listener.p_(n,s)}y_(e){const n={};n.database=Hm(this.serializer),n.addTarget=function(u,f){let m;const p=f.target;if(m=Pm(p)?{documents:dC(u,p)}:{query:mC(u,p).ht},m.targetId=f.targetId,f.resumeToken.approximateByteSize()>0){m.resumeToken=YT(u,f.resumeToken);const y=jm(u,f.expectedCount);y!==null&&(m.expectedCount=y)}else if(f.snapshotVersion.compareTo(xe.min())>0){m.readTime=Sh(u,f.snapshotVersion.toTimestamp());const y=jm(u,f.expectedCount);y!==null&&(m.expectedCount=y)}return m}(this.serializer,e);const s=gC(this.serializer,e);s&&(n.labels=s),this.I_(n)}w_(e){const n={};n.database=Hm(this.serializer),n.removeTarget=e,this.I_(n)}}class sN extends ab{constructor(e,n,s,o,u,f){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,s,o,f),this.serializer=u}get S_(){return this.__>0}start(){this.lastStreamToken=void 0,super.start()}A_(){this.S_&&this.b_([])}f_(e,n){return this.connection.Wo("Write",e,n)}g_(e){return Qe(!!e.streamToken),this.lastStreamToken=e.streamToken,Qe(!e.writeResults||e.writeResults.length===0),this.listener.D_()}onNext(e){Qe(!!e.streamToken),this.lastStreamToken=e.streamToken,this.a_.reset();const n=fC(e.writeResults,e.commitTime),s=_r(e.commitTime);return this.listener.v_(s,n)}C_(){const e={};e.database=Hm(this.serializer),this.I_(e)}b_(e){const n={streamToken:this.lastStreamToken,writes:e.map(s=>hC(this.serializer,s))};this.I_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aN{}class oN extends aN{constructor(e,n,s,o){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=s,this.serializer=o,this.F_=!1}M_(){if(this.F_)throw new pe(oe.FAILED_PRECONDITION,"The client has already been terminated.")}So(e,n,s,o){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([u,f])=>this.connection.So(e,zm(n,s),o,u,f)).catch(u=>{throw u.name==="FirebaseError"?(u.code===oe.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new pe(oe.UNKNOWN,u.toString())})}Co(e,n,s,o,u){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([f,m])=>this.connection.Co(e,zm(n,s),o,f,m,u)).catch(f=>{throw f.name==="FirebaseError"?(f.code===oe.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),f):new pe(oe.UNKNOWN,f.toString())})}terminate(){this.F_=!0,this.connection.terminate()}}class lN{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.x_=0,this.O_=null,this.N_=!0}B_(){this.x_===0&&(this.L_("Unknown"),this.O_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.O_=null,this.k_("Backend didn't respond within 10 seconds."),this.L_("Offline"),Promise.resolve())))}q_(e){this.state==="Online"?this.L_("Unknown"):(this.x_++,this.x_>=1&&(this.Q_(),this.k_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.L_("Offline")))}set(e){this.Q_(),this.x_=0,e==="Online"&&(this.N_=!1),this.L_(e)}L_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}k_(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.N_?(ni(n),this.N_=!1):de("OnlineStateTracker",n)}Q_(){this.O_!==null&&(this.O_.cancel(),this.O_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xs="RemoteStore";class uN{constructor(e,n,s,o,u){this.localStore=e,this.datastore=n,this.asyncQueue=s,this.remoteSyncer={},this.U_=[],this.K_=new Map,this.W_=new Set,this.G_=[],this.z_=u,this.z_.To(f=>{s.enqueueAndForget(async()=>{ea(this)&&(de(Xs,"Restarting streams for network reachability change."),await async function(p){const y=Ie(p);y.W_.add(4),await fu(y),y.j_.set("Unknown"),y.W_.delete(4),await Gh(y)}(this))})}),this.j_=new lN(s,o)}}async function Gh(i){if(ea(i))for(const e of i.G_)await e(!0)}async function fu(i){for(const e of i.G_)await e(!1)}function ob(i,e){const n=Ie(i);n.K_.has(e.targetId)||(n.K_.set(e.targetId,e),Vp(n)?Mp(n):Eo(n).c_()&&kp(n,e))}function Op(i,e){const n=Ie(i),s=Eo(n);n.K_.delete(e),s.c_()&&lb(n,e),n.K_.size===0&&(s.c_()?s.P_():ea(n)&&n.j_.set("Unknown"))}function kp(i,e){if(i.H_.Ne(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(xe.min())>0){const n=i.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Eo(i).y_(e)}function lb(i,e){i.H_.Ne(e),Eo(i).w_(e)}function Mp(i){i.H_=new rC({getRemoteKeysForTarget:e=>i.remoteSyncer.getRemoteKeysForTarget(e),lt:e=>i.K_.get(e)||null,it:()=>i.datastore.serializer.databaseId}),Eo(i).start(),i.j_.B_()}function Vp(i){return ea(i)&&!Eo(i).u_()&&i.K_.size>0}function ea(i){return Ie(i).W_.size===0}function ub(i){i.H_=void 0}async function cN(i){i.j_.set("Online")}async function hN(i){i.K_.forEach((e,n)=>{kp(i,e)})}async function fN(i,e){ub(i),Vp(i)?(i.j_.q_(e),Mp(i)):i.j_.set("Unknown")}async function dN(i,e,n){if(i.j_.set("Online"),e instanceof QT&&e.state===2&&e.cause)try{await async function(o,u){const f=u.cause;for(const m of u.targetIds)o.K_.has(m)&&(await o.remoteSyncer.rejectListen(m,f),o.K_.delete(m),o.H_.removeTarget(m))}(i,e)}catch(s){de(Xs,"Failed to remove targets %s: %s ",e.targetIds.join(","),s),await Ah(i,s)}else if(e instanceof sh?i.H_.We(e):e instanceof KT?i.H_.Ze(e):i.H_.je(e),!n.isEqual(xe.min()))try{const s=await ib(i.localStore);n.compareTo(s)>=0&&await function(u,f){const m=u.H_.ot(f);return m.targetChanges.forEach((p,y)=>{if(p.resumeToken.approximateByteSize()>0){const E=u.K_.get(y);E&&u.K_.set(y,E.withResumeToken(p.resumeToken,f))}}),m.targetMismatches.forEach((p,y)=>{const E=u.K_.get(p);if(!E)return;u.K_.set(p,E.withResumeToken(Kt.EMPTY_BYTE_STRING,E.snapshotVersion)),lb(u,p);const w=new Bi(E.target,p,y,E.sequenceNumber);kp(u,w)}),u.remoteSyncer.applyRemoteEvent(m)}(i,n)}catch(s){de(Xs,"Failed to raise snapshot:",s),await Ah(i,s)}}async function Ah(i,e,n){if(!_o(e))throw e;i.W_.add(1),await fu(i),i.j_.set("Offline"),n||(n=()=>ib(i.localStore)),i.asyncQueue.enqueueRetryable(async()=>{de(Xs,"Retrying IndexedDB access"),await n(),i.W_.delete(1),await Gh(i)})}function cb(i,e){return e().catch(n=>Ah(i,n,e))}async function Kh(i){const e=Ie(i),n=Zi(e);let s=e.U_.length>0?e.U_[e.U_.length-1].batchId:yp;for(;mN(e);)try{const o=await $C(e.localStore,s);if(o===null){e.U_.length===0&&n.P_();break}s=o.batchId,pN(e,o)}catch(o){await Ah(e,o)}hb(e)&&fb(e)}function mN(i){return ea(i)&&i.U_.length<10}function pN(i,e){i.U_.push(e);const n=Zi(i);n.c_()&&n.S_&&n.b_(e.mutations)}function hb(i){return ea(i)&&!Zi(i).u_()&&i.U_.length>0}function fb(i){Zi(i).start()}async function gN(i){Zi(i).C_()}async function yN(i){const e=Zi(i);for(const n of i.U_)e.b_(n.mutations)}async function vN(i,e,n){const s=i.U_.shift(),o=Ap.from(s,e,n);await cb(i,()=>i.remoteSyncer.applySuccessfulWrite(o)),await Kh(i)}async function _N(i,e){e&&Zi(i).S_&&await async function(s,o){if(function(f){return tC(f)&&f!==oe.ABORTED}(o.code)){const u=s.U_.shift();Zi(s).h_(),await cb(s,()=>s.remoteSyncer.rejectFailedWrite(u.batchId,o)),await Kh(s)}}(i,e),hb(i)&&fb(i)}async function V_(i,e){const n=Ie(i);n.asyncQueue.verifyOperationInProgress(),de(Xs,"RemoteStore received new credentials");const s=ea(n);n.W_.add(3),await fu(n),s&&n.j_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.W_.delete(3),await Gh(n)}async function EN(i,e){const n=Ie(i);e?(n.W_.delete(2),await Gh(n)):e||(n.W_.add(2),await fu(n),n.j_.set("Unknown"))}function Eo(i){return i.J_||(i.J_=function(n,s,o){const u=Ie(n);return u.M_(),new iN(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)}(i.datastore,i.asyncQueue,{xo:cN.bind(null,i),No:hN.bind(null,i),Lo:fN.bind(null,i),p_:dN.bind(null,i)}),i.G_.push(async e=>{e?(i.J_.h_(),Vp(i)?Mp(i):i.j_.set("Unknown")):(await i.J_.stop(),ub(i))})),i.J_}function Zi(i){return i.Y_||(i.Y_=function(n,s,o){const u=Ie(n);return u.M_(),new sN(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)}(i.datastore,i.asyncQueue,{xo:()=>Promise.resolve(),No:gN.bind(null,i),Lo:_N.bind(null,i),D_:yN.bind(null,i),v_:vN.bind(null,i)}),i.G_.push(async e=>{e?(i.Y_.h_(),await Kh(i)):(await i.Y_.stop(),i.U_.length>0&&(de(Xs,`Stopping write stream with ${i.U_.length} pending writes`),i.U_=[]))})),i.Y_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pp{constructor(e,n,s,o,u){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=s,this.op=o,this.removalCallback=u,this.deferred=new Zr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(f=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,s,o,u){const f=Date.now()+s,m=new Pp(e,n,f,o,u);return m.start(s),m}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new pe(oe.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Lp(i,e){if(ni("AsyncQueue",`${e}: ${i}`),_o(i))return new pe(oe.UNAVAILABLE,`${e}: ${i}`);throw i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class no{static emptySet(e){return new no(e.comparator)}constructor(e){this.comparator=e?(n,s)=>e(n,s)||_e.comparator(n.key,s.key):(n,s)=>_e.comparator(n.key,s.key),this.keyedMap=Ul(),this.sortedSet=new ht(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,s)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof no)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;n.hasNext();){const o=n.getNext().key,u=s.getNext().key;if(!o.isEqual(u))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const s=new no;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=n,s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P_{constructor(){this.Z_=new ht(_e.comparator)}track(e){const n=e.doc.key,s=this.Z_.get(n);s?e.type!==0&&s.type===3?this.Z_=this.Z_.insert(n,e):e.type===3&&s.type!==1?this.Z_=this.Z_.insert(n,{type:s.type,doc:e.doc}):e.type===2&&s.type===2?this.Z_=this.Z_.insert(n,{type:2,doc:e.doc}):e.type===2&&s.type===0?this.Z_=this.Z_.insert(n,{type:0,doc:e.doc}):e.type===1&&s.type===0?this.Z_=this.Z_.remove(n):e.type===1&&s.type===2?this.Z_=this.Z_.insert(n,{type:1,doc:s.doc}):e.type===0&&s.type===1?this.Z_=this.Z_.insert(n,{type:2,doc:e.doc}):we():this.Z_=this.Z_.insert(n,e)}X_(){const e=[];return this.Z_.inorderTraversal((n,s)=>{e.push(s)}),e}}class co{constructor(e,n,s,o,u,f,m,p,y){this.query=e,this.docs=n,this.oldDocs=s,this.docChanges=o,this.mutatedKeys=u,this.fromCache=f,this.syncStateChanged=m,this.excludesMetadataChanges=p,this.hasCachedResults=y}static fromInitialDocuments(e,n,s,o,u){const f=[];return n.forEach(m=>{f.push({type:0,doc:m})}),new co(e,n,no.emptySet(n),f,s,o,!0,!1,u)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&jh(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,s=e.docChanges;if(n.length!==s.length)return!1;for(let o=0;o<n.length;o++)if(n[o].type!==s[o].type||!n[o].doc.isEqual(s[o].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TN{constructor(){this.ea=void 0,this.ta=[]}na(){return this.ta.some(e=>e.ra())}}class bN{constructor(){this.queries=L_(),this.onlineState="Unknown",this.ia=new Set}terminate(){(function(n,s){const o=Ie(n),u=o.queries;o.queries=L_(),u.forEach((f,m)=>{for(const p of m.ta)p.onError(s)})})(this,new pe(oe.ABORTED,"Firestore shutting down"))}}function L_(){return new Js(i=>kT(i),jh)}async function db(i,e){const n=Ie(i);let s=3;const o=e.query;let u=n.queries.get(o);u?!u.na()&&e.ra()&&(s=2):(u=new TN,s=e.ra()?0:1);try{switch(s){case 0:u.ea=await n.onListen(o,!0);break;case 1:u.ea=await n.onListen(o,!1);break;case 2:await n.onFirstRemoteStoreListen(o)}}catch(f){const m=Lp(f,`Initialization of query '${$a(e.query)}' failed`);return void e.onError(m)}n.queries.set(o,u),u.ta.push(e),e.sa(n.onlineState),u.ea&&e.oa(u.ea)&&Up(n)}async function mb(i,e){const n=Ie(i),s=e.query;let o=3;const u=n.queries.get(s);if(u){const f=u.ta.indexOf(e);f>=0&&(u.ta.splice(f,1),u.ta.length===0?o=e.ra()?0:1:!u.na()&&e.ra()&&(o=2))}switch(o){case 0:return n.queries.delete(s),n.onUnlisten(s,!0);case 1:return n.queries.delete(s),n.onUnlisten(s,!1);case 2:return n.onLastRemoteStoreUnlisten(s);default:return}}function SN(i,e){const n=Ie(i);let s=!1;for(const o of e){const u=o.query,f=n.queries.get(u);if(f){for(const m of f.ta)m.oa(o)&&(s=!0);f.ea=o}}s&&Up(n)}function wN(i,e,n){const s=Ie(i),o=s.queries.get(e);if(o)for(const u of o.ta)u.onError(n);s.queries.delete(e)}function Up(i){i.ia.forEach(e=>{e.next()})}var Gm,U_;(U_=Gm||(Gm={}))._a="default",U_.Cache="cache";class pb{constructor(e,n,s){this.query=e,this.aa=n,this.ua=!1,this.ca=null,this.onlineState="Unknown",this.options=s||{}}oa(e){if(!this.options.includeMetadataChanges){const s=[];for(const o of e.docChanges)o.type!==3&&s.push(o);e=new co(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.ua?this.la(e)&&(this.aa.next(e),n=!0):this.ha(e,this.onlineState)&&(this.Pa(e),n=!0),this.ca=e,n}onError(e){this.aa.error(e)}sa(e){this.onlineState=e;let n=!1;return this.ca&&!this.ua&&this.ha(this.ca,e)&&(this.Pa(this.ca),n=!0),n}ha(e,n){if(!e.fromCache||!this.ra())return!0;const s=n!=="Offline";return(!this.options.Ta||!s)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}la(e){if(e.docChanges.length>0)return!0;const n=this.ca&&this.ca.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}Pa(e){e=co.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.ua=!0,this.aa.next(e)}ra(){return this.options.source!==Gm.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gb{constructor(e){this.key=e}}class yb{constructor(e){this.key=e}}class AN{constructor(e,n){this.query=e,this.fa=n,this.ga=null,this.hasCachedResults=!1,this.current=!1,this.pa=Ue(),this.mutatedKeys=Ue(),this.ya=MT(e),this.wa=new no(this.ya)}get Sa(){return this.fa}ba(e,n){const s=n?n.Da:new P_,o=n?n.wa:this.wa;let u=n?n.mutatedKeys:this.mutatedKeys,f=o,m=!1;const p=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,y=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal((E,w)=>{const A=o.get(E),k=zh(this.query,w)?w:null,N=!!A&&this.mutatedKeys.has(A.key),M=!!k&&(k.hasLocalMutations||this.mutatedKeys.has(k.key)&&k.hasCommittedMutations);let P=!1;A&&k?A.data.isEqual(k.data)?N!==M&&(s.track({type:3,doc:k}),P=!0):this.va(A,k)||(s.track({type:2,doc:k}),P=!0,(p&&this.ya(k,p)>0||y&&this.ya(k,y)<0)&&(m=!0)):!A&&k?(s.track({type:0,doc:k}),P=!0):A&&!k&&(s.track({type:1,doc:A}),P=!0,(p||y)&&(m=!0)),P&&(k?(f=f.add(k),u=M?u.add(E):u.delete(E)):(f=f.delete(E),u=u.delete(E)))}),this.query.limit!==null)for(;f.size>this.query.limit;){const E=this.query.limitType==="F"?f.last():f.first();f=f.delete(E.key),u=u.delete(E.key),s.track({type:1,doc:E})}return{wa:f,Da:s,ls:m,mutatedKeys:u}}va(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,s,o){const u=this.wa;this.wa=e.wa,this.mutatedKeys=e.mutatedKeys;const f=e.Da.X_();f.sort((E,w)=>function(k,N){const M=P=>{switch(P){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return we()}};return M(k)-M(N)}(E.type,w.type)||this.ya(E.doc,w.doc)),this.Ca(s),o=o!=null&&o;const m=n&&!o?this.Fa():[],p=this.pa.size===0&&this.current&&!o?1:0,y=p!==this.ga;return this.ga=p,f.length!==0||y?{snapshot:new co(this.query,e.wa,u,f,e.mutatedKeys,p===0,y,!1,!!s&&s.resumeToken.approximateByteSize()>0),Ma:m}:{Ma:m}}sa(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({wa:this.wa,Da:new P_,mutatedKeys:this.mutatedKeys,ls:!1},!1)):{Ma:[]}}xa(e){return!this.fa.has(e)&&!!this.wa.has(e)&&!this.wa.get(e).hasLocalMutations}Ca(e){e&&(e.addedDocuments.forEach(n=>this.fa=this.fa.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.fa=this.fa.delete(n)),this.current=e.current)}Fa(){if(!this.current)return[];const e=this.pa;this.pa=Ue(),this.wa.forEach(s=>{this.xa(s.key)&&(this.pa=this.pa.add(s.key))});const n=[];return e.forEach(s=>{this.pa.has(s)||n.push(new yb(s))}),this.pa.forEach(s=>{e.has(s)||n.push(new gb(s))}),n}Oa(e){this.fa=e.gs,this.pa=Ue();const n=this.ba(e.documents);return this.applyChanges(n,!0)}Na(){return co.fromInitialDocuments(this.query,this.wa,this.mutatedKeys,this.ga===0,this.hasCachedResults)}}const jp="SyncEngine";class xN{constructor(e,n,s){this.query=e,this.targetId=n,this.view=s}}class RN{constructor(e){this.key=e,this.Ba=!1}}class IN{constructor(e,n,s,o,u,f){this.localStore=e,this.remoteStore=n,this.eventManager=s,this.sharedClientState=o,this.currentUser=u,this.maxConcurrentLimboResolutions=f,this.La={},this.ka=new Js(m=>kT(m),jh),this.qa=new Map,this.Qa=new Set,this.$a=new ht(_e.comparator),this.Ua=new Map,this.Ka=new Ip,this.Wa={},this.Ga=new Map,this.za=uo.Kn(),this.onlineState="Unknown",this.ja=void 0}get isPrimaryClient(){return this.ja===!0}}async function CN(i,e,n=!0){const s=Sb(i);let o;const u=s.ka.get(e);return u?(s.sharedClientState.addLocalQueryTarget(u.targetId),o=u.view.Na()):o=await vb(s,e,n,!0),o}async function NN(i,e){const n=Sb(i);await vb(n,e,!0,!1)}async function vb(i,e,n,s){const o=await XC(i.localStore,vr(e)),u=o.targetId,f=i.sharedClientState.addLocalQueryTarget(u,n);let m;return s&&(m=await DN(i,e,u,f==="current",o.resumeToken)),i.isPrimaryClient&&n&&ob(i.remoteStore,o),m}async function DN(i,e,n,s,o){i.Ha=(w,A,k)=>async function(M,P,K,se){let X=P.view.ba(K);X.ls&&(X=await N_(M.localStore,P.query,!1).then(({documents:V})=>P.view.ba(V,X)));const he=se&&se.targetChanges.get(P.targetId),le=se&&se.targetMismatches.get(P.targetId)!=null,me=P.view.applyChanges(X,M.isPrimaryClient,he,le);return z_(M,P.targetId,me.Ma),me.snapshot}(i,w,A,k);const u=await N_(i.localStore,e,!0),f=new AN(e,u.gs),m=f.ba(u.documents),p=hu.createSynthesizedTargetChangeForCurrentChange(n,s&&i.onlineState!=="Offline",o),y=f.applyChanges(m,i.isPrimaryClient,p);z_(i,n,y.Ma);const E=new xN(e,n,f);return i.ka.set(e,E),i.qa.has(n)?i.qa.get(n).push(e):i.qa.set(n,[e]),y.snapshot}async function ON(i,e,n){const s=Ie(i),o=s.ka.get(e),u=s.qa.get(o.targetId);if(u.length>1)return s.qa.set(o.targetId,u.filter(f=>!jh(f,e))),void s.ka.delete(e);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(o.targetId),s.sharedClientState.isActiveQueryTarget(o.targetId)||await qm(s.localStore,o.targetId,!1).then(()=>{s.sharedClientState.clearQueryState(o.targetId),n&&Op(s.remoteStore,o.targetId),Km(s,o.targetId)}).catch(vo)):(Km(s,o.targetId),await qm(s.localStore,o.targetId,!0))}async function kN(i,e){const n=Ie(i),s=n.ka.get(e),o=n.qa.get(s.targetId);n.isPrimaryClient&&o.length===1&&(n.sharedClientState.removeLocalQueryTarget(s.targetId),Op(n.remoteStore,s.targetId))}async function MN(i,e,n){const s=BN(i);try{const o=await function(f,m){const p=Ie(f),y=Nt.now(),E=m.reduce((k,N)=>k.add(N.key),Ue());let w,A;return p.persistence.runTransaction("Locally write mutations","readwrite",k=>{let N=ri(),M=Ue();return p.ds.getEntries(k,E).next(P=>{N=P,N.forEach((K,se)=>{se.isValidDocument()||(M=M.add(K))})}).next(()=>p.localDocuments.getOverlayedDocuments(k,N)).next(P=>{w=P;const K=[];for(const se of m){const X=XI(se,w.get(se.key).overlayedDocument);X!=null&&K.push(new is(se.key,X,AT(X.value.mapValue),Pn.exists(!0)))}return p.mutationQueue.addMutationBatch(k,y,K,m)}).next(P=>{A=P;const K=P.applyToLocalDocumentSet(w,M);return p.documentOverlayCache.saveOverlays(k,P.batchId,K)})}).then(()=>({batchId:A.batchId,changes:PT(w)}))}(s.localStore,e);s.sharedClientState.addPendingMutation(o.batchId),function(f,m,p){let y=f.Wa[f.currentUser.toKey()];y||(y=new ht(Oe)),y=y.insert(m,p),f.Wa[f.currentUser.toKey()]=y}(s,o.batchId,n),await du(s,o.changes),await Kh(s.remoteStore)}catch(o){const u=Lp(o,"Failed to persist write");n.reject(u)}}async function _b(i,e){const n=Ie(i);try{const s=await QC(n.localStore,e);e.targetChanges.forEach((o,u)=>{const f=n.Ua.get(u);f&&(Qe(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1),o.addedDocuments.size>0?f.Ba=!0:o.modifiedDocuments.size>0?Qe(f.Ba):o.removedDocuments.size>0&&(Qe(f.Ba),f.Ba=!1))}),await du(n,s,e)}catch(s){await vo(s)}}function j_(i,e,n){const s=Ie(i);if(s.isPrimaryClient&&n===0||!s.isPrimaryClient&&n===1){const o=[];s.ka.forEach((u,f)=>{const m=f.view.sa(e);m.snapshot&&o.push(m.snapshot)}),function(f,m){const p=Ie(f);p.onlineState=m;let y=!1;p.queries.forEach((E,w)=>{for(const A of w.ta)A.sa(m)&&(y=!0)}),y&&Up(p)}(s.eventManager,e),o.length&&s.La.p_(o),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}async function VN(i,e,n){const s=Ie(i);s.sharedClientState.updateQueryState(e,"rejected",n);const o=s.Ua.get(e),u=o&&o.key;if(u){let f=new ht(_e.comparator);f=f.insert(u,Zt.newNoDocument(u,xe.min()));const m=Ue().add(u),p=new qh(xe.min(),new Map,new ht(Oe),f,m);await _b(s,p),s.$a=s.$a.remove(u),s.Ua.delete(e),zp(s)}else await qm(s.localStore,e,!1).then(()=>Km(s,e,n)).catch(vo)}async function PN(i,e){const n=Ie(i),s=e.batch.batchId;try{const o=await KC(n.localStore,e);Tb(n,s,null),Eb(n,s),n.sharedClientState.updateMutationState(s,"acknowledged"),await du(n,o)}catch(o){await vo(o)}}async function LN(i,e,n){const s=Ie(i);try{const o=await function(f,m){const p=Ie(f);return p.persistence.runTransaction("Reject batch","readwrite-primary",y=>{let E;return p.mutationQueue.lookupMutationBatch(y,m).next(w=>(Qe(w!==null),E=w.keys(),p.mutationQueue.removeMutationBatch(y,w))).next(()=>p.mutationQueue.performConsistencyCheck(y)).next(()=>p.documentOverlayCache.removeOverlaysForBatchId(y,E,m)).next(()=>p.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(y,E)).next(()=>p.localDocuments.getDocuments(y,E))})}(s.localStore,e);Tb(s,e,n),Eb(s,e),s.sharedClientState.updateMutationState(e,"rejected",n),await du(s,o)}catch(o){await vo(o)}}function Eb(i,e){(i.Ga.get(e)||[]).forEach(n=>{n.resolve()}),i.Ga.delete(e)}function Tb(i,e,n){const s=Ie(i);let o=s.Wa[s.currentUser.toKey()];if(o){const u=o.get(e);u&&(n?u.reject(n):u.resolve(),o=o.remove(e)),s.Wa[s.currentUser.toKey()]=o}}function Km(i,e,n=null){i.sharedClientState.removeLocalQueryTarget(e);for(const s of i.qa.get(e))i.ka.delete(s),n&&i.La.Ja(s,n);i.qa.delete(e),i.isPrimaryClient&&i.Ka.br(e).forEach(s=>{i.Ka.containsKey(s)||bb(i,s)})}function bb(i,e){i.Qa.delete(e.path.canonicalString());const n=i.$a.get(e);n!==null&&(Op(i.remoteStore,n),i.$a=i.$a.remove(e),i.Ua.delete(n),zp(i))}function z_(i,e,n){for(const s of n)s instanceof gb?(i.Ka.addReference(s.key,e),UN(i,s)):s instanceof yb?(de(jp,"Document no longer in limbo: "+s.key),i.Ka.removeReference(s.key,e),i.Ka.containsKey(s.key)||bb(i,s.key)):we()}function UN(i,e){const n=e.key,s=n.path.canonicalString();i.$a.get(n)||i.Qa.has(s)||(de(jp,"New document in limbo: "+n),i.Qa.add(s),zp(i))}function zp(i){for(;i.Qa.size>0&&i.$a.size<i.maxConcurrentLimboResolutions;){const e=i.Qa.values().next().value;i.Qa.delete(e);const n=new _e(st.fromString(e)),s=i.za.next();i.Ua.set(s,new RN(n)),i.$a=i.$a.insert(n,s),ob(i.remoteStore,new Bi(vr(bp(n.path)),s,"TargetPurposeLimboResolution",Ph.ae))}}async function du(i,e,n){const s=Ie(i),o=[],u=[],f=[];s.ka.isEmpty()||(s.ka.forEach((m,p)=>{f.push(s.Ha(p,e,n).then(y=>{var E;if((y||n)&&s.isPrimaryClient){const w=y?!y.fromCache:(E=n==null?void 0:n.targetChanges.get(p.targetId))===null||E===void 0?void 0:E.current;s.sharedClientState.updateQueryState(p.targetId,w?"current":"not-current")}if(y){o.push(y);const w=Np.Yi(p.targetId,y);u.push(w)}}))}),await Promise.all(f),s.La.p_(o),await async function(p,y){const E=Ie(p);try{await E.persistence.runTransaction("notifyLocalViewChanges","readwrite",w=>ae.forEach(y,A=>ae.forEach(A.Hi,k=>E.persistence.referenceDelegate.addReference(w,A.targetId,k)).next(()=>ae.forEach(A.Ji,k=>E.persistence.referenceDelegate.removeReference(w,A.targetId,k)))))}catch(w){if(!_o(w))throw w;de(Dp,"Failed to update sequence numbers: "+w)}for(const w of y){const A=w.targetId;if(!w.fromCache){const k=E.Ts.get(A),N=k.snapshotVersion,M=k.withLastLimboFreeSnapshotVersion(N);E.Ts=E.Ts.insert(A,M)}}}(s.localStore,u))}async function jN(i,e){const n=Ie(i);if(!n.currentUser.isEqual(e)){de(jp,"User change. New user:",e.toKey());const s=await rb(n.localStore,e);n.currentUser=e,function(u,f){u.Ga.forEach(m=>{m.forEach(p=>{p.reject(new pe(oe.CANCELLED,f))})}),u.Ga.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),await du(n,s.Rs)}}function zN(i,e){const n=Ie(i),s=n.Ua.get(e);if(s&&s.Ba)return Ue().add(s.key);{let o=Ue();const u=n.qa.get(e);if(!u)return o;for(const f of u){const m=n.ka.get(f);o=o.unionWith(m.view.Sa)}return o}}function Sb(i){const e=Ie(i);return e.remoteStore.remoteSyncer.applyRemoteEvent=_b.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=zN.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=VN.bind(null,e),e.La.p_=SN.bind(null,e.eventManager),e.La.Ja=wN.bind(null,e.eventManager),e}function BN(i){const e=Ie(i);return e.remoteStore.remoteSyncer.applySuccessfulWrite=PN.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=LN.bind(null,e),e}class xh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Fh(e.databaseInfo.databaseId),this.sharedClientState=this.Za(e),this.persistence=this.Xa(e),await this.persistence.start(),this.localStore=this.eu(e),this.gcScheduler=this.tu(e,this.localStore),this.indexBackfillerScheduler=this.nu(e,this.localStore)}tu(e,n){return null}nu(e,n){return null}eu(e){return GC(this.persistence,new HC,e.initialUser,this.serializer)}Xa(e){return new nb(Cp.ri,this.serializer)}Za(e){return new ZC}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}xh.provider={build:()=>new xh};class HN extends xh{constructor(e){super(),this.cacheSizeBytes=e}tu(e,n){Qe(this.persistence.referenceDelegate instanceof wh);const s=this.persistence.referenceDelegate.garbageCollector;return new RC(s,e.asyncQueue,n)}Xa(e){const n=this.cacheSizeBytes!==void 0?cn.withCacheSize(this.cacheSizeBytes):cn.DEFAULT;return new nb(s=>wh.ri(s,n),this.serializer)}}class Qm{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>j_(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=jN.bind(null,this.syncEngine),await EN(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new bN}()}createDatastore(e){const n=Fh(e.databaseInfo.databaseId),s=function(u){return new rN(u)}(e.databaseInfo);return function(u,f,m,p){return new oN(u,f,m,p)}(e.authCredentials,e.appCheckCredentials,s,n)}createRemoteStore(e){return function(s,o,u,f,m){return new uN(s,o,u,f,m)}(this.localStore,this.datastore,e.asyncQueue,n=>j_(this.syncEngine,n,0),function(){return k_.D()?new k_:new JC}())}createSyncEngine(e,n){return function(o,u,f,m,p,y,E){const w=new IN(o,u,f,m,p,y);return E&&(w.ja=!0),w}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(o){const u=Ie(o);de(Xs,"RemoteStore shutting down."),u.W_.add(5),await fu(u),u.z_.shutdown(),u.j_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}Qm.provider={build:()=>new Qm};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wb{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.iu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.iu(this.observer.error,e):ni("Uncaught Error in snapshot listener:",e.toString()))}su(){this.muted=!0}iu(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ji="FirestoreClient";class qN{constructor(e,n,s,o,u){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=s,this.databaseInfo=o,this.user=Wt.UNAUTHENTICATED,this.clientId=pT.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=u,this.authCredentials.start(s,async f=>{de(Ji,"Received user=",f.uid),await this.authCredentialListener(f),this.user=f}),this.appCheckCredentials.start(s,f=>(de(Ji,"Received new app check token=",f),this.appCheckCredentialListener(f,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Zr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const s=Lp(n,"Failed to shutdown persistence");e.reject(s)}}),e.promise}}async function _m(i,e){i.asyncQueue.verifyOperationInProgress(),de(Ji,"Initializing OfflineComponentProvider");const n=i.configuration;await e.initialize(n);let s=n.initialUser;i.setCredentialChangeListener(async o=>{s.isEqual(o)||(await rb(e.localStore,o),s=o)}),e.persistence.setDatabaseDeletedListener(()=>i.terminate()),i._offlineComponents=e}async function B_(i,e){i.asyncQueue.verifyOperationInProgress();const n=await FN(i);de(Ji,"Initializing OnlineComponentProvider"),await e.initialize(n,i.configuration),i.setCredentialChangeListener(s=>V_(e.remoteStore,s)),i.setAppCheckTokenChangeListener((s,o)=>V_(e.remoteStore,o)),i._onlineComponents=e}async function FN(i){if(!i._offlineComponents)if(i._uninitializedComponentsProvider){de(Ji,"Using user provided OfflineComponentProvider");try{await _m(i,i._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(o){return o.name==="FirebaseError"?o.code===oe.FAILED_PRECONDITION||o.code===oe.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11}(n))throw n;so("Error using user provided cache. Falling back to memory cache: "+n),await _m(i,new xh)}}else de(Ji,"Using default OfflineComponentProvider"),await _m(i,new HN(void 0));return i._offlineComponents}async function Ab(i){return i._onlineComponents||(i._uninitializedComponentsProvider?(de(Ji,"Using user provided OnlineComponentProvider"),await B_(i,i._uninitializedComponentsProvider._online)):(de(Ji,"Using default OnlineComponentProvider"),await B_(i,new Qm))),i._onlineComponents}function GN(i){return Ab(i).then(e=>e.syncEngine)}async function xb(i){const e=await Ab(i),n=e.eventManager;return n.onListen=CN.bind(null,e.syncEngine),n.onUnlisten=ON.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=NN.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=kN.bind(null,e.syncEngine),n}function KN(i,e,n={}){const s=new Zr;return i.asyncQueue.enqueueAndForget(async()=>function(u,f,m,p,y){const E=new wb({next:A=>{E.su(),f.enqueueAndForget(()=>mb(u,w));const k=A.docs.has(m);!k&&A.fromCache?y.reject(new pe(oe.UNAVAILABLE,"Failed to get document because the client is offline.")):k&&A.fromCache&&p&&p.source==="server"?y.reject(new pe(oe.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):y.resolve(A)},error:A=>y.reject(A)}),w=new pb(bp(m.path),E,{includeMetadataChanges:!0,Ta:!0});return db(u,w)}(await xb(i),i.asyncQueue,e,n,s)),s.promise}function QN(i,e,n={}){const s=new Zr;return i.asyncQueue.enqueueAndForget(async()=>function(u,f,m,p,y){const E=new wb({next:A=>{E.su(),f.enqueueAndForget(()=>mb(u,w)),A.fromCache&&p.source==="server"?y.reject(new pe(oe.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):y.resolve(A)},error:A=>y.reject(A)}),w=new pb(m,E,{includeMetadataChanges:!0,Ta:!0});return db(u,w)}(await xb(i),i.asyncQueue,e,n,s)),s.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rb(i){const e={};return i.timeoutSeconds!==void 0&&(e.timeoutSeconds=i.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const H_=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ib(i,e,n){if(!n)throw new pe(oe.INVALID_ARGUMENT,`Function ${i}() cannot be called with an empty ${e}.`)}function YN(i,e,n,s){if(e===!0&&s===!0)throw new pe(oe.INVALID_ARGUMENT,`${i} and ${n} cannot be used together.`)}function q_(i){if(!_e.isDocumentKey(i))throw new pe(oe.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${i} has ${i.length}.`)}function F_(i){if(_e.isDocumentKey(i))throw new pe(oe.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${i} has ${i.length}.`)}function Qh(i){if(i===void 0)return"undefined";if(i===null)return"null";if(typeof i=="string")return i.length>20&&(i=`${i.substring(0,20)}...`),JSON.stringify(i);if(typeof i=="number"||typeof i=="boolean")return""+i;if(typeof i=="object"){if(i instanceof Array)return"an array";{const e=function(s){return s.constructor?s.constructor.name:null}(i);return e?`a custom ${e} object`:"an object"}}return typeof i=="function"?"a function":we()}function Yn(i,e){if("_delegate"in i&&(i=i._delegate),!(i instanceof e)){if(e.name===i.constructor.name)throw new pe(oe.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Qh(i);throw new pe(oe.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cb="firestore.googleapis.com",G_=!0;class K_{constructor(e){var n,s;if(e.host===void 0){if(e.ssl!==void 0)throw new pe(oe.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=Cb,this.ssl=G_}else this.host=e.host,this.ssl=(n=e.ssl)!==null&&n!==void 0?n:G_;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=tb;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<AC)throw new pe(oe.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}YN("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=Rb((s=e.experimentalLongPollingOptions)!==null&&s!==void 0?s:{}),function(u){if(u.timeoutSeconds!==void 0){if(isNaN(u.timeoutSeconds))throw new pe(oe.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (must not be NaN)`);if(u.timeoutSeconds<5)throw new pe(oe.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (minimum allowed value is 5)`);if(u.timeoutSeconds>30)throw new pe(oe.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(s,o){return s.timeoutSeconds===o.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Yh{constructor(e,n,s,o){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=s,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new K_({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new pe(oe.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new pe(oe.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new K_(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(s){if(!s)return new nI;switch(s.type){case"firstParty":return new aI(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new pe(oe.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const s=H_.get(n);s&&(de("ComponentProvider","Removing Datastore"),H_.delete(n),s.terminate())}(this),Promise.resolve()}}function $N(i,e,n,s={}){var o;const u=(i=Yn(i,Yh))._getSettings(),f=Object.assign(Object.assign({},u),{emulatorOptions:i._getEmulatorOptions()}),m=`${e}:${n}`;u.host!==Cb&&u.host!==m&&so("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const p=Object.assign(Object.assign({},u),{host:m,ssl:!1,emulatorOptions:s});if(!Gs(p,f)&&(i._setSettings(p),s.mockUserToken)){let y,E;if(typeof s.mockUserToken=="string")y=s.mockUserToken,E=Wt.MOCK_USER;else{y=f1(s.mockUserToken,(o=i._app)===null||o===void 0?void 0:o.options.projectId);const w=s.mockUserToken.sub||s.mockUserToken.user_id;if(!w)throw new pe(oe.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");E=new Wt(w)}i._authCredentials=new rI(new dT(y,E))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class To{constructor(e,n,s){this.converter=n,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new To(this.firestore,e,this._query)}}class sn{constructor(e,n,s){this.converter=n,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Qi(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new sn(this.firestore,e,this._key)}}class Qi extends To{constructor(e,n,s){super(e,n,bp(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new sn(this.firestore,null,new _e(e))}withConverter(e){return new Qi(this.firestore,e,this._path)}}function pr(i,e,...n){if(i=Ot(i),Ib("collection","path",e),i instanceof Yh){const s=st.fromString(e,...n);return F_(s),new Qi(i,null,s)}{if(!(i instanceof sn||i instanceof Qi))throw new pe(oe.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=i._path.child(st.fromString(e,...n));return F_(s),new Qi(i.firestore,null,s)}}function Fe(i,e,...n){if(i=Ot(i),arguments.length===1&&(e=pT.newId()),Ib("doc","path",e),i instanceof Yh){const s=st.fromString(e,...n);return q_(s),new sn(i,null,new _e(s))}{if(!(i instanceof sn||i instanceof Qi))throw new pe(oe.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=i._path.child(st.fromString(e,...n));return q_(s),new sn(i.firestore,i instanceof Qi?i.converter:null,new _e(s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Q_="AsyncQueue";class Y_{constructor(e=Promise.resolve()){this.Vu=[],this.mu=!1,this.fu=[],this.gu=null,this.pu=!1,this.yu=!1,this.wu=[],this.a_=new sb(this,"async_queue_retry"),this.Su=()=>{const s=vm();s&&de(Q_,"Visibility state changed to "+s.visibilityState),this.a_.t_()},this.bu=e;const n=vm();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.Su)}get isShuttingDown(){return this.mu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Du(),this.vu(e)}enterRestrictedMode(e){if(!this.mu){this.mu=!0,this.yu=e||!1;const n=vm();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.Su)}}enqueue(e){if(this.Du(),this.mu)return new Promise(()=>{});const n=new Zr;return this.vu(()=>this.mu&&this.yu?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Vu.push(e),this.Cu()))}async Cu(){if(this.Vu.length!==0){try{await this.Vu[0](),this.Vu.shift(),this.a_.reset()}catch(e){if(!_o(e))throw e;de(Q_,"Operation failed with retryable error: "+e)}this.Vu.length>0&&this.a_.Xo(()=>this.Cu())}}vu(e){const n=this.bu.then(()=>(this.pu=!0,e().catch(s=>{this.gu=s,this.pu=!1;const o=function(f){let m=f.message||"";return f.stack&&(m=f.stack.includes(f.message)?f.stack:f.message+`
`+f.stack),m}(s);throw ni("INTERNAL UNHANDLED ERROR: ",o),s}).then(s=>(this.pu=!1,s))));return this.bu=n,n}enqueueAfterDelay(e,n,s){this.Du(),this.wu.indexOf(e)>-1&&(n=0);const o=Pp.createAndSchedule(this,e,n,s,u=>this.Fu(u));return this.fu.push(o),o}Du(){this.gu&&we()}verifyOperationInProgress(){}async Mu(){let e;do e=this.bu,await e;while(e!==this.bu)}xu(e){for(const n of this.fu)if(n.timerId===e)return!0;return!1}Ou(e){return this.Mu().then(()=>{this.fu.sort((n,s)=>n.targetTimeMs-s.targetTimeMs);for(const n of this.fu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Mu()})}Nu(e){this.wu.push(e)}Fu(e){const n=this.fu.indexOf(e);this.fu.splice(n,1)}}class ta extends Yh{constructor(e,n,s,o){super(e,n,s,o),this.type="firestore",this._queue=new Y_,this._persistenceKey=(o==null?void 0:o.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new Y_(e),this._firestoreClient=void 0,await e}}}function XN(i,e){const n=typeof i=="object"?i:wE(),s=typeof i=="string"?i:yh,o=ap(n,"firestore").getImmediate({identifier:s});if(!o._initialized){const u=c1("firestore");u&&$N(o,...u)}return o}function Bp(i){if(i._terminated)throw new pe(oe.FAILED_PRECONDITION,"The client has already been terminated.");return i._firestoreClient||WN(i),i._firestoreClient}function WN(i){var e,n,s;const o=i._freezeSettings(),u=function(m,p,y,E){return new TI(m,p,y,E.host,E.ssl,E.experimentalForceLongPolling,E.experimentalAutoDetectLongPolling,Rb(E.experimentalLongPollingOptions),E.useFetchStreams)}(i._databaseId,((e=i._app)===null||e===void 0?void 0:e.options.appId)||"",i._persistenceKey,o);i._componentsProvider||!((n=o.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((s=o.localCache)===null||s===void 0)&&s._onlineComponentProvider)&&(i._componentsProvider={_offline:o.localCache._offlineComponentProvider,_online:o.localCache._onlineComponentProvider}),i._firestoreClient=new qN(i._authCredentials,i._appCheckCredentials,i._queue,u,i._componentsProvider&&function(m){const p=m==null?void 0:m._online.build();return{_offline:m==null?void 0:m._offline.build(p),_online:p}}(i._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ho{constructor(e){this._byteString=e}static fromBase64String(e){try{return new ho(Kt.fromBase64String(e))}catch(n){throw new pe(oe.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new ho(Kt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $h{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new pe(oe.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Gt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hp{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qp{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new pe(oe.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new pe(oe.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Oe(this._lat,e._lat)||Oe(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fp{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(s,o){if(s.length!==o.length)return!1;for(let u=0;u<s.length;++u)if(s[u]!==o[u])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZN=/^__.*__$/;class JN{constructor(e,n,s){this.data=e,this.fieldMask=n,this.fieldTransforms=s}toMutation(e,n){return this.fieldMask!==null?new is(e,this.data,this.fieldMask,n,this.fieldTransforms):new cu(e,this.data,n,this.fieldTransforms)}}class Nb{constructor(e,n,s){this.data=e,this.fieldMask=n,this.fieldTransforms=s}toMutation(e,n){return new is(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function Db(i){switch(i){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw we()}}class Gp{constructor(e,n,s,o,u,f){this.settings=e,this.databaseId=n,this.serializer=s,this.ignoreUndefinedProperties=o,u===void 0&&this.Bu(),this.fieldTransforms=u||[],this.fieldMask=f||[]}get path(){return this.settings.path}get Lu(){return this.settings.Lu}ku(e){return new Gp(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}qu(e){var n;const s=(n=this.path)===null||n===void 0?void 0:n.child(e),o=this.ku({path:s,Qu:!1});return o.$u(e),o}Uu(e){var n;const s=(n=this.path)===null||n===void 0?void 0:n.child(e),o=this.ku({path:s,Qu:!1});return o.Bu(),o}Ku(e){return this.ku({path:void 0,Qu:!0})}Wu(e){return Rh(e,this.settings.methodName,this.settings.Gu||!1,this.path,this.settings.zu)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Bu(){if(this.path)for(let e=0;e<this.path.length;e++)this.$u(this.path.get(e))}$u(e){if(e.length===0)throw this.Wu("Document fields must not be empty");if(Db(this.Lu)&&ZN.test(e))throw this.Wu('Document fields cannot begin and end with "__"')}}class eD{constructor(e,n,s){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=s||Fh(e)}ju(e,n,s,o=!1){return new Gp({Lu:e,methodName:n,zu:s,path:Gt.emptyPath(),Qu:!1,Gu:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Xh(i){const e=i._freezeSettings(),n=Fh(i._databaseId);return new eD(i._databaseId,!!e.ignoreUndefinedProperties,n)}function Ob(i,e,n,s,o,u={}){const f=i.ju(u.merge||u.mergeFields?2:0,e,n,o);Kp("Data must be an object, but it was:",f,s);const m=kb(s,f);let p,y;if(u.merge)p=new Tn(f.fieldMask),y=f.fieldTransforms;else if(u.mergeFields){const E=[];for(const w of u.mergeFields){const A=Ym(e,w,n);if(!f.contains(A))throw new pe(oe.INVALID_ARGUMENT,`Field '${A}' is specified in your field mask but missing from your input data.`);Vb(E,A)||E.push(A)}p=new Tn(E),y=f.fieldTransforms.filter(w=>p.covers(w.field))}else p=null,y=f.fieldTransforms;return new JN(new hn(m),p,y)}class Wh extends Hp{_toFieldTransform(e){if(e.Lu!==2)throw e.Lu===1?e.Wu(`${this._methodName}() can only appear at the top level of your update data`):e.Wu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Wh}}function tD(i,e,n,s){const o=i.ju(1,e,n);Kp("Data must be an object, but it was:",o,s);const u=[],f=hn.empty();rs(s,(p,y)=>{const E=Qp(e,p,n);y=Ot(y);const w=o.Uu(E);if(y instanceof Wh)u.push(E);else{const A=mu(y,w);A!=null&&(u.push(E),f.set(E,A))}});const m=new Tn(u);return new Nb(f,m,o.fieldTransforms)}function nD(i,e,n,s,o,u){const f=i.ju(1,e,n),m=[Ym(e,s,n)],p=[o];if(u.length%2!=0)throw new pe(oe.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let A=0;A<u.length;A+=2)m.push(Ym(e,u[A])),p.push(u[A+1]);const y=[],E=hn.empty();for(let A=m.length-1;A>=0;--A)if(!Vb(y,m[A])){const k=m[A];let N=p[A];N=Ot(N);const M=f.Uu(k);if(N instanceof Wh)y.push(k);else{const P=mu(N,M);P!=null&&(y.push(k),E.set(k,P))}}const w=new Tn(y);return new Nb(E,w,f.fieldTransforms)}function rD(i,e,n,s=!1){return mu(n,i.ju(s?4:3,e))}function mu(i,e){if(Mb(i=Ot(i)))return Kp("Unsupported field value:",e,i),kb(i,e);if(i instanceof Hp)return function(s,o){if(!Db(o.Lu))throw o.Wu(`${s._methodName}() can only be used with update() and set()`);if(!o.path)throw o.Wu(`${s._methodName}() is not currently supported inside arrays`);const u=s._toFieldTransform(o);u&&o.fieldTransforms.push(u)}(i,e),null;if(i===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),i instanceof Array){if(e.settings.Qu&&e.Lu!==4)throw e.Wu("Nested arrays are not supported");return function(s,o){const u=[];let f=0;for(const m of s){let p=mu(m,o.Ku(f));p==null&&(p={nullValue:"NULL_VALUE"}),u.push(p),f++}return{arrayValue:{values:u}}}(i,e)}return function(s,o){if((s=Ot(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return FI(o.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const u=Nt.fromDate(s);return{timestampValue:Sh(o.serializer,u)}}if(s instanceof Nt){const u=new Nt(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:Sh(o.serializer,u)}}if(s instanceof qp)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof ho)return{bytesValue:YT(o.serializer,s._byteString)};if(s instanceof sn){const u=o.databaseId,f=s.firestore._databaseId;if(!f.isEqual(u))throw o.Wu(`Document reference is for database ${f.projectId}/${f.database} but should be for database ${u.projectId}/${u.database}`);return{referenceValue:Rp(s.firestore._databaseId||o.databaseId,s._key.path)}}if(s instanceof Fp)return function(f,m){return{mapValue:{fields:{[ST]:{stringValue:wT},[vh]:{arrayValue:{values:f.toArray().map(y=>{if(typeof y!="number")throw m.Wu("VectorValues must only contain numeric values.");return Sp(m.serializer,y)})}}}}}}(s,o);throw o.Wu(`Unsupported field value: ${Qh(s)}`)}(i,e)}function kb(i,e){const n={};return yT(i)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):rs(i,(s,o)=>{const u=mu(o,e.qu(s));u!=null&&(n[s]=u)}),{mapValue:{fields:n}}}function Mb(i){return!(typeof i!="object"||i===null||i instanceof Array||i instanceof Date||i instanceof Nt||i instanceof qp||i instanceof ho||i instanceof sn||i instanceof Hp||i instanceof Fp)}function Kp(i,e,n){if(!Mb(n)||!function(o){return typeof o=="object"&&o!==null&&(Object.getPrototypeOf(o)===Object.prototype||Object.getPrototypeOf(o)===null)}(n)){const s=Qh(n);throw s==="an object"?e.Wu(i+" a custom object"):e.Wu(i+" "+s)}}function Ym(i,e,n){if((e=Ot(e))instanceof $h)return e._internalPath;if(typeof e=="string")return Qp(i,e);throw Rh("Field path arguments must be of type string or ",i,!1,void 0,n)}const iD=new RegExp("[~\\*/\\[\\]]");function Qp(i,e,n){if(e.search(iD)>=0)throw Rh(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,i,!1,void 0,n);try{return new $h(...e.split("."))._internalPath}catch{throw Rh(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,i,!1,void 0,n)}}function Rh(i,e,n,s,o){const u=s&&!s.isEmpty(),f=o!==void 0;let m=`Function ${e}() called with invalid data`;n&&(m+=" (via `toFirestore()`)"),m+=". ";let p="";return(u||f)&&(p+=" (found",u&&(p+=` in field ${s}`),f&&(p+=` in document ${o}`),p+=")"),new pe(oe.INVALID_ARGUMENT,m+i+p)}function Vb(i,e){return i.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pb{constructor(e,n,s,o,u){this._firestore=e,this._userDataWriter=n,this._key=s,this._document=o,this._converter=u}get id(){return this._key.path.lastSegment()}get ref(){return new sn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new sD(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(Yp("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class sD extends Pb{data(){return super.data()}}function Yp(i,e){return typeof e=="string"?Qp(i,e):e instanceof $h?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aD(i){if(i.limitType==="L"&&i.explicitOrderBy.length===0)throw new pe(oe.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class $p{}class oD extends $p{}function Yc(i,e,...n){let s=[];e instanceof $p&&s.push(e),s=s.concat(n),function(u){const f=u.filter(p=>p instanceof Xp).length,m=u.filter(p=>p instanceof Zh).length;if(f>1||f>0&&m>0)throw new pe(oe.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(s);for(const o of s)i=o._apply(i);return i}class Zh extends oD{constructor(e,n,s){super(),this._field=e,this._op=n,this._value=s,this.type="where"}static _create(e,n,s){return new Zh(e,n,s)}_apply(e){const n=this._parse(e);return Lb(e._query,n),new To(e.firestore,e.converter,Lm(e._query,n))}_parse(e){const n=Xh(e.firestore);return function(u,f,m,p,y,E,w){let A;if(y.isKeyField()){if(E==="array-contains"||E==="array-contains-any")throw new pe(oe.INVALID_ARGUMENT,`Invalid Query. You can't perform '${E}' queries on documentId().`);if(E==="in"||E==="not-in"){X_(w,E);const N=[];for(const M of w)N.push($_(p,u,M));A={arrayValue:{values:N}}}else A=$_(p,u,w)}else E!=="in"&&E!=="not-in"&&E!=="array-contains-any"||X_(w,E),A=rD(m,f,w,E==="in"||E==="not-in");return wt.create(y,E,A)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function Pi(i,e,n){const s=e,o=Yp("where",i);return Zh._create(o,s,n)}class Xp extends $p{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new Xp(e,n)}_parse(e){const n=this._queryConstraints.map(s=>s._parse(e)).filter(s=>s.getFilters().length>0);return n.length===1?n[0]:Qn.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(o,u){let f=o;const m=u.getFlattenedFilters();for(const p of m)Lb(f,p),f=Lm(f,p)}(e._query,n),new To(e.firestore,e.converter,Lm(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function $_(i,e,n){if(typeof(n=Ot(n))=="string"){if(n==="")throw new pe(oe.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!OT(e)&&n.indexOf("/")!==-1)throw new pe(oe.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const s=e.path.child(st.fromString(n));if(!_e.isDocumentKey(s))throw new pe(oe.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${s}' is not because it has an odd number of segments (${s.length}).`);return h_(i,new _e(s))}if(n instanceof sn)return h_(i,n._key);throw new pe(oe.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Qh(n)}.`)}function X_(i,e){if(!Array.isArray(i)||i.length===0)throw new pe(oe.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function Lb(i,e){const n=function(o,u){for(const f of o)for(const m of f.getFlattenedFilters())if(u.indexOf(m.op)>=0)return m.op;return null}(i.filters,function(o){switch(o){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new pe(oe.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new pe(oe.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class lD{convertValue(e,n="none"){switch(Wi(e)){case 0:return null;case 1:return e.booleanValue;case 2:return vt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Xi(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw we()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const s={};return rs(e,(o,u)=>{s[o]=this.convertValue(u,n)}),s}convertVectorValue(e){var n,s,o;const u=(o=(s=(n=e.fields)===null||n===void 0?void 0:n[vh].arrayValue)===null||s===void 0?void 0:s.values)===null||o===void 0?void 0:o.map(f=>vt(f.doubleValue));return new Fp(u)}convertGeoPoint(e){return new qp(vt(e.latitude),vt(e.longitude))}convertArray(e,n){return(e.values||[]).map(s=>this.convertValue(s,n))}convertServerTimestamp(e,n){switch(n){case"previous":const s=Uh(e);return s==null?null:this.convertValue(s,n);case"estimate":return this.convertTimestamp(Xl(e));default:return null}}convertTimestamp(e){const n=$i(e);return new Nt(n.seconds,n.nanos)}convertDocumentKey(e,n){const s=st.fromString(e);Qe(eb(s));const o=new Wl(s.get(1),s.get(3)),u=new _e(s.popFirst(5));return o.isEqual(n)||ni(`Document ${u} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ub(i,e,n){let s;return s=i?n&&(n.merge||n.mergeFields)?i.toFirestore(e,n):i.toFirestore(e):e,s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zl{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class jb extends Pb{constructor(e,n,s,o,u,f){super(e,n,s,o,f),this._firestore=e,this._firestoreImpl=e,this.metadata=u}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new ah(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const s=this._document.data.field(Yp("DocumentSnapshot.get",e));if(s!==null)return this._userDataWriter.convertValue(s,n.serverTimestamps)}}}class ah extends jb{data(e={}){return super.data(e)}}class uD{constructor(e,n,s,o){this._firestore=e,this._userDataWriter=n,this._snapshot=o,this.metadata=new zl(o.hasPendingWrites,o.fromCache),this.query=s}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(s=>{e.call(n,new ah(this._firestore,this._userDataWriter,s.key,s,new zl(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new pe(oe.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(o,u){if(o._snapshot.oldDocs.isEmpty()){let f=0;return o._snapshot.docChanges.map(m=>{const p=new ah(o._firestore,o._userDataWriter,m.doc.key,m.doc,new zl(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);return m.doc,{type:"added",doc:p,oldIndex:-1,newIndex:f++}})}{let f=o._snapshot.oldDocs;return o._snapshot.docChanges.filter(m=>u||m.type!==3).map(m=>{const p=new ah(o._firestore,o._userDataWriter,m.doc.key,m.doc,new zl(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);let y=-1,E=-1;return m.type!==0&&(y=f.indexOf(m.doc.key),f=f.delete(m.doc.key)),m.type!==1&&(f=f.add(m.doc),E=f.indexOf(m.doc.key)),{type:cD(m.type),doc:p,oldIndex:y,newIndex:E}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function cD(i){switch(i){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return we()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function it(i){i=Yn(i,sn);const e=Yn(i.firestore,ta);return KN(Bp(e),i._key).then(n=>fD(e,i,n))}class zb extends lD{constructor(e){super(),this.firestore=e}convertBytes(e){return new ho(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new sn(this.firestore,null,n)}}function Hi(i){i=Yn(i,To);const e=Yn(i.firestore,ta),n=Bp(e),s=new zb(e);return aD(i._query),QN(n,i._query).then(o=>new uD(e,s,i,o))}function Bb(i,e,n){i=Yn(i,sn);const s=Yn(i.firestore,ta),o=Ub(i.converter,e,n);return Jh(s,[Ob(Xh(s),"setDoc",i._key,o,i.converter!==null,n).toMutation(i._key,Pn.none())])}function hD(i,e,n,...s){i=Yn(i,sn);const o=Yn(i.firestore,ta),u=Xh(o);let f;return f=typeof(e=Ot(e))=="string"||e instanceof $h?nD(u,"updateDoc",i._key,e,n,s):tD(u,"updateDoc",i._key,e),Jh(o,[f.toMutation(i._key,Pn.exists(!0))])}function $m(i){return Jh(Yn(i.firestore,ta),[new wp(i._key,Pn.none())])}function Hb(i,e){const n=Yn(i.firestore,ta),s=Fe(i),o=Ub(i.converter,e);return Jh(n,[Ob(Xh(i.firestore),"addDoc",s._key,o,i.converter!==null,{}).toMutation(s._key,Pn.exists(!1))]).then(()=>s)}function Jh(i,e){return function(s,o){const u=new Zr;return s.asyncQueue.enqueueAndForget(async()=>MN(await GN(s),o,u)),u.promise}(Bp(i),e)}function fD(i,e,n){const s=n.docs.get(e._key),o=new zb(i);return new jb(i,o,e._key,s,new zl(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){(function(o){yo=o})(po),ro(new Ks("firestore",(s,{instanceIdentifier:o,options:u})=>{const f=s.getProvider("app").getImmediate(),m=new ta(new iI(s.getProvider("auth-internal")),new oI(f,s.getProvider("app-check-internal")),function(y,E){if(!Object.prototype.hasOwnProperty.apply(y.options,["projectId"]))throw new pe(oe.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Wl(y.options.projectId,E)}(f,o),f);return u=Object.assign({useFetchStreams:n},u),m._setSettings(u),m},"PUBLIC").setMultipleInstances(!0)),Gi(J0,e_,e),Gi(J0,e_,"esm2017")})();const qb={apiKey:"AIzaSyAs2kZJzfzxd8UG0Q6ewlN8ezlUjyLW6nw",authDomain:"skill-swap-2b768.firebaseapp.com",projectId:"skill-swap-2b768",storageBucket:"skill-swap-2b768.firebasestorage.app",messagingSenderId:"511765694700",appId:"1:511765694700:web:071df30557b957b98e7dc9"};console.log(qb);const Fb=SE(qb),pu=Z2(Fb),Ne=XN(Fb),dD=async(i,e,n)=>{try{const s=await MR(pu,i,e);return n&&await LR(s.user,{displayName:n}),s.user}catch(s){throw s}},mD=async(i,e)=>{try{return(await VR(pu,i,e)).user}catch(n){throw n}},pD=async()=>{try{await BR(pu)}catch(i){throw i}},gD=i=>zR(pu,i),Gb=j.createContext(),Un=()=>j.useContext(Gb),yD=({children:i})=>{const[e,n]=j.useState(null),[s,o]=j.useState(!0),[u,f]=j.useState(""),[m,p]=j.useState(!1),y=async N=>{if(!N)return!1;try{return(await it(Fe(Ne,"users",N.uid))).exists()}catch(M){return console.error("Error checking profile completion:",M),!1}},E=async(N,M,P)=>{try{f(""),o(!0),console.log("AuthContext: Starting registration");const K=await dD(N,M,P);return console.log("AuthContext: Registration successful, user:",K),n(K),p(!1),K}catch(K){throw console.error("AuthContext: Registration error:",K),f(K.message),K}finally{o(!1)}},w=async(N,M)=>{try{f(""),o(!0),await mD(N,M)}catch(P){throw f(P.message),P}finally{o(!1)}},A=async()=>{try{f(""),await pD(),p(!1)}catch(N){throw f(N.message),N}};j.useEffect(()=>{console.log("AuthContext: Setting up auth state listener");const N=gD(async M=>{if(console.log("AuthContext: Auth state changed, user:",M),n(M),M){const P=await y(M);p(P)}else p(!1);o(!1)});return()=>{console.log("AuthContext: Cleaning up auth listener"),N()}},[]);const k={currentUser:e,loading:s,error:u,hasCompletedProfile:m,setHasCompletedProfile:p,registerUser:E,loginUser:w,logout:A};return T.jsx(Gb.Provider,{value:k,children:!s&&i})},vD=()=>{const{currentUser:i,logout:e,hasCompletedProfile:n}=Un(),s=ts(),o=async()=>{try{await e(),s("/")}catch(f){console.error("Failed to log out:",f)}},u=()=>i?n?T.jsxs(T.Fragment,{children:[T.jsx(un,{to:"/dashboard",className:"text-gray-300 hover:text-primary-400 px-3 py-2 rounded-md text-sm font-medium transition-colors",children:"Dashboard"}),T.jsx(un,{to:"/skills-match",className:"text-gray-300 hover:text-primary-400 px-3 py-2 rounded-md text-sm font-medium transition-colors",children:"Skills Match"}),T.jsx(un,{to:"/profile",className:"text-gray-300 hover:text-primary-400 px-3 py-2 rounded-md text-sm font-medium transition-colors",children:"Profile"}),T.jsx("button",{onClick:o,className:"bg-primary-600 hover:bg-primary-700 text-white px-4 py-2 rounded-md text-sm font-medium transition-colors",children:"Logout"})]}):T.jsx(un,{to:"/profile-setup",className:"text-gray-300 hover:text-primary-400 px-3 py-2 rounded-md text-sm font-medium transition-colors",children:"Complete Profile"}):T.jsxs(T.Fragment,{children:[T.jsx(un,{to:"/login",className:"text-gray-300 hover:text-primary-400 px-3 py-2 rounded-md text-sm font-medium transition-colors",children:"Login"}),T.jsx(un,{to:"/register",className:"bg-primary-600 hover:bg-primary-700 text-white px-4 py-2 rounded-md text-sm font-medium transition-colors",children:"Register"})]});return T.jsx("nav",{className:"fixed top-0 left-0 right-0 z-50 bg-dark-800 border-b border-dark-700",children:T.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:T.jsxs("div",{className:"flex items-center justify-between h-16",children:[T.jsx("div",{className:"flex items-center",children:T.jsx(un,{to:"/",className:"text-primary-400 font-bold text-xl hover:text-primary-300 transition-colors",children:"SkillSwap"})}),T.jsxs("div",{className:"flex items-center space-x-4",children:[T.jsx(un,{to:"/",className:"text-gray-300 hover:text-primary-400 px-3 py-2 rounded-md text-sm font-medium transition-colors",children:"Home"}),u()]})]})})})},_D=()=>T.jsx("footer",{className:"bg-dark-800 border-t border-dark-700 py-6",children:T.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:T.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-center",children:[T.jsxs("p",{className:"text-gray-400 text-sm mb-4 md:mb-0",children:[" ",new Date().getFullYear()," SkillSwap. All rights reserved."]}),T.jsxs("div",{className:"flex space-x-6",children:[T.jsx("a",{href:"/about",className:"text-gray-400 hover:text-primary-400 text-sm transition-colors",children:"About"}),T.jsx("a",{href:"/contact",className:"text-gray-400 hover:text-primary-400 text-sm transition-colors",children:"Contact"}),T.jsx("a",{href:"/privacy",className:"text-gray-400 hover:text-primary-400 text-sm transition-colors",children:"Privacy Policy"}),T.jsx("a",{href:"/terms",className:"text-gray-400 hover:text-primary-400 text-sm transition-colors",children:"Terms of Service"})]})]})})}),ED=()=>T.jsxs("div",{className:"space-y-16",children:[T.jsxs("section",{className:"text-center py-20",children:[T.jsx("h1",{className:"text-4xl md:text-5xl font-bold text-primary-400 mb-6",children:"Welcome to SkillSwap"}),T.jsx("p",{className:"text-xl text-gray-300 max-w-2xl mx-auto",children:"Exchange skills, learn from others, and grow together"})]}),T.jsxs("section",{className:"py-12",children:[T.jsx("h2",{className:"text-3xl font-bold text-center text-gray-100 mb-12",children:"How It Works"}),T.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8 max-w-6xl mx-auto",children:[T.jsxs("div",{className:"bg-dark-800 p-6 rounded-lg border border-dark-700 hover:border-primary-500 transition-colors",children:[T.jsx("h3",{className:"text-xl font-semibold text-primary-400 mb-4",children:"Share Your Skills"}),T.jsx("p",{className:"text-gray-300",children:"Offer your expertise to others in the community"})]}),T.jsxs("div",{className:"bg-dark-800 p-6 rounded-lg border border-dark-700 hover:border-primary-500 transition-colors",children:[T.jsx("h3",{className:"text-xl font-semibold text-primary-400 mb-4",children:"Learn New Skills"}),T.jsx("p",{className:"text-gray-300",children:"Find mentors and learn from experienced professionals"})]}),T.jsxs("div",{className:"bg-dark-800 p-6 rounded-lg border border-dark-700 hover:border-primary-500 transition-colors",children:[T.jsx("h3",{className:"text-xl font-semibold text-primary-400 mb-4",children:"Connect"}),T.jsx("p",{className:"text-gray-300",children:"Build your network and collaborate with others"})]})]})]})]}),TD=({request:i,onClose:e,isIncoming:n})=>{const{currentUser:s}=Un(),[o,u]=j.useState(!1),[f,m]=j.useState(""),p=async()=>{try{u(!0),m(""),await hD(Fe(Ne,"connections",i.id),{status:"approved",approvedAt:new Date().toISOString()}),e()}catch(A){m("Failed to approve request: "+A.message)}finally{u(!1)}},y=async()=>{try{u(!0),m(""),await $m(Fe(Ne,"connections",i.id)),e()}catch(A){m("Failed to reject request: "+A.message)}finally{u(!1)}},E=async()=>{try{u(!0),m(""),await $m(Fe(Ne,"connections",i.id)),e()}catch(A){m("Failed to delete request: "+A.message)}finally{u(!1)}};if(!i)return null;const w=n?i.sender:i.recipient;return T.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50",children:T.jsxs("div",{className:"bg-dark-800 p-6 rounded-lg w-full max-w-2xl max-h-[90vh] overflow-y-auto relative",children:[T.jsx("button",{onClick:e,className:"absolute top-4 right-4 text-gray-400 hover:text-gray-200 text-xl",children:""}),T.jsxs("div",{className:"space-y-6",children:[T.jsxs("div",{children:[T.jsx("h2",{className:"text-2xl font-bold text-gray-100",children:w.name}),T.jsx("p",{className:"text-gray-300 mt-2",children:w.bio||"No bio provided"})]}),T.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[T.jsxs("div",{className:"bg-dark-700 p-4 rounded-lg",children:[T.jsx("h3",{className:"text-lg font-medium text-gray-100 mb-4",children:n?"Skills They Are Offering":"Skills You Are Offering"}),T.jsx("div",{className:"flex flex-wrap gap-2",children:i.skillsOffered.map(A=>T.jsx("span",{className:"px-3 py-1 rounded-full text-sm bg-primary-600 text-white",children:A.name},A.id))})]}),T.jsxs("div",{className:"bg-dark-700 p-4 rounded-lg",children:[T.jsx("h3",{className:"text-lg font-medium text-gray-100 mb-4",children:n?"Skills They Want":"Skills You Want"}),T.jsx("div",{className:"flex flex-wrap gap-2",children:i.skillsWanted.map(A=>T.jsx("span",{className:"px-3 py-1 rounded-full text-sm bg-dark-600 text-gray-300",children:A.name},A.id))})]})]}),f&&T.jsx("div",{className:"bg-red-900/50 border border-red-700 text-red-200 px-4 py-3 rounded",children:f}),n?T.jsxs("div",{className:"flex justify-end space-x-4",children:[T.jsx("button",{onClick:y,disabled:o,className:"px-4 py-2 bg-red-600 hover:bg-red-700 text-white rounded-lg font-medium transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:o?"Processing...":"Reject"}),T.jsx("button",{onClick:p,disabled:o,className:"px-4 py-2 bg-primary-600 hover:bg-primary-700 text-white rounded-lg font-medium transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:o?"Processing...":"Approve"})]}):T.jsx("div",{className:"flex justify-end",children:T.jsx("button",{onClick:E,disabled:o,className:"px-4 py-2 bg-red-600 hover:bg-red-700 text-white rounded-lg font-medium transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:o?"Processing...":"Delete Request"})}),n&&T.jsxs("div",{className:"text-sm text-gray-400 mt-4",children:["Note: If you approve this request, your contact information will be shared with ",w.name,"."]})]})]})})};var Kb={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},W_=Fs.createContext&&Fs.createContext(Kb),bD=["attr","size","title"];function SD(i,e){if(i==null)return{};var n=wD(i,e),s,o;if(Object.getOwnPropertySymbols){var u=Object.getOwnPropertySymbols(i);for(o=0;o<u.length;o++)s=u[o],!(e.indexOf(s)>=0)&&Object.prototype.propertyIsEnumerable.call(i,s)&&(n[s]=i[s])}return n}function wD(i,e){if(i==null)return{};var n={};for(var s in i)if(Object.prototype.hasOwnProperty.call(i,s)){if(e.indexOf(s)>=0)continue;n[s]=i[s]}return n}function Ih(){return Ih=Object.assign?Object.assign.bind():function(i){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(i[s]=n[s])}return i},Ih.apply(this,arguments)}function Z_(i,e){var n=Object.keys(i);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(i);e&&(s=s.filter(function(o){return Object.getOwnPropertyDescriptor(i,o).enumerable})),n.push.apply(n,s)}return n}function Ch(i){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Z_(Object(n),!0).forEach(function(s){AD(i,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(i,Object.getOwnPropertyDescriptors(n)):Z_(Object(n)).forEach(function(s){Object.defineProperty(i,s,Object.getOwnPropertyDescriptor(n,s))})}return i}function AD(i,e,n){return e=xD(e),e in i?Object.defineProperty(i,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):i[e]=n,i}function xD(i){var e=RD(i,"string");return typeof e=="symbol"?e:e+""}function RD(i,e){if(typeof i!="object"||!i)return i;var n=i[Symbol.toPrimitive];if(n!==void 0){var s=n.call(i,e);if(typeof s!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(i)}function Qb(i){return i&&i.map((e,n)=>Fs.createElement(e.tag,Ch({key:n},e.attr),Qb(e.child)))}function gu(i){return e=>Fs.createElement(ID,Ih({attr:Ch({},i.attr)},e),Qb(i.child))}function ID(i){var e=n=>{var{attr:s,size:o,title:u}=i,f=SD(i,bD),m=o||n.size||"1em",p;return n.className&&(p=n.className),i.className&&(p=(p?p+" ":"")+i.className),Fs.createElement("svg",Ih({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},n.attr,s,f,{className:p,style:Ch(Ch({color:i.color||n.color},n.style),i.style),height:m,width:m,xmlns:"http://www.w3.org/2000/svg"}),u&&Fs.createElement("title",null,u),i.children)};return W_!==void 0?Fs.createElement(W_.Consumer,null,n=>e(n)):e(Kb)}function Yb(i){return gu({attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M524.531,69.836a1.5,1.5,0,0,0-.764-.7A485.065,485.065,0,0,0,404.081,32.03a1.816,1.816,0,0,0-1.923.91,337.461,337.461,0,0,0-14.9,30.6,447.848,447.848,0,0,0-134.426,0,309.541,309.541,0,0,0-15.135-30.6,1.89,1.89,0,0,0-1.924-.91A483.689,483.689,0,0,0,116.085,69.137a1.712,1.712,0,0,0-.788.676C39.068,183.651,18.186,294.69,28.43,404.354a2.016,2.016,0,0,0,.765,1.375A487.666,487.666,0,0,0,176.02,479.918a1.9,1.9,0,0,0,2.063-.676A348.2,348.2,0,0,0,208.12,430.4a1.86,1.86,0,0,0-1.019-2.588,321.173,321.173,0,0,1-45.868-21.853,1.885,1.885,0,0,1-.185-3.126c3.082-2.309,6.166-4.711,9.109-7.137a1.819,1.819,0,0,1,1.9-.256c96.229,43.917,200.41,43.917,295.5,0a1.812,1.812,0,0,1,1.924.233c2.944,2.426,6.027,4.851,9.132,7.16a1.884,1.884,0,0,1-.162,3.126,301.407,301.407,0,0,1-45.89,21.83,1.875,1.875,0,0,0-1,2.611,391.055,391.055,0,0,0,30.014,48.815,1.864,1.864,0,0,0,2.063.7A486.048,486.048,0,0,0,610.7,405.729a1.882,1.882,0,0,0,.765-1.352C623.729,277.594,590.933,167.465,524.531,69.836ZM222.491,337.58c-28.972,0-52.844-26.587-52.844-59.239S193.056,219.1,222.491,219.1c29.665,0,53.306,26.82,52.843,59.239C275.334,310.993,251.924,337.58,222.491,337.58Zm195.38,0c-28.971,0-52.843-26.587-52.843-59.239S388.437,219.1,417.871,219.1c29.667,0,53.307,26.82,52.844,59.239C470.715,310.993,447.538,337.58,417.871,337.58Z"},child:[]}]})(i)}function $b(i){return gu({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M224.1 141c-63.6 0-114.9 51.3-114.9 114.9s51.3 114.9 114.9 114.9S339 319.5 339 255.9 287.7 141 224.1 141zm0 189.6c-41.1 0-74.7-33.5-74.7-74.7s33.5-74.7 74.7-74.7 74.7 33.5 74.7 74.7-33.6 74.7-74.7 74.7zm146.4-194.3c0 14.9-12 26.8-26.8 26.8-14.9 0-26.8-12-26.8-26.8s12-26.8 26.8-26.8 26.8 12 26.8 26.8zm76.1 27.2c-1.7-35.9-9.9-67.7-36.2-93.9-26.2-26.2-58-34.4-93.9-36.2-37-2.1-147.9-2.1-184.9 0-35.8 1.7-67.6 9.9-93.9 36.1s-34.4 58-36.2 93.9c-2.1 37-2.1 147.9 0 184.9 1.7 35.9 9.9 67.7 36.2 93.9s58 34.4 93.9 36.2c37 2.1 147.9 2.1 184.9 0 35.9-1.7 67.7-9.9 93.9-36.2 26.2-26.2 34.4-58 36.2-93.9 2.1-37 2.1-147.8 0-184.8zM398.8 388c-7.8 19.6-22.9 34.7-42.6 42.6-29.5 11.7-99.5 9-132.1 9s-102.7 2.6-132.1-9c-19.6-7.8-34.7-22.9-42.6-42.6-11.7-29.5-9-99.5-9-132.1s-2.6-102.7 9-132.1c7.8-19.6 22.9-34.7 42.6-42.6 29.5-11.7 99.5-9 132.1-9s102.7-2.6 132.1 9c19.6 7.8 34.7 22.9 42.6 42.6 11.7 29.5 9 99.5 9 132.1s2.7 102.7-9 132.1z"},child:[]}]})(i)}function Xb(i){return gu({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M459.37 151.716c.325 4.548.325 9.097.325 13.645 0 138.72-105.583 298.558-298.558 298.558-59.452 0-114.68-17.219-161.137-47.106 8.447.974 16.568 1.299 25.34 1.299 49.055 0 94.213-16.568 130.274-44.832-46.132-.975-84.792-31.188-98.112-72.772 6.498.974 12.995 1.624 19.818 1.624 9.421 0 18.843-1.3 27.614-3.573-48.081-9.747-84.143-51.98-84.143-102.985v-1.299c13.969 7.797 30.214 12.67 47.431 13.319-28.264-18.843-46.781-51.005-46.781-87.391 0-19.492 5.197-37.36 14.294-52.954 51.655 63.675 129.3 105.258 216.365 109.807-1.624-7.797-2.599-15.918-2.599-24.04 0-57.828 46.782-104.934 104.934-104.934 30.213 0 57.502 12.67 76.67 33.137 23.715-4.548 46.456-13.32 66.599-25.34-7.798 24.366-24.366 44.833-46.132 57.827 21.117-2.273 41.584-8.122 60.426-16.243-14.292 20.791-32.161 39.308-52.628 54.253z"},child:[]}]})(i)}function Wb(i){return gu({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M502.3 190.8c3.9-3.1 9.7-.2 9.7 4.7V400c0 26.5-21.5 48-48 48H48c-26.5 0-48-21.5-48-48V195.6c0-5 5.7-7.8 9.7-4.7 22.4 17.4 52.1 39.5 154.1 113.6 21.1 15.4 56.7 47.8 92.2 47.6 35.7.3 72-32.8 92.3-47.6 102-74.1 131.6-96.3 154-113.7zM256 320c23.2.4 56.6-29.2 73.4-41.4 132.7-96.3 142.8-104.7 173.4-128.7 5.8-4.5 9.2-11.5 9.2-18.9v-19c0-26.5-21.5-48-48-48H48C21.5 64 0 85.5 0 112v19c0 7.4 3.4 14.3 9.2 18.9 30.6 23.9 40.7 32.4 173.4 128.7 16.8 12.2 50.2 41.8 73.4 41.4z"},child:[]}]})(i)}function Zb(i){return gu({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M493.4 24.6l-104-24c-11.3-2.6-22.9 3.3-27.5 13.9l-48 112c-4.2 9.8-1.4 21.3 6.9 28l60.6 49.6c-36 76.7-98.9 140.5-177.2 177.2l-49.6-60.6c-6.8-8.3-18.2-11.1-28-6.9l-112 48C3.9 366.5-2 378.1.6 389.4l24 104C27.1 504.2 36.7 512 48 512c256.1 0 464-207.5 464-464 0-11.2-7.7-20.9-18.6-23.4z"},child:[]}]})(i)}const CD=({connection:i,onClose:e})=>{const{currentUser:n}=Un(),[s,o]=j.useState(!1),[u,f]=j.useState(""),[m,p]=j.useState([]),[y,E]=j.useState([]);j.useEffect(()=>{i&&(async()=>{try{const P=await Promise.all(i.skillsOffered.map(async se=>{const X=await it(Fe(Ne,"skills",se));return X.exists()?{id:X.id,...X.data()}:null}));p(P.filter(se=>se!==null));const K=await Promise.all(i.skillsWanted.map(async se=>{const X=await it(Fe(Ne,"skills",se));return X.exists()?{id:X.id,...X.data()}:null}));E(K.filter(se=>se!==null))}catch(P){console.error("Error fetching skills:",P),f("Failed to load skills")}})()},[i]);const w=async()=>{try{o(!0),f(""),await $m(Fe(Ne,"connections",i.id)),e()}catch(M){f("Failed to remove connection: "+M.message)}finally{o(!1)}},A=M=>{switch(M){case"email":return T.jsx(Wb,{className:"text-blue-400"});case"phone":return T.jsx(Zb,{className:"text-green-400"});case"discord":return T.jsx(Yb,{className:"text-indigo-400"});case"instagram":return T.jsx($b,{className:"text-pink-400"});case"twitter":return T.jsx(Xb,{className:"text-blue-400"});default:return null}},k=(M,P)=>{switch(M){case"email":return`mailto:${P}`;case"phone":return`tel:${P.replace(/[^0-9+]/g,"")}`;case"discord":return`https://discord.com/users/${P}`;case"instagram":return`https://instagram.com/${P.replace("@","")}`;case"twitter":return`https://twitter.com/${P.replace("@","")}`;default:return"#"}};if(!i||!i.recipient)return null;const N=i.recipient;return console.log("Connection data:",i),console.log("Other user data:",N),T.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50",children:T.jsxs("div",{className:"bg-dark-800 p-6 rounded-lg w-full max-w-2xl max-h-[90vh] overflow-y-auto relative",children:[T.jsx("button",{onClick:e,className:"absolute top-4 right-4 text-gray-400 hover:text-gray-200 text-xl",children:""}),T.jsxs("div",{className:"space-y-6",children:[T.jsxs("div",{children:[T.jsx("h2",{className:"text-2xl font-bold text-gray-100",children:N.name}),T.jsx("p",{className:"text-gray-300 mt-2",children:N.bio||"No bio provided"})]}),T.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[T.jsxs("div",{className:"bg-dark-700 p-4 rounded-lg",children:[T.jsx("h3",{className:"text-lg font-medium text-gray-100 mb-4",children:"Skills They Have"}),T.jsx("div",{className:"flex flex-wrap gap-2",children:m.map((M,P)=>T.jsx("span",{className:"px-3 py-1 rounded-full text-sm bg-primary-600 text-white",children:M.name},`have-${M.id||P}`))})]}),T.jsxs("div",{className:"bg-dark-700 p-4 rounded-lg",children:[T.jsx("h3",{className:"text-lg font-medium text-gray-100 mb-4",children:"Skills They Want"}),T.jsx("div",{className:"flex flex-wrap gap-2",children:y.map((M,P)=>T.jsx("span",{className:"px-3 py-1 rounded-full text-sm bg-dark-600 text-gray-300",children:M.name},`want-${M.id||P}`))})]})]}),N.contactMethods&&Object.entries(N.contactMethods).filter(([M,P])=>P&&P.trim()!=="").length>0&&T.jsxs("div",{className:"bg-dark-700 p-4 rounded-lg",children:[T.jsx("h3",{className:"text-lg font-medium text-gray-100 mb-4",children:"Contact Methods"}),T.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:Object.entries(N.contactMethods).filter(([M,P])=>P&&P.trim()!=="").map(([M,P],K)=>T.jsxs("a",{href:k(M,P),target:"_blank",rel:"noopener noreferrer",className:"bg-dark-600 p-3 rounded-lg hover:bg-dark-500 transition-colors flex items-center space-x-3",children:[T.jsx("div",{className:"text-xl",children:A(M)}),T.jsxs("div",{children:[T.jsx("p",{className:"text-sm text-gray-400 capitalize",children:M}),T.jsx("p",{className:"text-gray-100",children:P})]})]},`contact-${M}-${P}-${K}`))})]}),u&&T.jsx("div",{className:"bg-red-900/50 border border-red-700 text-red-200 px-4 py-3 rounded",children:u}),T.jsx("div",{className:"flex justify-end",children:T.jsx("button",{onClick:w,disabled:s,className:"px-4 py-2 bg-red-600 hover:bg-red-700 text-white rounded-lg font-medium transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:s?"Processing...":"Remove Connection"})})]})]})})},ND=()=>{const{currentUser:i}=Un(),[e,n]=j.useState({have:[],want:[]}),[s,o]=j.useState([]),[u,f]=j.useState([]),[m,p]=j.useState([]),[y,E]=j.useState(!0),[w,A]=j.useState(""),[k,N]=j.useState(null),[M,P]=j.useState(null),[K,se]=j.useState(!1);j.useEffect(()=>{(async()=>{try{E(!0),A("");const me=await it(Fe(Ne,"users",i.uid));if(!me.exists())throw new Error("User document not found");const V=me.data(),x=await Promise.all((V.skillsIHave||[]).map(async J=>{const W=await it(Fe(Ne,"skills",J));return W.exists()?W:null})),I=await Promise.all((V.skillsIWant||[]).map(async J=>{const W=await it(Fe(Ne,"skills",J));return W.exists()?W:null}));n({have:x.filter(J=>J!==null).map(J=>({id:J.id,...J.data()})),want:I.filter(J=>J!==null).map(J=>({id:J.id,...J.data()}))});const O=Yc(pr(Ne,"connections"),Pi("senderId","==",i.uid),Pi("status","==","pending")),U=await Hi(O),z=await Promise.all(U.docs.map(async J=>{const W=J.data(),fe=await it(Fe(Ne,"users",W.recipientId));if(!fe.exists())return null;const Re=await Promise.all((W.skillsOffered||[]).map(async Ae=>{const ke=await it(Fe(Ne,"skills",Ae));return ke.exists()?ke:null})),ye=await Promise.all((W.skillsWanted||[]).map(async Ae=>{const ke=await it(Fe(Ne,"skills",Ae));return ke.exists()?ke:null}));return{id:J.id,...W,recipient:fe.data(),skillsOffered:Re.filter(Ae=>Ae!==null).map(Ae=>({id:Ae.id,...Ae.data()})),skillsWanted:ye.filter(Ae=>Ae!==null).map(Ae=>({id:Ae.id,...Ae.data()}))}}));o(z.filter(J=>J!==null));const C=Yc(pr(Ne,"connections"),Pi("recipientId","==",i.uid),Pi("status","==","pending")),at=await Hi(C),We=await Promise.all(at.docs.map(async J=>{const W=J.data(),fe=await it(Fe(Ne,"users",W.senderId));if(!fe.exists())return null;const Re=await Promise.all((W.skillsOffered||[]).map(async Ae=>{const ke=await it(Fe(Ne,"skills",Ae));return ke.exists()?ke:null})),ye=await Promise.all((W.skillsWanted||[]).map(async Ae=>{const ke=await it(Fe(Ne,"skills",Ae));return ke.exists()?ke:null}));return{id:J.id,...W,sender:fe.data(),skillsOffered:Re.filter(Ae=>Ae!==null).map(Ae=>({id:Ae.id,...Ae.data()})),skillsWanted:ye.filter(Ae=>Ae!==null).map(Ae=>({id:Ae.id,...Ae.data()}))}}));f(We.filter(J=>J!==null));const Z=Yc(pr(Ne,"connections"),Pi("status","==","approved"),Pi("senderId","==",i.uid)),ue=Yc(pr(Ne,"connections"),Pi("status","==","approved"),Pi("recipientId","==",i.uid)),[re,te]=await Promise.all([Hi(Z),Hi(ue)]),R=await Promise.all(re.docs.map(async J=>{const W=J.data(),fe=await it(Fe(Ne,"users",W.recipientId));return fe.exists()?{id:J.id,...W,recipient:fe.data(),isSender:!0}:null})),Y=await Promise.all(te.docs.map(async J=>{const W=J.data(),fe=await it(Fe(Ne,"users",W.senderId));return fe.exists()?{id:J.id,...W,recipient:fe.data(),isSender:!1}:null}));p([...R.filter(J=>J!==null),...Y.filter(J=>J!==null)])}catch(me){A("Failed to fetch data: "+me.message)}finally{E(!1)}})()},[i]);const X=(le,me)=>{N(le),se(me)},he=le=>{P(le)};return T.jsxs("div",{className:"space-y-8",children:[T.jsx("h1",{className:"text-3xl font-bold text-gray-100",children:"Dashboard"}),w&&T.jsx("div",{className:"bg-red-900/50 border border-red-700 text-red-200 px-4 py-3 rounded",children:w}),T.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[T.jsxs("section",{className:"bg-dark-800 p-6 rounded-lg border border-dark-700",children:[T.jsxs("div",{className:"flex justify-between items-center mb-4",children:[T.jsx("h2",{className:"text-xl font-semibold text-primary-400",children:"My Skills"}),T.jsx(un,{to:"/edit-profile",className:"text-sm text-blue-400 hover:text-blue-300",children:"Edit Profile"})]}),T.jsxs("div",{className:"space-y-4",children:[T.jsxs("div",{children:[T.jsx("h3",{className:"text-lg font-medium text-gray-100 mb-2",children:"Skills I Have"}),T.jsx("div",{className:"flex flex-wrap gap-2",children:e.have.map(le=>T.jsx("span",{className:"px-3 py-1 rounded-full text-sm bg-primary-600 text-white",children:le.name},le.id))})]}),T.jsxs("div",{children:[T.jsx("h3",{className:"text-lg font-medium text-gray-100 mb-2",children:"Skills I Want"}),T.jsx("div",{className:"flex flex-wrap gap-2",children:e.want.map(le=>T.jsx("span",{className:"px-3 py-1 rounded-full text-sm bg-dark-600 text-gray-300",children:le.name},le.id))})]})]})]}),T.jsxs("section",{className:"bg-dark-800 p-6 rounded-lg border border-dark-700",children:[T.jsx("h2",{className:"text-xl font-semibold text-primary-400 mb-4",children:"Connections"}),T.jsx("div",{className:"space-y-4",children:m.map(le=>T.jsxs("div",{className:"bg-dark-700 p-4 rounded-lg cursor-pointer hover:bg-dark-600 transition-colors",onClick:()=>he(le),children:[T.jsx("h3",{className:"text-lg font-medium text-gray-100 mb-2",children:le.recipient.name}),T.jsxs("div",{className:"text-sm text-gray-400",children:["Connected since ",new Date(le.approvedAt).toLocaleDateString()]})]},le.id))})]}),T.jsxs("section",{className:"bg-dark-800 p-6 rounded-lg border border-dark-700",children:[T.jsx("h2",{className:"text-xl font-semibold text-primary-400 mb-4",children:"Incoming Requests"}),T.jsx("div",{className:"space-y-4",children:u.map(le=>T.jsxs("div",{className:"bg-dark-700 p-4 rounded-lg cursor-pointer hover:bg-dark-600 transition-colors",onClick:()=>X(le,!0),children:[T.jsxs("h3",{className:"text-lg font-medium text-gray-100 mb-2",children:["From: ",le.sender.name]}),T.jsxs("div",{className:"space-y-2",children:[T.jsxs("div",{children:[T.jsx("h4",{className:"text-sm font-medium text-gray-400",children:"Offering:"}),T.jsx("div",{className:"flex flex-wrap gap-2 mt-1",children:le.skillsOffered.map(me=>T.jsx("span",{className:"px-2 py-1 rounded-full text-xs bg-primary-600 text-white",children:me.name},me.id))})]}),T.jsxs("div",{children:[T.jsx("h4",{className:"text-sm font-medium text-gray-400",children:"Wanting:"}),T.jsx("div",{className:"flex flex-wrap gap-2 mt-1",children:le.skillsWanted.map(me=>T.jsx("span",{className:"px-2 py-1 rounded-full text-xs bg-dark-600 text-gray-300",children:me.name},me.id))})]}),T.jsxs("div",{className:"text-sm text-gray-400",children:["Status: ",le.status]})]})]},le.id))})]}),T.jsxs("section",{className:"bg-dark-800 p-6 rounded-lg border border-dark-700",children:[T.jsx("h2",{className:"text-xl font-semibold text-primary-400 mb-4",children:"Outgoing Requests"}),T.jsx("div",{className:"space-y-4",children:s.map(le=>T.jsxs("div",{className:"bg-dark-700 p-4 rounded-lg cursor-pointer hover:bg-dark-600 transition-colors",onClick:()=>X(le,!1),children:[T.jsxs("h3",{className:"text-lg font-medium text-gray-100 mb-2",children:["To: ",le.recipient.name]}),T.jsxs("div",{className:"space-y-2",children:[T.jsxs("div",{children:[T.jsx("h4",{className:"text-sm font-medium text-gray-400",children:"Offering:"}),T.jsx("div",{className:"flex flex-wrap gap-2 mt-1",children:le.skillsOffered.map(me=>T.jsx("span",{className:"px-2 py-1 rounded-full text-xs bg-primary-600 text-white",children:me.name},me.id))})]}),T.jsxs("div",{children:[T.jsx("h4",{className:"text-sm font-medium text-gray-400",children:"Wanting:"}),T.jsx("div",{className:"flex flex-wrap gap-2 mt-1",children:le.skillsWanted.map(me=>T.jsx("span",{className:"px-2 py-1 rounded-full text-xs bg-dark-600 text-gray-300",children:me.name},me.id))})]}),T.jsxs("div",{className:"text-sm text-gray-400",children:["Status: ",le.status]})]})]},le.id))})]})]}),k&&T.jsx(TD,{request:k,onClose:()=>N(null),isIncoming:K}),M&&T.jsx(CD,{connection:M,onClose:()=>P(null)})]})},DD=({user:i,onClose:e})=>{var k,N;const{currentUser:n}=Un(),[s,o]=j.useState([]),[u,f]=j.useState([]),[m,p]=j.useState(""),[y,E]=j.useState(!1),w=(M,P)=>{P==="offered"?o(K=>K.includes(M.id)?K.filter(se=>se!==M.id):[...K,M.id]):f(K=>K.includes(M.id)?K.filter(se=>se!==M.id):[...K,M.id])},A=async()=>{if(s.length===0||u.length===0){p("Please select at least one skill from each category");return}try{E(!0),p(""),await Hb(pr(Ne,"connections"),{senderId:n.uid,recipientId:i.id,skillsOffered:s,skillsWanted:u,status:"pending",createdAt:new Date().toISOString()}),e()}catch(M){p("Failed to send connection request: "+M.message)}finally{E(!1)}};return i?T.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50",children:T.jsxs("div",{className:"bg-dark-800 p-6 rounded-lg w-full max-w-2xl max-h-[90vh] overflow-y-auto relative",children:[T.jsx("button",{onClick:e,className:"absolute top-4 right-4 text-gray-400 hover:text-gray-200 text-xl",children:""}),T.jsxs("div",{className:"space-y-6",children:[T.jsxs("div",{children:[T.jsx("h2",{className:"text-2xl font-bold text-gray-100",children:i.name}),T.jsx("p",{className:"text-gray-300 mt-2",children:i.bio||"No bio provided"})]}),T.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[T.jsxs("div",{className:"bg-dark-700 p-4 rounded-lg",children:[T.jsx("h3",{className:"text-lg font-medium text-gray-100 mb-4",children:"Skills They Want"}),T.jsx("div",{className:"space-y-2",children:(k=i.skillsIWant)==null?void 0:k.map(M=>T.jsx("div",{className:`px-3 py-2 rounded-lg text-sm cursor-pointer ${s.includes(M.id)?"bg-primary-600 text-white":"bg-dark-600 text-gray-300 hover:bg-dark-500"}`,onClick:()=>w(M,"offered"),children:M.name},M.id))})]}),T.jsxs("div",{className:"bg-dark-700 p-4 rounded-lg",children:[T.jsx("h3",{className:"text-lg font-medium text-gray-100 mb-4",children:"Skills They Have"}),T.jsx("div",{className:"space-y-2",children:(N=i.skillsIHave)==null?void 0:N.map(M=>T.jsx("div",{className:`px-3 py-2 rounded-lg text-sm cursor-pointer ${u.includes(M.id)?"bg-primary-600 text-white":"bg-dark-600 text-gray-300 hover:bg-dark-500"}`,onClick:()=>w(M,"wanted"),children:M.name},M.id))})]})]}),m&&T.jsx("div",{className:"bg-red-900/50 border border-red-700 text-red-200 px-4 py-3 rounded",children:m}),T.jsx("div",{className:"flex justify-end",children:T.jsx("button",{onClick:A,disabled:y||s.length===0||u.length===0,className:"px-4 py-2 bg-primary-600 hover:bg-primary-700 text-white rounded-lg font-medium transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:y?"Sending...":"Connect"})})]})]})}):null},OD=()=>{const{currentUser:i}=Un(),[e,n]=j.useState(""),[s,o]=j.useState([]),[u,f]=j.useState(!0),[m,p]=j.useState(""),[y,E]=j.useState(null);j.useEffect(()=>{(async()=>{try{f(!0),p("");const N=(await it(Fe(Ne,"users",i.uid))).data(),M=N.skillsIHave||[],P=N.skillsIWant||[],se=(await Hi(pr(Ne,"users"))).docs.filter(he=>he.id!==i.uid).map(he=>({id:he.id,...he.data()})).filter(he=>{const le=he.contactMethods||{};return Object.entries(le).some(([me,V])=>V&&V.trim()!=="")}),X=await Promise.all(se.map(async he=>{const le=he.skillsIHave||[],me=he.skillsIWant||[],V=M.filter(I=>me.includes(I)),x=P.filter(I=>le.includes(I));if(V.length>0&&x.length>0){const I=await Promise.all(le.map(C=>it(Fe(Ne,"skills",C)))),O=await Promise.all(me.map(C=>it(Fe(Ne,"skills",C)))),U=await Promise.all(V.map(C=>it(Fe(Ne,"skills",C)))),z=await Promise.all(x.map(C=>it(Fe(Ne,"skills",C))));return{...he,skillsIHave:I.map(C=>({id:C.id,name:C.data().name,tags:C.data().tags||[]})),skillsIWant:O.map(C=>({id:C.id,name:C.data().name,tags:C.data().tags||[]})),matchingSkillsIHave:U.map(C=>({id:C.id,name:C.data().name,tags:C.data().tags||[]})),matchingSkillsIWant:z.map(C=>({id:C.id,name:C.data().name,tags:C.data().tags||[]}))}}return null}));o(X.filter(he=>he!==null))}catch(k){p("Failed to fetch matches: "+k.message)}finally{f(!1)}})()},[i]);const w=s.filter(A=>{if(!e)return!0;const k=e.toLowerCase(),N=M=>M.name.toLowerCase().includes(k)||M.tags.some(P=>P.toLowerCase().includes(k));return A.name.toLowerCase().includes(k)||A.matchingSkillsIHave.some(N)||A.matchingSkillsIWant.some(N)});return T.jsxs("div",{className:"space-y-8",children:[T.jsx("h1",{className:"text-3xl font-bold text-gray-100",children:"Find Skill Matches"}),T.jsx("div",{className:"flex flex-col sm:flex-row gap-4 max-w-2xl",children:T.jsx("input",{type:"text",placeholder:"Search for skills or names...",value:e,onChange:A=>n(A.target.value),className:"flex-grow px-4 py-2 rounded-lg bg-dark-800 border border-dark-700 text-gray-100 placeholder-gray-400 focus:outline-none focus:border-primary-500 focus:ring-1 focus:ring-primary-500"})}),T.jsxs("div",{className:"bg-dark-800 p-6 rounded-lg border border-dark-700 min-h-[300px]",children:[m&&T.jsx("div",{className:"bg-red-900/50 border border-red-700 text-red-200 px-4 py-3 rounded mb-4",children:m}),u?T.jsx("div",{className:"text-gray-400 text-center",children:"Loading matches..."}):w.length===0?T.jsx("div",{className:"text-gray-400 text-center",children:e?"No matches found for your search":"No skill matches found"}):T.jsx("div",{className:"space-y-6",children:w.map(A=>T.jsxs("div",{className:"bg-dark-700 p-4 rounded-lg cursor-pointer hover:bg-dark-600 transition-colors",onClick:()=>E(A),children:[T.jsx("h3",{className:"text-xl font-semibold text-gray-100 mb-3",children:A.name}),T.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[T.jsxs("div",{children:[T.jsx("h4",{className:"text-sm font-medium text-gray-400 mb-2",children:"Skills They Want"}),T.jsx("div",{className:"flex flex-wrap gap-2",children:A.skillsIWant.map(k=>T.jsx("span",{className:`px-3 py-1 rounded-full text-sm ${A.matchingSkillsIHave.some(N=>N.id===k.id)?"bg-primary-600 text-white":"bg-dark-600 text-gray-300"}`,children:k.name},k.id))})]}),T.jsxs("div",{children:[T.jsx("h4",{className:"text-sm font-medium text-gray-400 mb-2",children:"Skills They Have"}),T.jsx("div",{className:"flex flex-wrap gap-2",children:A.skillsIHave.map(k=>T.jsx("span",{className:`px-3 py-1 rounded-full text-sm ${A.matchingSkillsIWant.some(N=>N.id===k.id)?"bg-primary-600 text-white":"bg-dark-600 text-gray-300"}`,children:k.name},k.id))})]})]})]},A.id))})]}),y&&T.jsx(DD,{user:y,onClose:()=>E(null)})]})},kD=()=>{const[i,e]=j.useState(""),[n,s]=j.useState(""),[o,u]=j.useState(""),[f,m]=j.useState(!1),{loginUser:p}=Un(),y=ts(),E=async w=>{w.preventDefault();try{u(""),m(!0),await p(i,n),y("/dashboard")}catch(A){u("Failed to sign in: "+A.message)}finally{m(!1)}};return T.jsxs("div",{className:"max-w-md mx-auto bg-dark-800 p-8 rounded-lg border border-dark-700",children:[T.jsx("h2",{className:"text-2xl font-bold text-gray-100 mb-6",children:"Login"}),o&&T.jsx("div",{className:"bg-red-900/50 border border-red-700 text-red-200 px-4 py-3 rounded mb-4",children:o}),T.jsxs("form",{onSubmit:E,className:"space-y-6",children:[T.jsxs("div",{children:[T.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-300 mb-2",children:"Email"}),T.jsx("input",{type:"email",id:"email",value:i,onChange:w=>e(w.target.value),required:!0,className:"w-full px-4 py-2 rounded-lg bg-dark-700 border border-dark-600 text-gray-100 placeholder-gray-400 focus:outline-none focus:border-primary-500 focus:ring-1 focus:ring-primary-500"})]}),T.jsxs("div",{children:[T.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-300 mb-2",children:"Password"}),T.jsx("input",{type:"password",id:"password",value:n,onChange:w=>s(w.target.value),required:!0,className:"w-full px-4 py-2 rounded-lg bg-dark-700 border border-dark-600 text-gray-100 placeholder-gray-400 focus:outline-none focus:border-primary-500 focus:ring-1 focus:ring-primary-500"})]}),T.jsx("button",{type:"submit",disabled:f,className:"w-full px-4 py-2 bg-primary-600 hover:bg-primary-700 text-white rounded-lg font-medium transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:f?"Logging in...":"Login"})]}),T.jsx("div",{className:"mt-6 text-center",children:T.jsxs("p",{className:"text-gray-400",children:["Don't have an account?"," ",T.jsx(un,{to:"/register",className:"text-primary-400 hover:text-primary-300 transition-colors",children:"Register"})]})})]})},MD=()=>{const[i,e]=j.useState(""),[n,s]=j.useState(""),[o,u]=j.useState(""),[f,m]=j.useState(""),[p,y]=j.useState(""),[E,w]=j.useState(!1),{registerUser:A}=Un(),k=ts(),N=async M=>{if(M.preventDefault(),n!==o)return y("Passwords do not match");try{y(""),w(!0),console.log("Starting registration");const P=await A(i,n,f);console.log("Registration successful, user:",P),pu.currentUser?(console.log("User is authenticated, navigating to profile-setup"),k("/profile-setup",{replace:!0}),window.location.reload()):(console.error("User not authenticated after registration"),y("Registration successful but authentication failed"))}catch(P){console.error("Registration error:",P),y("Failed to create an account: "+P.message)}finally{w(!1)}};return T.jsxs("div",{className:"max-w-md mx-auto bg-dark-800 p-8 rounded-lg border border-dark-700",children:[T.jsx("h2",{className:"text-2xl font-bold text-gray-100 mb-6",children:"Register"}),p&&T.jsx("div",{className:"bg-red-900/50 border border-red-700 text-red-200 px-4 py-3 rounded mb-4",children:p}),T.jsxs("form",{onSubmit:N,className:"space-y-6",children:[T.jsxs("div",{children:[T.jsx("label",{htmlFor:"displayName",className:"block text-sm font-medium text-gray-300 mb-2",children:"Display Name"}),T.jsx("input",{type:"text",id:"displayName",value:f,onChange:M=>m(M.target.value),required:!0,className:"w-full px-4 py-2 rounded-lg bg-dark-700 border border-dark-600 text-gray-100 placeholder-gray-400 focus:outline-none focus:border-primary-500 focus:ring-1 focus:ring-primary-500"})]}),T.jsxs("div",{children:[T.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-300 mb-2",children:"Email"}),T.jsx("input",{type:"email",id:"email",value:i,onChange:M=>e(M.target.value),required:!0,className:"w-full px-4 py-2 rounded-lg bg-dark-700 border border-dark-600 text-gray-100 placeholder-gray-400 focus:outline-none focus:border-primary-500 focus:ring-1 focus:ring-primary-500"})]}),T.jsxs("div",{children:[T.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-300 mb-2",children:"Password"}),T.jsx("input",{type:"password",id:"password",value:n,onChange:M=>s(M.target.value),required:!0,className:"w-full px-4 py-2 rounded-lg bg-dark-700 border border-dark-600 text-gray-100 placeholder-gray-400 focus:outline-none focus:border-primary-500 focus:ring-1 focus:ring-primary-500"})]}),T.jsxs("div",{children:[T.jsx("label",{htmlFor:"confirmPassword",className:"block text-sm font-medium text-gray-300 mb-2",children:"Confirm Password"}),T.jsx("input",{type:"password",id:"confirmPassword",value:o,onChange:M=>u(M.target.value),required:!0,className:"w-full px-4 py-2 rounded-lg bg-dark-700 border border-dark-600 text-gray-100 placeholder-gray-400 focus:outline-none focus:border-primary-500 focus:ring-1 focus:ring-primary-500"})]}),T.jsx("button",{type:"submit",disabled:E,className:"w-full px-4 py-2 bg-primary-600 hover:bg-primary-700 text-white rounded-lg font-medium transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:E?"Creating Account...":"Register"})]}),T.jsx("div",{className:"mt-6 text-center",children:T.jsxs("p",{className:"text-gray-400",children:["Already have an account?"," ",T.jsx(un,{to:"/login",className:"text-primary-400 hover:text-primary-300 transition-colors",children:"Login"})]})})]})},VD=()=>{var A,k;const{currentUser:i,logout:e}=Un(),n=ts(),[s,o]=j.useState(""),[u,f]=j.useState(!1),[m,p]=j.useState(null);j.useEffect(()=>{(async()=>{if(i)try{const M=await it(Fe(Ne,"users",i.uid));if(M.exists()){const P=M.data(),K=await Promise.all((P.skillsIHave||[]).map(X=>it(Fe(Ne,"skills",X)))),se=await Promise.all((P.skillsIWant||[]).map(X=>it(Fe(Ne,"skills",X))));p({...P,skillsIHave:K.map(X=>({id:X.id,name:X.data().name})),skillsIWant:se.map(X=>({id:X.id,name:X.data().name}))})}}catch(M){o("Failed to fetch profile: "+M.message)}})()},[i]);const y=async()=>{try{o(""),f(!0),await e(),n("/")}catch(N){o("Failed to log out: "+N.message)}finally{f(!1)}},E=N=>{switch(N){case"email":return T.jsx(Wb,{className:"text-blue-400"});case"phone":return T.jsx(Zb,{className:"text-green-400"});case"discord":return T.jsx(Yb,{className:"text-indigo-400"});case"instagram":return T.jsx($b,{className:"text-pink-400"});case"twitter":return T.jsx(Xb,{className:"text-blue-400"});default:return null}},w=(N,M)=>{switch(N){case"email":return`mailto:${M}`;case"phone":return`tel:${M.replace(/[^0-9+]/g,"")}`;case"discord":return`https://discord.com/users/${M}`;case"instagram":return`https://instagram.com/${M.replace("@","")}`;case"twitter":return`https://twitter.com/${M.replace("@","")}`;default:return"#"}};return T.jsxs("div",{className:"max-w-4xl mx-auto bg-dark-800 p-8 rounded-lg border border-dark-700",children:[T.jsxs("div",{className:"flex justify-between items-center mb-6",children:[T.jsx("h2",{className:"text-2xl font-bold text-gray-100",children:"Profile"}),T.jsx(un,{to:"/edit-profile",className:"px-4 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded-lg font-medium transition-colors",children:"Edit Profile"})]}),s&&T.jsx("div",{className:"bg-red-900/50 border border-red-700 text-red-200 px-4 py-3 rounded mb-4",children:s}),T.jsx("div",{className:"space-y-6",children:i&&m?T.jsxs(T.Fragment,{children:[T.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[T.jsxs("div",{className:"bg-dark-700 p-4 rounded-lg",children:[T.jsx("p",{className:"text-sm text-gray-400",children:"Name"}),T.jsx("p",{className:"text-gray-100",children:m.name})]}),T.jsxs("div",{className:"bg-dark-700 p-4 rounded-lg",children:[T.jsx("p",{className:"text-sm text-gray-400",children:"Email"}),T.jsx("p",{className:"text-gray-100",children:i.email})]}),T.jsxs("div",{className:"bg-dark-700 p-4 rounded-lg md:col-span-2",children:[T.jsx("p",{className:"text-sm text-gray-400",children:"Bio"}),T.jsx("p",{className:"text-gray-100",children:m.bio||"No bio provided"})]})]}),T.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[T.jsxs("div",{className:"bg-dark-700 p-4 rounded-lg",children:[T.jsx("h3",{className:"text-lg font-medium text-gray-100 mb-4",children:"Skills I Have"}),T.jsx("div",{className:"space-y-2",children:((A=m.skillsIHave)==null?void 0:A.length)>0?m.skillsIHave.map(N=>T.jsx("div",{className:"bg-dark-600 px-3 py-2 rounded-lg text-gray-100",children:N.name},N.id)):T.jsx("p",{className:"text-gray-400",children:"No skills added yet"})})]}),T.jsxs("div",{className:"bg-dark-700 p-4 rounded-lg",children:[T.jsx("h3",{className:"text-lg font-medium text-gray-100 mb-4",children:"Skills I Want"}),T.jsx("div",{className:"space-y-2",children:((k=m.skillsIWant)==null?void 0:k.length)>0?m.skillsIWant.map(N=>T.jsx("div",{className:"bg-dark-600 px-3 py-2 rounded-lg text-gray-100",children:N.name},N.id)):T.jsx("p",{className:"text-gray-400",children:"No skills added yet"})})]})]}),T.jsxs("div",{className:"bg-dark-700 p-4 rounded-lg",children:[T.jsx("h3",{className:"text-lg font-medium text-gray-100 mb-4",children:"Contact Methods"}),T.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:m.contactMethods&&Object.entries(m.contactMethods).filter(([N,M])=>M&&M.trim()!=="").length>0?Object.entries(m.contactMethods).filter(([N,M])=>M&&M.trim()!=="").map(([N,M])=>T.jsxs("a",{href:w(N,M),target:"_blank",rel:"noopener noreferrer",className:"bg-dark-600 p-3 rounded-lg hover:bg-dark-500 transition-colors flex items-center space-x-3",children:[T.jsx("div",{className:"text-xl",children:E(N)}),T.jsxs("div",{children:[T.jsx("p",{className:"text-sm text-gray-400 capitalize",children:N}),T.jsx("p",{className:"text-gray-100",children:M})]})]},N)):T.jsx("p",{className:"text-gray-400 md:col-span-2",children:"No contact methods added yet"})})]}),T.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[T.jsxs("div",{className:"bg-dark-700 p-4 rounded-lg",children:[T.jsx("p",{className:"text-sm text-gray-400",children:"Account Created"}),T.jsx("p",{className:"text-gray-100",children:new Date(m.createdAt).toLocaleDateString()})]}),T.jsxs("div",{className:"bg-dark-700 p-4 rounded-lg",children:[T.jsx("p",{className:"text-sm text-gray-400",children:"Last Updated"}),T.jsx("p",{className:"text-gray-100",children:new Date(m.updatedAt).toLocaleDateString()})]})]}),T.jsx("button",{onClick:y,disabled:u,className:"w-full px-4 py-2 bg-red-600 hover:bg-red-700 text-white rounded-lg font-medium transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:u?"Logging out...":"Logout"})]}):T.jsx("p",{className:"text-gray-400 text-center",children:"Please log in to view your profile"})})]})},PD=()=>{const{currentUser:i,setHasCompletedProfile:e}=Un(),n=ts(),[s,o]=j.useState(!1),[u,f]=j.useState(""),[m,p]=j.useState(""),[y,E]=j.useState(""),[w,A]=j.useState(""),[k,N]=j.useState([]),[M,P]=j.useState([]),[K,se]=j.useState([]),[X,he]=j.useState([]),[le,me]=j.useState([]),[V,x]=j.useState([]),[I,O]=j.useState({email:"",phone:"",discord:"",instagram:"",twitter:""}),[U,z]=j.useState([]),C=[{id:"email",label:"Email",placeholder:"your@email.com",validation:/^[^\s@]+@[^\s@]+\.[^\s@]+$/},{id:"phone",label:"Phone Number",placeholder:"+1 (555) 555-5555",validation:/^\+?[\d\s-()]{10,}$/},{id:"discord",label:"Discord",placeholder:"username#1234",validation:/^.{3,32}#[0-9]{4}$/},{id:"instagram",label:"Instagram",placeholder:"@username",validation:/^@?[a-zA-Z0-9._]{1,30}$/},{id:"twitter",label:"Twitter",placeholder:"@username",validation:/^@?[a-zA-Z0-9_]{1,15}$/}];j.useEffect(()=>{(async()=>{try{const Y=(await Hi(pr(Ne,"skills"))).docs.map(W=>({id:W.id,...W.data()}));N(Y);const J=new Set;Y.forEach(W=>{W.tags.forEach(fe=>J.add(fe))}),x([...J])}catch(R){f("Failed to fetch skills: "+R.message)}})()},[]),j.useEffect(()=>{const te=k.filter(R=>{const Y=R.name.toLowerCase().includes(w.toLowerCase())||R.tags.some(W=>W.toLowerCase().includes(w.toLowerCase())),J=le.length===0||le.every(W=>R.tags.includes(W));return Y&&J});P(te)},[w,k,le]);const at=(te,R)=>{R==="left"?K.some(Y=>Y.id===te.id)||se([...K,{id:te.id,name:te.name}]):X.some(Y=>Y.id===te.id)||he([...X,{id:te.id,name:te.name}])},We=te=>{z(R=>{if(R.includes(te)){const Y={...I};return delete Y[te],O(Y),R.filter(J=>J!==te)}else return[...R,te]})},Z=(te,R)=>{O(Y=>({...Y,[te]:R}))},ue=(te,R)=>{const Y=C.find(J=>J.id===te);return Y?Y.validation.test(R):!0},re=async te=>{if(te.preventDefault(),!m.trim()){f("Name is required");return}if(!Object.entries(I).some(([Y,J])=>U.includes(Y)&&J&&J.trim()!=="")){f("At least one contact method is required");return}for(const Y of U)if(!ue(Y,I[Y])){f(`Invalid ${Y} format`);return}try{o(!0),f(""),await Bb(Fe(Ne,"users",i.uid),{name:m,bio:y,skillsIHave:K.map(Y=>Y.id),skillsIWant:X.map(Y=>Y.id),contactMethods:I,createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()}),e(!0),n("/dashboard")}catch(Y){f("Failed to create profile: "+Y.message)}finally{o(!1)}};return T.jsxs("div",{className:"max-w-4xl mx-auto bg-dark-800 p-8 rounded-lg border border-dark-700",children:[T.jsx("h2",{className:"text-2xl font-bold text-gray-100 mb-6",children:"Complete Your Profile"}),u&&T.jsx("div",{className:"bg-red-900/50 border border-red-700 text-red-200 px-4 py-3 rounded mb-4",children:u}),T.jsxs("form",{onSubmit:re,className:"space-y-6",children:[T.jsxs("div",{children:[T.jsx("label",{className:"block text-sm font-medium text-gray-400 mb-2",children:"Name *"}),T.jsx("input",{type:"text",value:m,onChange:te=>p(te.target.value),className:"w-full px-4 py-2 bg-dark-700 border border-dark-600 rounded-lg text-gray-100 focus:outline-none focus:ring-2 focus:ring-blue-500",required:!0})]}),T.jsxs("div",{children:[T.jsx("label",{className:"block text-sm font-medium text-gray-400 mb-2",children:"Bio"}),T.jsx("textarea",{value:y,onChange:te=>E(te.target.value),className:"w-full px-4 py-2 bg-dark-700 border border-dark-600 rounded-lg text-gray-100 focus:outline-none focus:ring-2 focus:ring-blue-500",rows:"3"})]}),T.jsxs("div",{className:"flex gap-4",children:[T.jsxs("div",{className:"flex-1",children:[T.jsx("h3",{className:"text-lg font-medium text-gray-100 mb-2",children:"Skills I Have"}),T.jsx("div",{className:"bg-dark-700 p-4 rounded-lg min-h-[200px] max-h-[300px] overflow-y-auto scrollbar-thin scrollbar-thumb-dark-600 scrollbar-track-dark-800",children:K.map(te=>T.jsxs("div",{className:"flex items-center justify-between p-2 hover:bg-dark-600 rounded-lg",children:[T.jsx("span",{className:"text-gray-100",children:te.name}),T.jsx("button",{type:"button",onClick:()=>se(K.filter(R=>R.id!==te.id)),className:"text-red-400 hover:text-red-300",children:""})]},te.id))})]}),T.jsxs("div",{className:"flex-1",children:[T.jsx("label",{className:"block text-sm font-medium text-gray-400 mb-2",children:"Search Skills"}),T.jsx("input",{type:"text",value:w,onChange:te=>A(te.target.value),placeholder:"Type to search skills or tags...",className:"w-full px-4 py-2 bg-dark-700 border border-dark-600 rounded-lg text-gray-100 focus:outline-none focus:ring-2 focus:ring-blue-500"}),T.jsx("div",{className:"mt-4 max-h-[300px] overflow-y-auto scrollbar-thin scrollbar-thumb-dark-600 scrollbar-track-dark-800",children:M.map(te=>T.jsxs("div",{className:"flex items-center justify-between p-2 hover:bg-dark-700 rounded-lg",children:[T.jsx("button",{type:"button",onClick:()=>at(te,"left"),className:"text-blue-400 hover:text-blue-300 text-2xl",children:""}),T.jsxs("div",{className:"flex-1 px-4",children:[T.jsx("div",{className:"text-gray-100",children:te.name}),T.jsx("div",{className:"flex flex-wrap gap-1 mt-1",children:te.tags.map(R=>T.jsx("span",{className:"text-xs bg-dark-600 text-gray-400 px-2 py-0.5 rounded-full",children:R},R))})]}),T.jsx("button",{type:"button",onClick:()=>at(te,"right"),className:"text-blue-400 hover:text-blue-300 text-2xl",children:""})]},te.id))})]}),T.jsxs("div",{className:"flex-1",children:[T.jsx("h3",{className:"text-lg font-medium text-gray-100 mb-2",children:"Skills I Want"}),T.jsx("div",{className:"bg-dark-700 p-4 rounded-lg min-h-[200px] max-h-[300px] overflow-y-auto scrollbar-thin scrollbar-thumb-dark-600 scrollbar-track-dark-800",children:X.map(te=>T.jsxs("div",{className:"flex items-center justify-between p-2 hover:bg-dark-600 rounded-lg",children:[T.jsx("span",{className:"text-gray-100",children:te.name}),T.jsx("button",{type:"button",onClick:()=>he(X.filter(R=>R.id!==te.id)),className:"text-red-400 hover:text-red-300",children:""})]},te.id))})]})]}),T.jsxs("div",{children:[T.jsx("h3",{className:"text-lg font-medium text-gray-100 mb-4",children:"Contact Methods"}),T.jsx("div",{className:"space-y-4",children:C.map(te=>T.jsxs("div",{className:"flex items-center space-x-4",children:[T.jsx("input",{type:"checkbox",id:te.id,checked:U.includes(te.id),onChange:()=>We(te.id),className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-dark-600 rounded"}),T.jsx("label",{htmlFor:te.id,className:"text-gray-300",children:te.label}),U.includes(te.id)&&T.jsx("input",{type:"text",value:I[te.id]||"",onChange:R=>Z(te.id,R.target.value),placeholder:te.placeholder,className:`flex-1 px-4 py-2 bg-dark-700 border ${I[te.id]&&!ue(te.id,I[te.id])?"border-red-500":"border-dark-600"} rounded-lg text-gray-100 focus:outline-none focus:ring-2 focus:ring-blue-500`})]},te.id))})]}),T.jsx("button",{type:"submit",disabled:s,className:"w-full px-4 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded-lg font-medium transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:s?"Saving...":"Complete Profile"})]})]})},LD=()=>{const{currentUser:i}=Un(),e=ts(),[n,s]=j.useState(!1),[o,u]=j.useState(""),[f,m]=j.useState(""),[p,y]=j.useState(""),[E,w]=j.useState(""),[A,k]=j.useState([]),[N,M]=j.useState([]),[P,K]=j.useState([]),[se,X]=j.useState([]),[he,le]=j.useState([]),[me,V]=j.useState([]),[x,I]=j.useState({email:"",phone:"",discord:"",instagram:"",twitter:""}),[O,U]=j.useState([]),z=[{id:"email",label:"Email",placeholder:"your@email.com",validation:/^[^\s@]+@[^\s@]+\.[^\s@]+$/},{id:"phone",label:"Phone Number",placeholder:"+1 (555) 555-5555",validation:/^\+?[\d\s-()]{10,}$/},{id:"discord",label:"Discord",placeholder:"username#1234",validation:/^.{3,32}#[0-9]{4}$/},{id:"instagram",label:"Instagram",placeholder:"@username",validation:/^@?[a-zA-Z0-9._]{1,30}$/},{id:"twitter",label:"Twitter",placeholder:"@username",validation:/^@?[a-zA-Z0-9_]{1,15}$/}];j.useEffect(()=>{(async()=>{try{const te=await it(Fe(Ne,"users",i.uid));if(te.exists()){const W=te.data();m(W.name),y(W.bio||""),I(W.contactMethods||{}),U(Object.keys(W.contactMethods||{}));const fe=await Promise.all((W.skillsIHave||[]).map(ye=>it(Fe(Ne,"skills",ye)))),Re=await Promise.all((W.skillsIWant||[]).map(ye=>it(Fe(Ne,"skills",ye))));K(fe.map(ye=>({id:ye.id,name:ye.data().name}))),X(Re.map(ye=>({id:ye.id,name:ye.data().name})))}const Y=(await Hi(pr(Ne,"skills"))).docs.map(W=>({id:W.id,...W.data()}));k(Y);const J=new Set;Y.forEach(W=>{W.tags.forEach(fe=>J.add(fe))}),V([...J])}catch(te){u("Failed to fetch data: "+te.message)}})()},[i]),j.useEffect(()=>{const re=A.filter(te=>{const R=te.name.toLowerCase().includes(E.toLowerCase())||te.tags.some(J=>J.toLowerCase().includes(E.toLowerCase())),Y=he.length===0||he.every(J=>te.tags.includes(J));return R&&Y});M(re)},[E,A,he]);const C=(re,te)=>{te==="left"?P.some(R=>R.id===re.id)||K([...P,{id:re.id,name:re.name}]):se.some(R=>R.id===re.id)||X([...se,{id:re.id,name:re.name}])},at=re=>{U(te=>{if(te.includes(re)){const R={...x};return delete R[re],I(R),te.filter(Y=>Y!==re)}else return[...te,re]})},We=(re,te)=>{I(R=>({...R,[re]:te}))},Z=(re,te)=>{const R=z.find(Y=>Y.id===re);return R?R.validation.test(te):!0},ue=async re=>{if(re.preventDefault(),!f.trim()){u("Name is required");return}if(!Object.entries(x).some(([R,Y])=>O.includes(R)&&Y&&Y.trim()!=="")){u("At least one contact method is required");return}for(const R of O)if(!Z(R,x[R])){u(`Invalid ${R} format`);return}try{s(!0),u(""),await Bb(Fe(Ne,"users",i.uid),{name:f,bio:p,skillsIHave:P.map(R=>R.id),skillsIWant:se.map(R=>R.id),contactMethods:x,updatedAt:new Date().toISOString()},{merge:!0}),e("/profile")}catch(R){u("Failed to update profile: "+R.message)}finally{s(!1)}};return T.jsxs("div",{className:"max-w-4xl mx-auto bg-dark-800 p-8 rounded-lg border border-dark-700",children:[T.jsx("h2",{className:"text-2xl font-bold text-gray-100 mb-6",children:"Edit Profile"}),o&&T.jsx("div",{className:"bg-red-900/50 border border-red-700 text-red-200 px-4 py-3 rounded mb-4",children:o}),T.jsxs("form",{onSubmit:ue,className:"space-y-6",children:[T.jsxs("div",{children:[T.jsx("label",{className:"block text-sm font-medium text-gray-400 mb-2",children:"Name *"}),T.jsx("input",{type:"text",value:f,onChange:re=>m(re.target.value),className:"w-full px-4 py-2 bg-dark-700 border border-dark-600 rounded-lg text-gray-100 focus:outline-none focus:ring-2 focus:ring-blue-500",required:!0})]}),T.jsxs("div",{children:[T.jsx("label",{className:"block text-sm font-medium text-gray-400 mb-2",children:"Bio"}),T.jsx("textarea",{value:p,onChange:re=>y(re.target.value),className:"w-full px-4 py-2 bg-dark-700 border border-dark-600 rounded-lg text-gray-100 focus:outline-none focus:ring-2 focus:ring-blue-500",rows:"3"})]}),T.jsxs("div",{className:"flex gap-4",children:[T.jsxs("div",{className:"flex-1",children:[T.jsx("h3",{className:"text-lg font-medium text-gray-100 mb-2",children:"Skills I Have"}),T.jsx("div",{className:"bg-dark-700 p-4 rounded-lg min-h-[200px] max-h-[300px] overflow-y-auto scrollbar-thin scrollbar-thumb-dark-600 scrollbar-track-dark-800",children:P.map(re=>T.jsxs("div",{className:"flex items-center justify-between p-2 hover:bg-dark-600 rounded-lg",children:[T.jsx("span",{className:"text-gray-100",children:re.name}),T.jsx("button",{type:"button",onClick:()=>K(P.filter(te=>te.id!==re.id)),className:"text-red-400 hover:text-red-300",children:""})]},re.id))})]}),T.jsxs("div",{className:"flex-1",children:[T.jsx("label",{className:"block text-sm font-medium text-gray-400 mb-2",children:"Search Skills"}),T.jsx("input",{type:"text",value:E,onChange:re=>w(re.target.value),placeholder:"Type to search skills or tags...",className:"w-full px-4 py-2 bg-dark-700 border border-dark-600 rounded-lg text-gray-100 focus:outline-none focus:ring-2 focus:ring-blue-500"}),T.jsx("div",{className:"mt-4 max-h-[300px] overflow-y-auto scrollbar-thin scrollbar-thumb-dark-600 scrollbar-track-dark-800",children:N.map(re=>T.jsxs("div",{className:"flex items-center justify-between p-2 hover:bg-dark-700 rounded-lg",children:[T.jsx("button",{type:"button",onClick:()=>C(re,"left"),className:"text-blue-400 hover:text-blue-300 text-2xl",children:""}),T.jsxs("div",{className:"flex-1 px-4",children:[T.jsx("div",{className:"text-gray-100",children:re.name}),T.jsx("div",{className:"flex flex-wrap gap-1 mt-1",children:re.tags.map(te=>T.jsx("span",{className:"text-xs bg-dark-600 text-gray-400 px-2 py-0.5 rounded-full",children:te},te))})]}),T.jsx("button",{type:"button",onClick:()=>C(re,"right"),className:"text-blue-400 hover:text-blue-300 text-2xl",children:""})]},re.id))})]}),T.jsxs("div",{className:"flex-1",children:[T.jsx("h3",{className:"text-lg font-medium text-gray-100 mb-2",children:"Skills I Want"}),T.jsx("div",{className:"bg-dark-700 p-4 rounded-lg min-h-[200px] max-h-[300px] overflow-y-auto scrollbar-thin scrollbar-thumb-dark-600 scrollbar-track-dark-800",children:se.map(re=>T.jsxs("div",{className:"flex items-center justify-between p-2 hover:bg-dark-600 rounded-lg",children:[T.jsx("span",{className:"text-gray-100",children:re.name}),T.jsx("button",{type:"button",onClick:()=>X(se.filter(te=>te.id!==re.id)),className:"text-red-400 hover:text-red-300",children:""})]},re.id))})]})]}),T.jsxs("div",{children:[T.jsx("h3",{className:"text-lg font-medium text-gray-100 mb-4",children:"Contact Methods"}),T.jsx("div",{className:"space-y-4",children:z.map(re=>T.jsxs("div",{className:"flex items-center space-x-4",children:[T.jsx("input",{type:"checkbox",id:re.id,checked:O.includes(re.id),onChange:()=>at(re.id),className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-dark-600 rounded"}),T.jsx("label",{htmlFor:re.id,className:"text-gray-300",children:re.label}),O.includes(re.id)&&T.jsx("input",{type:"text",value:x[re.id]||"",onChange:te=>We(re.id,te.target.value),placeholder:re.placeholder,className:`flex-1 px-4 py-2 bg-dark-700 border ${x[re.id]&&!Z(re.id,x[re.id])?"border-red-500":"border-dark-600"} rounded-lg text-gray-100 focus:outline-none focus:ring-2 focus:ring-blue-500`})]},re.id))})]}),T.jsxs("div",{className:"flex space-x-4",children:[T.jsx("button",{type:"button",onClick:()=>e("/profile"),className:"flex-1 px-4 py-2 bg-gray-600 hover:bg-gray-700 text-white rounded-lg font-medium transition-colors",children:"Cancel"}),T.jsx("button",{type:"submit",disabled:n,className:"flex-1 px-4 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded-lg font-medium transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:n?"Saving...":"Save Changes"})]})]})]})},Ml=({children:i})=>{const{currentUser:e,loading:n}=Un();return n?T.jsx("div",{className:"loading",children:"Loading..."}):e?i:T.jsx(uE,{to:"/login"})};function UD(){return T.jsx(yD,{children:T.jsx(KA,{children:T.jsxs("div",{className:"min-h-screen flex flex-col bg-dark-900 text-gray-100",children:[T.jsx(vD,{}),T.jsx("main",{className:"flex-grow container mx-auto px-4 pt-24 px-4 py-8",children:T.jsxs(SA,{children:[T.jsx(dr,{path:"/",element:T.jsx(ED,{})}),T.jsx(dr,{path:"/dashboard",element:T.jsx(Ml,{children:T.jsx(ND,{})})}),T.jsx(dr,{path:"/skills-match",element:T.jsx(Ml,{children:T.jsx(OD,{})})}),T.jsx(dr,{path:"/login",element:T.jsx(kD,{})}),T.jsx(dr,{path:"/register",element:T.jsx(MD,{})}),T.jsx(dr,{path:"/profile-setup",element:T.jsx(Ml,{children:T.jsx(PD,{})})}),T.jsx(dr,{path:"/profile",element:T.jsx(Ml,{children:T.jsx(VD,{})})}),T.jsx(dr,{path:"/edit-profile",element:T.jsx(Ml,{children:T.jsx(LD,{})})}),T.jsx(dr,{path:"*",element:T.jsx(uE,{to:"/",replace:!0})})]})}),T.jsx(_D,{})]})})})}const jD=[{name:"Web Development",tags:["coding","programming","frontend","backend","fullstack","javascript","html","css"]},{name:"Mobile Development",tags:["coding","programming","ios","android","react native","flutter","swift","kotlin"]},{name:"Graphic Design",tags:["design","visual","photoshop","illustrator","creative","art","digital"]},{name:"UI/UX Design",tags:["design","user interface","user experience","wireframing","prototyping","figma","sketch"]},{name:"Digital Marketing",tags:["marketing","social media","seo","content","analytics","advertising","branding"]},{name:"Content Writing",tags:["writing","blogging","copywriting","seo","marketing","creative","communication"]},{name:"Video Editing",tags:["video","editing","premiere","after effects","motion graphics","creative","media"]},{name:"Photography",tags:["photo","camera","lightroom","photoshop","creative","art","visual"]},{name:"Music Production",tags:["music","audio","ableton","logic","fl studio","creative","sound"]},{name:"Language Teaching",tags:["teaching","education","language","communication","tutoring","linguistics"]},{name:"Cooking",tags:["food","culinary","baking","recipes","kitchen","gastronomy"]},{name:"Fitness Training",tags:["fitness","exercise","health","wellness","training","sports"]},{name:"Public Speaking",tags:["communication","presentation","speaking","leadership","confidence"]},{name:"Project Management",tags:["management","leadership","organization","planning","agile","scrum"]},{name:"Data Analysis",tags:["analytics","statistics","excel","python","sql","research"]},{name:"Machine Learning",tags:["ai","artificial intelligence","python","data science","neural networks"]},{name:"Blockchain Development",tags:["cryptocurrency","smart contracts","solidity","web3","decentralized"]},{name:"Game Development",tags:["gaming","unity","unreal","3d","programming","design"]},{name:"3D Modeling",tags:["3d","modeling","blender","maya","zbrush","design"]},{name:"Animation",tags:["motion","after effects","maya","blender","creative","visual"]},{name:"Audio Engineering",tags:["audio","music","sound","recording","mixing","mastering","production"]}],zD=async()=>{try{if((await Hi(pr(Ne,"skills"))).empty){for(const e of jD)await Hb(pr(Ne,"skills"),{name:e.name,tags:e.tags,createdAt:new Date().toISOString()});console.log("Skills collection initialized successfully")}else console.log("Skills collection already exists")}catch(i){console.error("Error initializing skills:",i)}};zD();kw.createRoot(document.getElementById("root")).render(T.jsx(UD,{}));
